(this.webpackJsonpacestore=this.webpackJsonpacestore||[]).push([[0],{204:function(e){e.exports=JSON.parse('{"name":"acestore","homepage":"https://ace-retail-store.herokuapp.com/","version":"0.1.0","private":true,"dependencies":{"@ant-design/icons":"^4.3.0","@apollo/client":"^3.5.8","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","antd":"^4.18.5","axios":"^0.25.0","classnames":"^2.2.6","clean-webpack-plugin":"^3.0.0","copy-webpack-plugin":"^8.0.0","css-loader":"^5.2.0","currency-formatter":"^1.5.9","emailjs-com":"^2.6.4","eslint":"^7.17.0","eslint-config-airbnb":"^18.2.1","eslint-plugin-react":"^7.20.6","fbemitter":"^2.1.1","file-loader":"^6.2.0","font-awesome-sass-loader":"^2.0.1","graphql":"^16.3.0","html-loader":"^2.1.2","html-webpack-plugin":"^5.3.1","jquery":"^3.6.0","lodash":"^4.17.20","mini-css-extract-plugin":"^1.3.9","moment":"^2.29.1","node-sass":"^6.0.1","prop-types":"^15.7.2","react":"^17.0.2","react-dom":"^17.0.2","react-number-format":"^4.9.1","react-redux":"^7.2.2","react-router-dom":"^5.2.0","react-scripts":"4.0.3","redux":"^4.0.5","redux-react-session":"^2.6.1","redux-saga":"^1.1.3","sass-loader":"^11.0.1","style-loader":"^2.0.0","uglifyjs-webpack-plugin":"^2.2.0","url-loader":"^4.1.1","web-vitals":"^1.0.1","webpack-merge":"^5.7.3"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^3.2.3"},"optionalDependencies":{"fsevents":"^2.3.2"}}')},234:function(e,a,t){},27:function(e,a,t){"use strict";(function(e){var t=e.window.localStorage,n={login:function(e){console.log("login data: ",e);var a=e.user,n=e.isSuccess,r=e.token;t.isSuccess=n,t.token=r,t.user=JSON.stringify(a),t.role=a.role},getRole:function(){return t.role},setMenu:function(e){t.menu=JSON.stringify(e)},getMenu:function(){return t.menu&&"undefined"!==t.menu?JSON.parse(t.menu):[]},setKindOfFood:function(e){t.kindOfFood=JSON.stringify(e)},getKindOfFood:function(){return t.kindOfFood&&"undefined"!==t.kindOfFood?JSON.parse(t.kindOfFood):[]},getToken:function(){return t.token},setFoodData:function(e){t.foodData=JSON.stringify(e)},getFoodData:function(){return t.foodData&&"undefined"!==t.foodData?JSON.parse(t.foodData):[]},setMasterData:function(e){t.masterData=JSON.stringify(e)},getMasterData:function(){return t.masterData&&"undefined"!==t.masterData?JSON.parse(t.masterData):[]},setDatalogin:function(e){t.login=JSON.stringify(e)},getDataLogin:function(){return t.login&&"undefined"!==t.login?JSON.parse(t.login):{}},isSuccess:function(){return t.isSuccess},userId:function(){return t.userId},username:function(){return t.userName},role:function(){return t.role},logout:function(){t.clear()}};a.a=n}).call(this,t(89))},311:function(e,a,t){},317:function(e,a,t){},323:function(e,a,t){},324:function(e,a,t){},325:function(e,a,t){},326:function(e,a,t){},327:function(e,a,t){},328:function(e,a,t){},329:function(e,a,t){},330:function(e,a,t){},331:function(e,a,t){},332:function(e,a,t){},333:function(e,a,t){},334:function(e,a,t){},335:function(e,a,t){},336:function(e,a,t){},337:function(e,a,t){},339:function(e,a,t){},340:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t(42),s=t.n(r),c=t(66),i=t(199),o=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,360)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,s=a.getLCP,c=a.getTTFB;t(e),n(e),r(e),s(e),c(e)}))},l=t(15),d=t(16),u=t(20),m=t(21),j=t(90),f=t.n(j),b=t(47),p=t(78),h=t(6),v=t(5),O=t.n(v),g=t(18),x=t.n(g),N=(t(234),t(8)),y=t(2),w=new(t(200).EventEmitter),C=function(e){var a=Object(n.useState)(e),t=Object(h.a)(a,2),r=t[0],s=t[1];return[r,function(e){return s((function(a){var t=x.a.assign(a,e);return Object(y.a)({},t)}))}]},E=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,r=Object(n.useRef)(!0);Object(n.useEffect)((function(){return r.current?r.current=!1:e(),t}),a)},k=t.p+"static/media/bosch-logo-new-flat.e412f7ba.png",D=t(100),S=t(4),T=function(e){var a=Object(b.h)(),t=Object(b.g)(),r=a.pathname,s=C({}),c=Object(h.a)(s,2),i=(c[0],c[1],e.className);Object(n.useEffect)((function(){}),[]);var o=function(e){t.push("/acestore")};return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:O()("supergraphic",i)}),Object(S.jsxs)("div",{className:"bosch-header",children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("img",{src:k,alt:"Bosch ic",className:"bosch-header-logo"}),function(){var e="";switch(r){case"/food-order":e="Food Order";break;case"/history":e="Order History";break;case"/user":e="User"}return Object(S.jsxs)("div",{className:"bosch-header-title",children:[Object(S.jsx)(p.b,{to:"/acestore",onClick:o,children:"Home"}),e?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(D.a,{}),Object(S.jsx)("span",{children:e})]}):null]})}()]}),Object(S.jsx)("div",{className:"bosch-header-group",children:"Canteen - Group 4"})]}),"/acestore"!==r&&Object(S.jsx)(p.b,{to:"/acestore",className:"not-home-back-btn",children:"Go back"})]})};T.defaultProps={className:""};var P=T,F={LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_COMPLETE:"LOGIN_COMPLETE",GET_ALL_DATA_REQUEST:"GET_ALL_DATA_REQUEST",GET_ALL_DATA_COMPLETE:"GET_ALL_DATA_COMPLETE",RELOAD_PAGE_REQUEST:"RELOAD_PAGE_REQUEST",LOGOUT_REQUEST:"LOGOUT_REQUEST",LOGOUT_COMPLETE:"LOGOUT_COMPLETE"},L="https://retail-store-java.herokuapp.com/",R="Your login session has expired, please login again.",A=t(27);function I(e){return{type:F.LOGOUT_REQUEST,data:e}}var q=t(22),M=t(3),U=t(11),B=t.n(U),$=t(53),G=t(211),V=t(357),K=t(218),Q=t(202),H=function(e){var a=e.className,t=e.title;return t?Object(S.jsx)("div",{className:O()("input-title-wrapper",a),children:Object(S.jsx)("span",{children:t})}):null};H.defaultProps={className:"",title:""};var Y=H,J=t(344),Z=t(180),W=t(36),X=t.n(W),z=function(e){var a,t=e.className,n=e.title,r=e.placeholder,s=e.format,c=e.value,i=e.name,o=e.suffixIcon,l=e.type,d=e.disabledDate,u=e.disabled,m=function(a){e.onChange(i,a)};switch(d){case"PAST":a=function(e){return e>X()().endOf("day")};break;case"FUTURE":a=function(e){return e<=X()().endOf("day")}}return Object(S.jsxs)("div",{className:O()("datepicker-ct-wrapper",t),children:[Object(S.jsx)(Y,{title:n}),"TIME"===l?Object(S.jsx)(J.a,{disabled:u,getPopupContainer:function(e){return e.parentElement},suffixIcon:o,placeholder:r,onChange:m,format:s,value:"string"===typeof c&&X()(c).isValid()?X()(c):c||void 0,disabledDate:a}):Object(S.jsx)(Z.a,{disabled:u,getPopupContainer:function(e){return e.parentElement},suffixIcon:o,placeholder:r,onChange:m,format:s,value:"string"===typeof c&&X()(c).isValid()?X()(c):c||void 0,disabledDate:a})]})};z.defaultProps={className:void 0,format:"MM/DD/YYYY",title:"",placeholder:"Select date",onChange:function(){},value:void 0,name:"",disabledDate:void 0,suffixIcon:void 0,type:"DATE",disabled:!1};var ee=z,ae=function(e){var a=e.className,t=e.type,n=e.rows,r=e.placeholder,s=e.title,c=e.disabled,i=e.value,o=e.inputClassName,l=e.maxLength,d=e.prefix,u=e.mask,m=e.format,j=e.decimalScale,f=e.name,b=(e.allowedDecimalSeparators,e.allowLeadingZeros),p=(e.thousandSeparator,e.data,e.mode,e.unitValue,e.onChangeUnit,e.disabledDate),h=e.suffix,v=e.autoComplete,g=(e.supName,e.errMes),x=e.errMesClassName,N=e.absSuffix,y=e.allowNegative,w=(e.isValueOutside,e.isSearchable,e.loadOptions,e.options,e.clearOptions,e.onInputChange,e.titleClassName),C=function(a){e.onChange(f,a.target.value)};return Object(S.jsxs)("div",{className:O()("input-ct-wrapper",a),children:[Object(S.jsx)(Y,{title:s,className:w}),"TEXTAREA"===t?Object(S.jsx)(G.a.TextArea,{value:i,disabled:c,placeholder:r,rows:n,onChange:C}):null,"NUMBER"===t?Object(S.jsx)(Q.a,{mask:u,format:m,value:i,className:O()("basic-number-format",o,g?"err-border":""),disabled:c,onValueChange:function(a){var t=a.value;e.onChange(f,t)},placeholder:r,maxLength:l,decimalScale:j,prefix:d,suffix:h,allowNegative:y,allowLeadingZeros:b}):null,"DATE"===t?Object(S.jsx)(ee,{name:f,placeholder:r,value:i,onChange:e.onChange,disabledDate:p,suffixIcon:h}):null,"text"===t?Object(S.jsx)(G.a,{className:g?"err-border":"",value:i,disabled:c,placeholder:r,onChange:C,prefix:d,suffix:h}):null,"PASSWORD"===t?Object(S.jsx)(G.a.Password,{className:g?"err-border":"",value:i,disabled:c,placeholder:r,onChange:C,iconRender:function(e){return e?Object(S.jsx)(V.a,{}):Object(S.jsx)(K.a,{})},autoComplete:v}):null,g?Object(S.jsx)("div",{className:O()("div-incorrect-mes",x),children:Object(S.jsx)("span",{children:g})}):null,N&&Object(S.jsx)("div",{className:"abs-suffix-ct",children:Object(S.jsx)("span",{children:N})})]})};ae.defaultProps={className:void 0,titleClassName:"",rows:4,type:"text",title:"",placeholder:"Enter...",onChange:function(){},onChangeUnit:function(){},disabled:!1,value:void 0,inputClassName:"",maxLength:20,allowedDecimalSeparators:void 0,decimalScale:void 0,allowLeadingZeros:!1,thousandSeparator:!1,prefix:void 0,suffix:void 0,mask:void 0,format:void 0,name:"",supName:"",data:[],mode:void 0,unitValue:"",disabledDate:void 0,autoComplete:"",errMes:"",errMesClassName:"",absSuffix:"",allowNegative:!1,isValueOutside:!1,isSearchable:!1,loadOptions:function(){},options:[],clearOptions:function(){},onInputChange:function(){}};var te=ae,ne=t(354),re=function(e){return Object(S.jsxs)("div",{className:O()("modal-footer-wrapper",e.className),children:[e.dangerTitle?Object(S.jsx)($.a,{danger:!0,className:e.dangerTitle,onClick:e.onClickDanger,disabled:e.loading,children:e.dangerTitle}):Object(S.jsx)("div",{}),Object(S.jsxs)("div",{className:"modal-footer-buttons",children:[Object(S.jsx)($.a,{className:e.leftBtnClassName,onClick:e.onClickLeftBtn,disabled:e.loading,children:e.leftTitle}),Object(S.jsx)($.a,{type:"primary",onClick:e.onClickRightBtn,disabled:e.disabled,loading:e.loading,children:e.rightTitle})]})]})};re.defaultProps={className:void 0,disabled:!1,loading:!1,leftBtnClassName:"mr8",dangerTitle:"",onClickDanger:function(){}};var se=re,ce=t(67),ie=function(e){var a;return Object(S.jsxs)("div",{className:O()("modal-header-wrapper",e.className),children:[Object(S.jsx)("div",{className:"modal-header-title",children:Object(S.jsx)("span",{children:e.title})}),Object(S.jsx)($.a,(a={ghost:!0,onClick:e.onClick,className:e.btnClassName,disabled:e.loading},Object(M.a)(a,"className","modal-header-close-btn"),Object(M.a)(a,"children",e.btnTitle||Object(S.jsx)(ce.a,{})),a))]})};ie.defaultProps={className:void 0,btnClassName:void 0,btnTitle:"",loading:!1,onClick:function(){}};var oe=ie,le=(t(311),{email:"",username:"",phone:"",address:"",notes:"",destination:"",emailErr:"",usernameErr:"",phoneErr:"",addressErr:"",destinationErr:"",loading:!1,isConfirm:!1}),de=function(e){var a=C(Object(y.a)({},le)),t=Object(h.a)(a,2),r=t[0],s=t[1];Object(n.useEffect)((function(){i||s(Object(y.a)({},le))}),[e.visible]);var c=e.className,i=e.visible,o=e.onClickCancel,l=e.onClick,d=r.email,u=r.username,m=r.emailErr,j=r.usernameErr,f=r.loading,b=r.phone,p=r.address,v=r.notes,g=r.destination,x=r.phoneErr,N=r.addressErr,w=r.destinationErr,E=r.isConfirm,k=function(e,a){var t;s((t={},Object(M.a)(t,e,a),Object(M.a)(t,"emailErr",""),Object(M.a)(t,"usernameErr",""),Object(M.a)(t,"destinationErr",""),Object(M.a)(t,"phoneErr",""),Object(M.a)(t,"addressErr",""),t))},D=function(){var e=Object(q.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E?l(r):s({isConfirm:!0});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(q.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({isConfirm:!1});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(ne.a,{className:"any-customer-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(S.jsxs)("div",{className:O()("any-customer-modal-wrapper",c),children:[Object(S.jsx)(oe,{title:"Customer info",onClick:o}),E?Object(S.jsxs)("div",{className:"any-customer-modal-main",children:[Object(S.jsx)("div",{className:"font-20 b",children:"Your information:"}),Object(S.jsxs)("div",{className:"fr-sb mt-16",children:[Object(S.jsx)("span",{className:"b",children:"Email:"}),Object(S.jsx)("span",{className:"ml-4",children:d})]}),Object(S.jsxs)("div",{className:"fr-sb",children:[Object(S.jsx)("span",{className:"b",children:"Username:"}),Object(S.jsx)("span",{className:"ml-4",children:u})]}),Object(S.jsxs)("div",{className:"fr-sb",children:[Object(S.jsx)("span",{className:"b",children:"Delivery:"}),Object(S.jsx)("span",{className:"ml-4",children:p})]}),Object(S.jsxs)("div",{className:"fr-sb",children:[Object(S.jsx)("span",{className:"b",children:"Phone number:"}),Object(S.jsx)("span",{className:"ml-4",children:b})]}),Object(S.jsxs)("div",{className:"fr-sb",children:[Object(S.jsx)("span",{className:"b",children:"Notes:"}),Object(S.jsx)("span",{className:"ml-4",children:v})]}),Object(S.jsxs)("div",{className:"fr-sb",children:[Object(S.jsx)("span",{className:"b",children:"Destination:"}),Object(S.jsx)("span",{className:"ml-4",children:g})]}),Object(S.jsx)("div",{className:"fcen mt-16 b",children:"Do you want to order now?"})]}):Object(S.jsxs)("div",{className:"any-customer-modal-main",children:[Object(S.jsx)(te,{title:"Email",name:"email",value:d,onChange:k,placeholder:"Enter your email",errMes:m}),Object(S.jsx)(te,{title:"Username",name:"username",value:u,onChange:k,placeholder:"Enter your username",className:"mt-16",errMes:j}),Object(S.jsx)(te,{title:"Address",name:"address",value:p,onChange:k,placeholder:"Enter your address",className:"mt-16",errMes:N}),Object(S.jsx)(te,{title:"Phone number",name:"phone",value:b,onChange:k,placeholder:"Enter your phone number",className:"mt-16",errMes:x,type:"NUMBER",allowLeadingZeros:!0}),Object(S.jsx)(te,{title:"Destination",name:"destination",value:g,onChange:k,placeholder:"Enter destination",errMes:w,className:"mt-16"}),Object(S.jsx)(te,{title:"Notes",name:"notes",value:v,onChange:k,placeholder:"Enter your notes",className:"mt-16",type:"TEXTAREA"})]}),Object(S.jsx)(se,{disabled:!d||!u||!p||!b||!g,leftTitle:E?"Back":"Cancel",rightTitle:E?"Yes":"Order",onClickLeftBtn:E?T:o,onClickRightBtn:D,loading:f})]})})};de.defaultProps={className:void 0,visible:!1,onClickCancel:function(){},onClick:function(){}};var ue,me,je=de,fe="WEIGHT",be="PACKAGE",pe=["0.5 Kg","1.0 Kg","1.5 Kg","2.0 Kg","2.5 Kg","3.0 Kg","3.5 Kg","4.0 Kg"],he=["1 pc","2 pcs","3 psc","4 psc"],ve=["Kg","Package/Dish"],Oe=["Pending","On Going","Done","Cancel"],ge=[0,1e5,2e5,5e5,1e6,2e6,5e6],xe=t(38),Ne=t(39),ye=t(355),we=t(352),Ce=t(133),Ee=t(353),ke=t(206),De=t(207),Se=t(204),Te=new ye.a({addTypename:!1}),Pe={watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}},Fe=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]&&r[0],r.length>1&&void 0!==r[1]&&r[1],e.prev=2,t=A.a.getToken(),n=Object(ke.a)((function(e,a){var n=a.headers;return{headers:Object(y.a)(Object(y.a)({},n),{},{"access-token":t})}})),e.abrupt("return",new we.a({link:n.concat(Ce.a.from([Object(De.a)((function(e){var a=e.graphQLErrors,t=e.networkError;e.response,e.operation,e.forward;if(a)_.map(a,(function(e){var a=e.message,t=e.extensions;console.log({errMes:a}),(_.includes(a,"403")||_.includes(a,"400")||"UNAUTHENTICATED"===t.code)&&w.emit(F.LOGOUT_REQUEST)}));else if(t)throw console.error("[Network error]: ".concat(t)),t})),new Ee.a({uri:L,credentials:"same-origin"})])),cache:Te,defaultOptions:a?void 0:Pe,name:"web",version:Se.version}));case 8:throw e.prev=8,e.t0=e.catch(2),e.t0;case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),Le=new we.a({link:new Ee.a({uri:L,credentials:"same-origin"}),cache:Te,defaultOptions:Pe}),Re=Fe,Ae=Object(Ne.a)(ue||(ue=Object(xe.a)(["\n  query menu {\n    menu {\n      id\n      title\n      name\n      rating\n      price\n      quantityType\n      createdAt\n      image\n    }\n  }\n"]))),Ie=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le.query({query:Ae});case 3:return a=e.sent,t=(null===a||void 0===a?void 0:a.data)||{},n=t.menu,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),qe=Ie,Me=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qe();case 3:return a=e.sent,A.a.setMenu(a),t=[],n=[],r=x.a.groupBy(a,(function(e){return e.title})),Object.keys(r).forEach((function(e){t.push(e),n.push({title:e,data:r[e]})})),A.a.setKindOfFood(t),A.a.setMasterData(n),A.a.setFoodData(void 0),e.abrupt("return",n);case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.quantity.slice(0,3),n=parseFloat(t)*e.price;return n>0&&a.push("".concat(e.name," (").concat(e.price," * ").concat(t,")")),n},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,t=e.quantity.slice(0,1),n=parseFloat(t)*e.price;return n>0&&a.push("".concat(e.name," (").concat(e.price," * ").concat(t,")")),n},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0,t=[];return x.a.forEach(e,(function(e){a+=x.a.sumBy(e.data,(function(e){return e.isBuy?_e(e,t)||Ue(e,t):0}))})),{total:a,cartTags:t}},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.searchName,n=e.rating,r=e.kind,s=e.minPrice,c=e.maxPrice;console.log({searchName:t,rating:n,kind:r,minPrice:s,maxPrice:c});var i=x.a.cloneDeep(a);return x.a.forEach(i,(function(e){e.data=x.a.filter(e.data,(function(e){var a,i=!0;(r&&(i=e.title===r),x.a.isNil(n)||x.a.isNil(e.rating)||(i=i&&e.rating>=n),t)&&(i=i&&(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase())));return x.a.isNil(s)||(i=i&&e.price>=s),x.a.isNil(c)||(i=i&&e.price<=c),i}))})),i},Ge=Object(Ne.a)(me||(me=Object(xe.a)(["\n  mutation signIn($email: String!, $password: String!) {\n    signIn(email: $email, password: $password) {\n      isSuccess\n      data {\n        token\n        user {\n          id\n          username\n          email\n          role\n          signUpDate\n          status\n          gender\n          address\n          phone\n          dob\n        }\n      }\n    }\n  }\n"]))),Ve=function(){var e=Object(q.a)(B.a.mark((function e(a){var t,n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le.mutate({mutation:Ge,variables:a});case 3:return t=e.sent,n=null===t||void 0===t?void 0:t.data,r=n.signIn,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),Ke=Ve,Qe=(t(217),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(String(e.trim()).toLowerCase())}),He=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:{},t=a.email,n=a.password,e.prev=2,e.next=5,Ke({email:t,password:n});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{isSuccess:!1,message:"Incorrect password"});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.email,t=e.password;return Qe(a)?t.length<6?{passwordErr:"Incorrect password"}:{isSuccess:!0}:{emailErr:"Incorrect email"}},Je=function(e){var a=C({email:"tttriet1997@gmail.com",password:"0819541897",emailErr:"",passwordErr:"",loading:!1}),t=Object(h.a)(a,2),r=t[0],s=t[1],c=e.className,i=e.visible,o=e.onClickCancel,l=r.email,d=r.password,u=r.emailErr,m=r.passwordErr,j=r.loading;Object(n.useEffect)((function(){}),[]);var f=function(e,a){var t;s((t={},Object(M.a)(t,e,a),Object(M.a)(t,"emailErr",""),Object(M.a)(t,"passwordErr",""),t))},b=function(){var a=Object(q.a)(B.a.mark((function a(){var t,n;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t=Ye(r)).isSuccess){a.next=10;break}return s({loading:!0}),a.next=5,He(r);case 5:(n=a.sent).isSuccess?(A.a.setDatalogin(n.data.user),e.loginRequest(n.data),o()):alert("Login failed "+n.message),s({loading:!1}),a.next=11;break;case 10:s(t);case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(S.jsx)(ne.a,{className:"login-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(S.jsxs)("div",{className:O()("stop-health-care-modal-wrapper",c),children:[Object(S.jsx)(oe,{title:"Login",onClick:o}),Object(S.jsxs)("div",{className:"login-modal-main",children:[Object(S.jsx)(te,{title:"Email",name:"email",value:l,onChange:f,placeholder:"Enter your email",errMes:u}),Object(S.jsx)(te,{title:"Password",name:"password",value:d,onChange:f,placeholder:"Enter your email",type:"PASSWORD",className:"mt-16",errMes:m})]}),Object(S.jsx)(se,{disabled:!l||!d,leftTitle:"Cancel",rightTitle:"Login",onClickLeftBtn:o,onClickRightBtn:b,loading:j})]})})};Je.defaultProps={className:"",visible:!1,onClickCancel:function(){},loginRequest:function(){}};var Ze,We=Je,Xe=t(156),ze=t.n(Xe),ea=Object(Ne.a)(Ze||(Ze=Object(xe.a)(["\n  mutation signUp(\n    $username: String!\n    $email: String!\n    $password: String!\n    $phone: String\n    $address: String\n  ) {\n    signUp(\n      username: $username\n      email: $email\n      password: $password\n      phone: $phone\n      address: $address\n    ) {\n      isSuccess\n      token\n    }\n  }\n"]))),aa=function(){var e=Object(q.a)(B.a.mark((function e(a){var t,n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le.mutate({mutation:ea,variables:a});case 3:return t=e.sent,n=null===t||void 0===t?void 0:t.data,r=n.signUp,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),ta=aa,na=t(208),ra=t.n(na),sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"VND",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Price:",n="";if("VND"===a)n=ra.a.format(e,{code:"VND"});return"".concat(t," ").concat(n)},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0;return _.forEach(e,(function(e){a+=e.price*e.quantity})),sa(a,void 0,"")},ia=function(){var e,a,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!==n&&void 0!==n&&null!==(e=n.graphQLErrors)&&void 0!==e&&null!==(a=e[0])&&void 0!==a&&null!==(t=a.message)&&void 0!==t&&t.includes("E11000 duplicate key error")?"Email already existed!":""},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.email,t=e.password,n=e.confirmPassword,r=(e.username,e.phone),s=(e.address,e.loading,e.isStep1);return s?t.length<6?{passwordErr:"Password must have 6 or more characters"}:t!==n?{confirmPasswordErr:"Confirm password is not match"}:Qe(a)?{isStep1:!1}:{emailErr:"Incorrect email format"}:r.length<9?{}:{finish:!0}},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.email,t=e.password,n=e.confirmPassword,r=e.username,s=e.phone,c=e.address,i=(e.notes,e.loading,e.isStep1);if(i){if(!a||!t||!n)return!0}else if(!r||!s||!c)return!0;return!1},da=function(){var e=Object(q.a)(B.a.mark((function e(a){var t,n,r,s,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({data:a}),t=a.email,n=a.username,r=a.password,s=a.phone,c=a.address,e.prev=2,e.next=5,ta({email:t,username:n,password:r,phone:s,address:c});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),console.log("Failed to create user: ",e.t0),e.abrupt("return",{isSuccess:!1,message:ia(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(a){return e.apply(this,arguments)}}(),ua={email:"tttriet19971@gmai.com",password:"123456",confirmPassword:"123456",username:"Ace 1",phone:"0819541897",address:"329 LVL",emailErr:"",passwordErr:"",confirmPasswordErr:"",usernameErr:"",phoneErr:"",addressErr:"",loading:!1,isStep1:!0},ma=function(e){var a=C(Object(y.a)({},ua)),t=Object(h.a)(a,2),r=t[0],s=t[1],c=e.className,i=e.visible,o=e.onClickCancel,l=r.email,d=r.password,u=r.confirmPassword,m=r.username,j=r.phone,f=r.address,b=r.emailErr,p=r.passwordErr,v=r.confirmPasswordErr,g=r.usernameErr,N=r.phoneErr,w=r.addressErr,E=r.loading,k=r.isStep1;Object(n.useEffect)((function(){i||s(Object(y.a)({},ua))}),[i]);var D=function(e,a){var t=Object(M.a)({},e,a);k?(x.a.assign(t,{emailErr:"",passwordErr:"",confirmPasswordErr:""}),s(t)):(x.a.assign(t,{usernameErr:"",phoneErr:"",addressErr:""}),s(t))},T=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=oa(r)).finish){e.next=11;break}return t={loading:!1},s({loading:!0}),e.next=6,da(r);case 6:(n=e.sent).isSuccess?(alert("Successfully creating user!"),o()):alert("Failed to create user: "+n.message),s(t),e.next=12;break;case 11:s(a);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(ne.a,{className:"register-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(S.jsxs)("div",{className:O()("register-modal-wrapper",c),children:[Object(S.jsx)(oe,{title:"Register step ".concat(k?"1":"2","/2"),onClick:o}),Object(S.jsx)("div",{className:"register-modal-main",children:k?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(te,{title:"Email",name:"email",value:l,onChange:D,placeholder:"Enter your email",errMes:b}),Object(S.jsx)(te,{title:"Password",name:"password",value:d,onChange:D,placeholder:"Enter your email",type:"PASSWORD",className:"mt-16",errMes:p}),Object(S.jsx)(te,{title:"Confirm password",name:"confirmPassword",value:u,onChange:D,placeholder:"Enter your confirm password",type:"PASSWORD",className:"mt-16",errMes:v})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(te,{title:"Username",name:"username",value:m,onChange:D,placeholder:"Enter your username",errMes:g}),Object(S.jsx)(te,{title:"Phone number",name:"phone",value:j,onChange:D,placeholder:"Enter your phone number",className:"mt-16",type:"NUMBER",errMes:N,allowLeadingZeros:!0}),Object(S.jsx)(te,{title:"Address",name:"address",value:f,onChange:D,placeholder:"Enter your address",className:"mt-16",errMes:w})]})}),Object(S.jsx)(se,{disabled:la(r),leftTitle:k?"Cancel":"Back to step 1",rightTitle:k?"Next":"Finish",onClickLeftBtn:k?o:function(){s({isStep1:!0})},onClickRightBtn:T,loading:E})]})})};ma.defaultProps={className:"",visible:!1,onClickCancel:function(){}};var ja=ma,fa=function(e){var a=Object(b.g)(),t=Object(b.h)(),r=C({visibleLogin:!1,visibleRegister:!1}),s=Object(h.a)(r,2),c=s[0],i=s[1],o=e.className,l=c.visibleLogin,d=c.visibleRegister,u=function(){i({visibleLogin:!l})},m=function(){i({visibleRegister:!d})},j=A.a.getDataLogin(),f=j.isVerify,p=void 0===f||f,v=j.username;return Object(n.useEffect)((function(){x.a.isEmpty(e.login)&&x.a.isEmpty(A.a.getDataLogin())&&(console.log("No current user"),i({}))}),[e.login]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:O()("home-header",o),children:Object(S.jsx)("div",{className:"home-header-btns",children:v?Object(S.jsxs)(S.Fragment,{children:[!p&&Object(S.jsx)($.a,{type:"link",onClick:function(){},className:"home-header-active-account-btn",children:"Activate account"}),Object(S.jsx)($.a,{type:"link",onClick:function(){"/user"!==t.pathname&&a.push("/user")},className:"home-header-username-btn",children:v}),Object(S.jsx)($.a,{type:"link",onClick:function(){"/history"!==t.pathname&&a.push("/history")},className:"home-header-username-btn",children:"History"}),Object(S.jsx)($.a,{type:"link",onClick:function(){A.a.logout(),e.logoutRequest(),a.push("/acestore"),i({})},className:"home-header-logout-btn",children:"Logout"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)($.a,{type:"link",onClick:u,className:"home-header-login-btn",children:"Login"}),Object(S.jsx)($.a,{type:"link",onClick:m,className:"home-header-register-btn",children:"Register"})]})})}),Object(S.jsx)(We,{visible:l,onClickCancel:u,loginRequest:e.loginRequest}),Object(S.jsx)(ja,{visible:d,onClickCancel:m})]})};fa.defaultProps={className:""};var ba={loginRequest:function(e){return{type:F.LOGIN_REQUEST,data:e}},logoutRequest:I},pa=Object(c.b)((function(e){return{login:e.login}}),ba)(fa),ha=t(350),va=(t(317),function(e){Object(n.useEffect)((function(){}),[]);var a=e.loading,t=e.columns,r=e.className,s=e.rowKey,c=(e.name,e.totalData),i=e.onRowClick;return Object(S.jsx)(ha.a,{rowKey:s,className:O()(r,"antd-table"),dataSource:c,onRow:function(e,a){return{onClick:function(t){i(a,e)}}},pagination:!1,columns:t,loading:a})});va.defaultProps={name:"",className:void 0,onRowClick:function(){},shouldHideNextButton:!1,fetchData:function(){},loading:!1,sorter:{},shouldShowAllData:!1,handleChangePage:function(){},isNoPagination:!1,page:1,sticky:!1};var Oa=va,ga=t(210),xa=(t(323),function(e){var a=e.className;return Object(S.jsx)("div",{className:O()("loading",a),children:Object(S.jsx)(ga.a,{})})});xa.defaultProps={className:""};var Na,ya,wa=xa,Ca=Object(Ne.a)(Na||(Na=Object(xe.a)(["\n  mutation createAnyCustomerOrder($input: AnyCustomerOrderInput!) {\n    createAnyCustomerOrder(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Ea=function(){var e=Object(q.a)(B.a.mark((function e(a){var t,n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le.mutate({mutation:Ca,variables:a});case 3:return t=e.sent,n=null===t||void 0===t?void 0:t.data,r=n.createAnyCustomerOrder,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),ka=Ea,Da=Object(Ne.a)(ya||(ya=Object(xe.a)(["\n  mutation createOrder($input: [OrderInput]!) {\n    createOrder(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Sa=function(){var e=Object(q.a)(B.a.mark((function e(a){var t,n,r,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re();case 3:return t=e.sent,e.next=6,t.mutate({mutation:Da,variables:a});case 6:return n=e.sent,r=(null===n||void 0===n?void 0:n.data)||{},s=r.createOrder,e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),Ta=Sa,Pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[],t=1;return _.forEach(e,(function(e){_.forEach(e.data||[],(function(e){e.isBuy&&(a.push(Object(y.a)(Object(y.a)({},e),{},{index:t})),t+=1)}))})),a},Fa=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r,s,c,i=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:[],t=i.length>1&&void 0!==i[1]?i[1]:"",n=i.length>2&&void 0!==i[2]?i[2]:"",r=i.length>3&&void 0!==i[3]?i[3]:"",s=a.map((function(e){return{food:e.id,quantity:parseFloat(e.quantity.slice(0,3)),email:t,notes:n,status:"Pending",price:e.price,destination:r}})),console.log({sendingData:s,foodData:a}),e.prev=6,e.next=9,Ta({input:s});case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(6),console.log("Failed to create order: ",{error:e.t0}),e.abrupt("return",{isSuccess:!1,message:e.t0});case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}(),La=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r,s,c,i,o,l,d,u=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>0&&void 0!==u[0]?u[0]:[],t=u.length>1&&void 0!==u[1]?u[1]:{},n=t.email,r=t.username,s=t.address,c=t.phone,i=t.notes,o=t.destination,l=a.map((function(e){return{food:e.id,quantity:parseFloat(e.quantity.slice(0,3)),email:n,notes:i,status:"Pending",price:e.price,destination:o}})),d={orders:l,customer:{email:n,username:r,address:s,phone:c,password:c}},e.prev=6,e.next=9,ka({input:d});case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",{isSuccess:!1,message:e.t0});case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),Ra=(t(324),function(e){var a=Object(b.h)(),t=Object(b.g)(),n=C({foodData:Pa(a.state),anyCustomerVisible:!1,notes:"",destination:"",loading:!1}),r=Object(h.a)(n,2),s=r[0],c=r[1],i=e.className,o=s.foodData,l=s.anyCustomerVisible,d=s.notes,u=s.destination,m=s.loading,j=Be(a.state).total,f=A.a.getDataLogin(),p=f.address,v=f.phone,g=f.email,N=function(e,a){c(Object(M.a)({},e,a))},y=function(){var e=Object(q.a)(B.a.mark((function e(){var a,n,r,s=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:{},c({loading:!0}),e.next=4,La(o,a);case 4:n=e.sent,r={loading:!1},n.isSuccess?(alert("Successfully creating order!"),A.a.setFoodData(void 0),x.a.assign(r,{anyCustomerVisible:!1}),setTimeout((function(){t.push("/acestore")}),300)):alert("Failed to create order: ",n.message),c(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(q.a)(B.a.mark((function e(){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p&&v&&g){e.next=3;break}return c({anyCustomerVisible:!0}),e.abrupt("return");case 3:return c({loading:!0}),e.next=6,Fa(o,g,d,u);case 6:(a=e.sent).isSuccess?(alert("Successfully creating order!"),A.a.setFoodData(void 0),t.push("/acestore")):alert("Failed to create order: ",a.message),c({loading:!1});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:O()("food-order",i),children:[Object(S.jsx)(pa,{}),Object(S.jsxs)("div",{className:"food-order-body",children:[Object(S.jsxs)("div",{className:"food-order-body-toper",children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("span",{className:"b",children:"Payment Options:"}),Object(S.jsx)("span",{className:"ml-4",children:"Cash - When receiving"})]}),Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("span",{className:"b",children:"Total:"}),Object(S.jsx)("span",{className:"ml-4",children:sa(j,void 0,"")})]})]}),Object(S.jsxs)("div",{className:"food-order-body-toper",children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("span",{className:"b",children:"Delivery:"}),Object(S.jsx)("span",{className:"ml-4",children:p})]}),Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("span",{className:"b",children:"Contact at:"}),Object(S.jsx)("span",{className:"ml-4",children:v})]})]}),g&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(te,{titleClassName:"b",title:"Destination",name:"destination",value:u,onChange:N,placeholder:"Enter your notes",className:"mt-16"}),Object(S.jsx)(te,{titleClassName:"b",title:"Notes",name:"notes",value:d,onChange:N,placeholder:"Enter your notes",className:"mt-16",type:"TEXTAREA"})]}),Object(S.jsxs)("div",{className:"food-order-body-btns",children:[Object(S.jsx)($.a,{onClick:function(){t.push("/acestore")},children:"Back"}),Object(S.jsx)($.a,{type:"primary",onClick:w,children:"Confirm"})]}),Object(S.jsx)(Oa,{className:"mt-48",rowKey:"id",totalData:o,columns:[{title:"No.",dataIndex:"index"},{title:"Name",dataIndex:"name"},{title:"Price",dataIndex:"price",render:function(e){return sa(e,void 0,"")}},{title:"Quantity",dataIndex:"quantity"}]})]}),Object(S.jsx)(je,{visible:l,onClickCancel:function(){c({anyCustomerVisible:!l})},onClick:y}),m&&Object(S.jsx)(wa,{})]})});Ra.defaultProps={className:""};var Aa=Object(c.b)((function(e){return{login:e.login}}),{})(Ra),Ia=t(356),qa=t(162),Ma=t(85),Ua=function(e){var a=e.className,t=e.data,n=e.type,r=e.title,s=e.value,c=e.textClass,i=e.onChange,o=e.titleClassName,l=e.radioItemClassName,d=e.name,u=e.isObj,m=e.loading,j=e.disabled,f="mt18",b="",p=o;switch(n){case"QUESTION":f="mt8",b="question-item-normal",p="question-title";break;case"SCORE":b="score-ct",f="";break;case"BIG":b="big-margin";break;case"NONE":f="mt12",b="fw-normal"}return Object(S.jsxs)("div",{className:O()("radio-ct",a),children:[Object(S.jsx)(Y,{title:r,className:p}),m?Object(S.jsx)("div",{children:Object(S.jsx)(ga.a,{indicator:Object(S.jsx)(Ma.a,{spin:!0})})}):Object(S.jsx)(qa.a.Group,{onChange:function(e){return i(d,e.target.value)},value:s,disabled:j,children:u?x.a.map(t,(function(e,a){return Object(S.jsxs)("div",{className:O()("radio-item",l),children:[Object(S.jsx)(qa.a,{value:e,className:O()(f,b,c,e.content?"fw-600":""),children:e.title}),e.content?Object(S.jsx)("div",{className:"radio-content",children:Object(S.jsx)("span",{children:e.content})}):null]},a)})):x.a.map(t,(function(e,a){return Object(S.jsx)(qa.a,{value:e,children:e},e)}))})]})};Ua.defaultProps={name:"",className:"",textClass:"",titleClassName:"",radioItemClassName:"",onChange:function(){},data:[],type:"SCORE",title:"",value:void 0,isObj:!1,loading:!1,disabled:!1};var _a,Ba=Ua,$a=Object(Ne.a)(_a||(_a=Object(xe.a)(["\n  mutation changeOrderStatus($status: String!, $orderId: ID!) {\n    changeOrderStatus(status: $status, orderId: $orderId) {\n      isSuccess\n      message\n    }\n  }\n"]))),Ga=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r,s,c=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,Re();case 4:return t=e.sent,e.next=7,t.mutate({mutation:$a,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.changeOrderStatus,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Va=Ga,Ka=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r,s=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:"",t=s.length>1&&void 0!==s[1]?s[1]:"",n={status:t,orderId:a},e.prev=3,e.next=6,Va(n);case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(3),{isSuccess:!1,message:e.t0};case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),Qa=(t(325),function(e){var a=C({loading:!1}),t=Object(h.a)(a,2),n=t[0],r=t[1],s=e.visible,c=e.className,i=e.data,o=e.onClose,l=e.onUpdateFoodOrder,d=i.date,u=i.status,m=i.foodOrderId,j=i.notes,f=i.destination,b=n.loading,p=function(){var a=Object(q.a)(B.a.mark((function a(t,n){return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(m&&n){a.next=2;break}return a.abrupt("return");case 2:return r({loading:!0}),a.prev=3,a.next=6,Ka(m,n);case 6:a.sent.isSuccess&&l(x.a.assign(e.data,{status:n})),r({loading:!1}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),r({loading:!1});case 14:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e,t){return a.apply(this,arguments)}}();return Object(S.jsx)(Ia.a,{title:"Food order",placement:"right",width:400,closeIcon:Object(S.jsx)(ce.a,{className:"color-gray-9"}),onClose:o,visible:s,className:"food-order-drawer",maskClosable:!1,children:Object(S.jsxs)("div",{className:O()("food-order-drawer-wrapper",c),children:[Object(S.jsxs)("div",{className:"food-order-drawer-created-at",children:[Object(S.jsx)("span",{className:"b mr-4",children:"Created at: "}),Object(S.jsx)("span",{children:X()(d).format("HH:mm, DD/MM/YY")})]}),Object(S.jsxs)("div",{className:"food-order-drawer-total",children:[Object(S.jsx)("span",{className:"b mr-4",children:"Total: "}),Object(S.jsx)("span",{children:i.total||""})]}),Object(S.jsx)(Ba,{data:Oe,value:u,title:"Status:",titleClassName:"b pos-re",className:"mt-16 mb-16",onChange:p,loading:b,disabled:!e.isEditable}),Object(S.jsx)("div",{className:"mt-16",children:Object(S.jsx)("span",{className:"b",children:"Food list: "})}),x.a.map(i.data||[],(function(e,a){return Object(S.jsx)("div",{className:"food-order-drawer-row",children:"".concat(a+1,": ").concat(e.name," - Price: ").concat(sa(e.price,void 0,"")," - Quantity: ").concat(e.quantity)},a)})),Object(S.jsx)("div",{className:"mt-16",children:Object(S.jsx)("span",{className:"b",children:"Destination: "})}),Object(S.jsx)("div",{className:"food-order-drawer-notes",children:f||""}),Object(S.jsx)("div",{className:"mt-16",children:Object(S.jsx)("span",{className:"b",children:"Notes: "})}),Object(S.jsx)("div",{className:"food-order-drawer-notes",children:j||""})]})})});Qa.defaultProps={className:"",data:{},visible:!1,toggleClick:function(){},onClose:function(){},onUpdateFoodOrder:function(){},isEditable:!0};var Ha=Qa,Ya=(t(326),function(e){var a=e.className,t=e.cell,n="--pending";switch(t){case Oe[0]:n="--pending";break;case Oe[1]:n="--on-going";break;case Oe[2]:n="--done";break;case Oe[3]:n="--cancel"}return Object(S.jsx)("div",{className:O()("display-status",a),children:Object(S.jsx)("span",{className:n,children:t})})});Ya.defaultProps={className:"",cell:""};var Ja=Ya,Za=(t(327),function(e){var a=C({foodOrderData:{}}),t=Object(h.a)(a,2),n=t[0],r=t[1],s=e.className,c=e.data,i=n.foodOrderData;return Object(S.jsxs)("div",{className:O()("admin-order-table",s),children:[0===c.length?Object(S.jsx)("div",{className:"no-data",children:"There is no data to display"}):Object(S.jsx)(Oa,{className:"mt-16",rowKey:"index",totalData:c,columns:[{title:"Date",dataIndex:"date",render:function(e){return X()(e).format("HH:mm")}},{title:"Username",dataIndex:"username"},{title:"Total",dataIndex:"total"},{title:"Address",dataIndex:"address"},{title:"Phone number",dataIndex:"phone"},{title:"Status",dataIndex:"status",render:function(e){return Object(S.jsx)(Ja,{cell:e})}}],onRowClick:function(e,a){console.log({record:a}),r({foodOrderData:a})}}),Object(S.jsx)(Ha,{visible:!x.a.isEmpty(i),data:i,onClose:function(){r({foodOrderData:{}})},onUpdateFoodOrder:function(e){r({foodOrderData:e})},isEditable:e.isEditable})]})});Za.defaultProps={className:"",data:[],date:void 0,fetchHistory:function(){},isShow:!1,status:"",notes:"",isEditable:!0};var Wa,Xa,za,et,at=Za,tt=Object(Ne.a)(Wa||(Wa=Object(xe.a)(["\n  {\n    id\n    title\n    name\n    rating\n    price\n    quantityType\n    createdAt\n  }\n"]))),nt=Object(Ne.a)(Xa||(Xa=Object(xe.a)(["\n  {\n    id\n    food\n    quantity\n    createdAt\n    email\n    notes\n    status\n    price\n    destination\n  }\n"]))),rt=Object(Ne.a)(za||(za=Object(xe.a)(["\n  {\n    id\n    username\n    email\n    role\n    signUpDate\n    status\n    gender\n    address\n    phone\n    dob\n    isVerified\n  }\n"]))),st=Object(Ne.a)(et||(et=Object(xe.a)(["\n  query orderHistory($date: String!, $isAll: Boolean) {\n    orderHistory(date: $date, isAll: $isAll) {\n      food {\n        ...","\n      }\n      foodOrder {\n        ...","\n      }\n      user {\n        ...","\n      }\n    }\n  }\n"])),tt,nt,rt),ct=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r,s,c=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,Re();case 4:return t=e.sent,e.next=7,t.query({query:st,variables:a});case 7:return n=e.sent,r=(null===n||void 0===n?void 0:n.data)||{},s=r.orderHistory,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),it=ct,ot=function(e,a){var t,n,r,s;return{name:(null===e||void 0===e||null===(t=e.food)||void 0===t?void 0:t.name)||"",price:(null===e||void 0===e||null===(n=e.food)||void 0===n?void 0:n.price)||"",food:(null===e||void 0===e||null===(r=e.food)||void 0===r?void 0:r.id)||"",quantity:(null===e||void 0===e||null===(s=e.foodOrder)||void 0===s?void 0:s.quantity)||""}},lt=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r,s,c,i,o=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>0&&void 0!==o[0]?o[0]:{},t=a.currentDate,n=a.email,r={date:X()(t).format("DD/MM/YYYY"),email:n},e.next=5,it(r);case 5:return s=e.sent,c=[],i=_.groupBy(s,(function(e){var a;return null===e||void 0===e||null===(a=e.foodOrder)||void 0===a?void 0:a.createdAt})),Object.keys(i).forEach((function(e,a){var t,n,r,s,o,l,d,u,m,j,f,b,p,h,v,O,g,x,N,y,w,C,E,k=_.map(i[e],(function(e,a){return ot(e)}));c.push({index:a,date:e,data:k,notes:(null===(t=i[e])||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.foodOrder)||void 0===r?void 0:r.notes)||"",destination:(null===(s=i[e])||void 0===s||null===(o=s[0])||void 0===o||null===(l=o.foodOrder)||void 0===l?void 0:l.destination)||"",status:(null===(d=i[e])||void 0===d||null===(u=d[0])||void 0===u||null===(m=u.foodOrder)||void 0===m?void 0:m.status)||"",username:(null===(j=i[e])||void 0===j||null===(f=j[0])||void 0===f||null===(b=f.user)||void 0===b?void 0:b.username)||"",total:ca(k),address:(null===(p=i[e])||void 0===p||null===(h=p[0])||void 0===h||null===(v=h.user)||void 0===v?void 0:v.address)||"",phone:(null===(O=i[e])||void 0===O||null===(g=O[0])||void 0===g||null===(x=g.user)||void 0===x?void 0:x.phone)||"",user:(null===(N=i[e])||void 0===N||null===(y=N[0])||void 0===y?void 0:y.user)||{},foodOrderId:(null===(w=i[e])||void 0===w||null===(C=w[0])||void 0===C||null===(E=C.foodOrder)||void 0===E?void 0:E.id)||""})})),e.abrupt("return",_.orderBy(c,[function(e){return X()(e.date).valueOf()}],["desc"]));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=(t(328),function(e){var a=C({data:[],currentDate:X()(),loading:!0}),t=Object(h.a)(a,2),r=t[0],s=t[1],c=e.className,i=r.currentDate,o=r.data,l=r.loading,d=function(){var a=Object(q.a)(B.a.mark((function a(){var t;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i){a.next=2;break}return a.abrupt("return");case 2:return s({loading:!0}),a.prev=3,a.next=6,lt({currentDate:i,isAll:e.isAll});case 6:t=a.sent,s({data:t,loading:!1}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),s({loading:!1});case 13:case"end":return a.stop()}}),a,null,[[3,10]])})));return function(){return a.apply(this,arguments)}}();Object(n.useEffect)((function(){d()}),[i]);return Object(S.jsxs)("div",{className:O()("customer-orders",c),children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)(ee,{className:"customer-orders-cur-date",placeholder:"Choose date",value:i,onChange:function(e,a){s(Object(M.a)({},e,a))},name:"currentDate"}),Object(S.jsx)("div",{className:"customer-orders-date",children:X()(i||void 0).format("dddd, MMMM DD, YYYY")})]}),Object(S.jsx)(at,{data:o,isEditable:e.isAll}),l&&Object(S.jsx)(wa,{})]})});dt.defaultProps={className:"",isAll:!1};var ut=dt,mt=(t(329),function(e){Object(b.h)();var a=Object(b.g)(),t=e.className;return Object(n.useEffect)((function(){A.a.isSuccess()||(console.log({login:e.login,auth:A.a.isSuccess()}),a.push("/acestore"),setState({}))}),[e.login]),Object(S.jsxs)("div",{className:O()("history",t),children:[Object(S.jsx)(pa,{}),Object(S.jsx)("div",{className:"history-body",children:Object(S.jsx)(ut,{isAll:!1})})]})});mt.defaultProps={className:""};var jt=Object(c.b)((function(e){return{login:e.login}}),{})(mt),ft=t(216),bt=(t(330),t.p+"static/media/star.4cc7b7cd.svg"),pt=t.p+"static/media/star-inactive.7f719452.svg",ht=t(130),vt=(t(331),ht.a.Option),Ot=function(e){var a=Object(n.useRef)(void 0),t=e.className,r=e.placeholder,s=e.data,c=e.title,i=e.showSearch,o=e.defaultValue,l=e.isValueOutside,d=e.value,u=e.mode,m=e.suffixIcon,j=e.name,f=e.disabled,b=e.isObject;return Object(S.jsxs)("div",{className:O()("select-ct-wrapper",t),children:[Object(S.jsx)(Y,{title:c}),Object(S.jsx)(ht.a,{getPopupContainer:function(e){return e.parentElement},disabled:f,ref:a,suffixIcon:m,mode:u,defaultValue:o,value:l?[]:b?(null===d||void 0===d?void 0:d.label)||void 0:d,showSearch:i,placeholder:r,optionFilterProp:"children",onChange:function(t){e.onChange(j,t),a.current.blur()},onSearch:i?function(a){e.onSearch(j,a)}:void 0,filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:b?x.a.map(s,(function(e,a){return Object(S.jsx)(vt,{value:e.label,children:e.label},a)})):x.a.map(s,(function(e,a){return Object(S.jsx)(vt,{value:e,children:e},a)}))})]},"select-ct-wrapper-".concat(e.name))};Ot.defaultProps={className:void 0,title:"",placeholder:"Select...",data:[],onChange:function(){},onSearch:function(){},showSearch:!0,defaultValue:void 0,isValueOutside:!1,mode:void 0,value:[],suffixIcon:void 0,name:"",disabled:!1,isObject:!1};var gt=Ot,xt=(t(332),function(e){var a=e.className,t=e.rating,n=e.onClick,r=e.isButton,s=null===n,c=s?"cur-not-allowed":"cur-pointer";return Object(S.jsx)("div",{className:O()("display-rating",a),children:r?Object(S.jsxs)(S.Fragment,{children:[x.a.map(x.a.range(t),(function(e,a){return Object(S.jsx)("button",{className:"bas-btn ".concat(c),onClick:function(){return n(a+1)},disabled:s,children:Object(S.jsx)("img",{src:bt,alt:"Star ic"})},e)})),x.a.map(x.a.range(5-t),(function(e,a){return Object(S.jsx)("button",{className:"bas-btn ".concat(c),onClick:function(){return n(t+a+1)},disabled:s,children:Object(S.jsx)("img",{src:pt,alt:"Star inactive ic"})},e)}))]}):Object(S.jsxs)(S.Fragment,{children:[x.a.map(x.a.range(t),(function(e){return Object(S.jsx)("img",{src:bt,alt:"Star ic",className:"mr-2"},e)})),x.a.map(x.a.range(5-t),(function(e,a){return Object(S.jsx)("img",{src:pt,alt:"Star ic",className:4-t!==e?"mr-2":""},a)}))]})})});xt.defaultProps={className:"",onClick:function(){},rating:1,isButton:!1};var Nt=xt,yt=function(e){var a=Object(n.useRef)(void 0),t=C({searchName:"",rating:0,kind:void 0,minPrice:void 0,maxPrice:void 0}),r=Object(h.a)(t,2),s=r[0],c=r[1],i=e.className,o=e.onFilterFood,l=function(e,a){c(Object(M.a)({},e,a))},d=s.searchName,u=s.rating,m=s.kind,j=s.minPrice,f=s.maxPrice;return E((function(){a.current&&clearTimeout(a.current),a.current=setTimeout((function(){o(s)}),200)}),[d,u,m,j,f]),Object(S.jsxs)("div",{className:O()("filter-block",i),children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("div",{className:"filter-block-title",children:"Search:"}),Object(S.jsx)(te,{name:"searchName",value:d,onChange:l,className:"filter-block-search"}),Object(S.jsx)("div",{className:"filter-block-star",children:"Stars:"}),Object(S.jsx)(Nt,{rating:u,isButton:!0,onClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e!==s.rating?c({rating:e}):c({rating:0})},className:"filter-block-star-dis"})]}),Object(S.jsxs)("div",{className:"filter-block-row",children:[Object(S.jsx)(gt,{name:"kind",value:m,onChange:l,className:"w-160",title:"Kind of food:",data:A.a.getKindOfFood()||[]}),Object(S.jsx)(gt,{name:"minPrice",value:j,onChange:l,title:"Min price:",className:"ml-48 w-160",type:"NUMBER",data:x.a.filter(ge,(function(e){return!f||e<f}))}),Object(S.jsx)(gt,{name:"maxPrice",value:f,onChange:l,title:"Max price:",className:"ml-48 w-160",type:"NUMBER",data:x.a.filter(ge,(function(e){return!j||e>j}))})]})]})};yt.defaultProps={className:"",onFilterFood:function(){}};var wt=yt,Ct=(t(333),function(e){var a=e.visible,t=e.className,n=e.toggleClick,r=(e.loading,e.data),s=r.name,c=r.price,i=r.image,o=r.rating;return Object(S.jsx)(ne.a,{className:"food-info-modal",visible:a,closable:!1,footer:null,destroyOnClose:!0,centered:!0,onCancel:n,children:Object(S.jsxs)("div",{className:O()("food-info-modal-wrapper",t),children:[Object(S.jsx)(oe,{title:s,onClick:n}),Object(S.jsxs)("div",{className:"food-info-modal-main",children:[Object(S.jsx)("img",{src:i,alt:"Food card img"}),Object(S.jsxs)("div",{className:"fr-sb mt-16",children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("span",{className:"b",children:"Rating:"}),Object(S.jsx)(Nt,{rating:o,className:"ml-4"})]}),Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("span",{className:"b",children:"Price:"}),Object(S.jsx)("span",{className:"ml-4",children:sa(c,void 0,"")})]})]})]})]})})});Ct.defaultProps={className:"",data:{},loading:!1,visible:!1,toggleClick:function(){}};var Et=Ct,kt=(t(334),function(e){var a=C({name:e.name,price:e.price,rating:e.rating,isBuy:e.isBuy,quantity:e.quantity?e.quantity:e.quantityType===fe?pe[0]:he[0],quantityType:e.quantityType,visibleFoodInfo:!1}),t=Object(h.a)(a,2),n=t[0],r=t[1],s=e.className,c=e.quantityType,i=e.image,o=e.unit,l=e.onChangeCart,d=n.name,u=n.price,m=n.rating,j=n.isBuy,f=n.quantity,b=n.visibleFoodInfo;E((function(){l(n)}),[j,f]),E((function(){r({isBuy:e.isBuy})}),[e.isBuy]);var p=function(){r({isBuy:!j})},v=function(){r({visibleFoodInfo:!b})};return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:O()("food-card",j&&"food-card-active",s),children:[i?Object(S.jsx)("div",{className:"food-card-img",onClick:p,children:Object(S.jsx)("img",{src:i,alt:"Food card img",className:"food-card-img-dis"})}):Object(S.jsx)("div",{className:"food-card-img",onClick:p}),Object(S.jsxs)("div",{className:"food-card-info",children:[Object(S.jsx)("div",{className:"food-card-info-name",children:d}),Object(S.jsxs)("div",{className:"fr-sb",children:[Object(S.jsxs)("div",{className:"food-card-info-col",children:[Object(S.jsx)("div",{className:"food-card-info-col-price",children:sa(u,o)}),Object(S.jsx)(gt,{disabled:!j,name:"quantity",showSearch:!1,className:"mt-4",value:f,onChange:function(e,a){r(Object(M.a)({},e,a))},data:c===fe?pe:he})]}),Object(S.jsxs)("div",{className:"food-card-info-col",children:[Object(S.jsx)(Nt,{rating:m,className:"food-card-info-col-rating"}),Object(S.jsx)($.a,{className:"mt-10",onClick:v,children:"More info"})]})]})]}),j&&Object(S.jsx)("div",{className:"food-card-isbuy",children:"Buy"})]}),Object(S.jsx)(Et,{visible:b,toggleClick:v,data:{name:d,rating:m,price:u,image:i}})]})});kt.defaultProps={className:"",name:"",price:0,rating:3,isBuy:!1,quantity:"",quantityType:fe,image:"",unit:"VND",onChangeCart:function(){}};var Dt=kt,St=function(e){var a=Object(n.useRef)(void 0),t=Object(n.useRef)(void 0),s=C({isShow:e.isShow}),c=Object(h.a)(s,2),i=c[0],o=c[1],l=e.className,d=e.data,u=e.title,m=e.onChangeCart,j=i.isShow;Object(n.useEffect)((function(){if(!j){var e=Object(r.findDOMNode)(a.current);ze()(e).slideUp("slow")}}),[]);return Object(S.jsxs)("div",{className:O()("food-table",l),children:[Object(S.jsx)("div",{className:"food-table-title",children:Object(S.jsx)("span",{children:u})}),Object(S.jsx)("div",{ref:a,children:Object(S.jsx)("div",{className:"food-table-wrap",children:x.a.map(d,(function(e,a){return Object(S.jsx)(Dt,Object(y.a)(Object(y.a)({},e),{},{onChangeCart:function(e){return m(e,u)},className:"mr-24 mt-24"}),a)}))})}),Object(S.jsx)("div",{className:"food-table-ender"}),Object(S.jsx)($.a,{type:"link",onClick:function(){t.current&&clearTimeout(t.current),t.current=setTimeout((function(){var e=Object(r.findDOMNode)(a.current);e&&ze()(e).slideToggle("slow"),o({isShow:!j})}),200)},className:"food-table-show-btn",children:j?"Hide":"Show"})]})};St.defaultProps={className:"",data:[],title:"",onChangeCart:function(){},isShow:!1};var Tt=St,Pt=function(e){var a=e.className,t=e.total,n=e.onClickBuy,r=e.onClickReset;return Object(S.jsxs)("div",{className:O()("home-total",a),children:[Object(S.jsxs)("div",{className:"fr-sb",children:[Object(S.jsx)("div",{className:"home-total-title",children:"Total:"}),Object(S.jsx)($.a,{type:"primary",danger:!0,onClick:r,disabled:!t,children:"Reset cart"})]}),Object(S.jsx)("div",{className:"home-total-price",children:sa(t,void 0,"")}),Object(S.jsx)($.a,{block:!0,type:"primary",onClick:n,disabled:!t,children:"Buy now"})]})};Pt.defaultProps={className:"",total:0,onClickBuy:function(){},onClickReset:function(){}};var Ft=Pt,Lt=function(e){var a=Object(b.g)(),t=C({foodData:0!==A.a.getFoodData().length?A.a.getFoodData():[],arrImages:[],loading:!0,rawFoodData:0!==A.a.getFoodData().length?A.a.getFoodData():[]}),r=Object(h.a)(t,2),s=r[0],c=r[1],i=function(){var e=Object(q.a)(B.a.mark((function e(){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:a=e.t0,c({foodData:a,rawFoodData:a,loading:!1}),e.next=13;break;case 10:e.prev=10,e.t1=e.catch(0),c({loading:!1});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){0===A.a.getFoodData().length?i():c({loading:!1})}),[]);var o=e.className,l=s.foodData,d=s.loading,u=Be(l),m=u.cartTags,j=u.total,f=function(){var e=x.a.cloneDeep(l);x.a.forEach(e,(function(e){x.a.forEach(e.data||[],(function(e){x.a.assign(e,{isBuy:!1})}))})),A.a.setFoodData(void 0),c({foodData:e})},p=function(){a.push({pathname:"/food-order",state:l}),A.a.setFoodData(l)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log({item:e});var t=x.a.find(l,(function(e){return e.title===a})),n=t.data,r=x.a.find(n,(function(a){return a.name===e.name}));x.a.assign(r,Object(y.a)({},e)),console.log({foodData:l}),A.a.setFoodData(l),c({foodData:l})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c({foodData:[]}),setTimeout((function(){var a=$e(e,s.rawFoodData);c({foodData:x.a.cloneDeep(a)})}),1)};return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:O()("home-body",o),children:[Object(S.jsxs)("div",{className:"home-body-toper",children:[Object(S.jsx)(wt,{onFilterFood:g}),Object(S.jsx)(Ft,{className:"home-body-toper-block-3",total:j,onClickReset:f,onClickBuy:p})]}),Object(S.jsxs)("div",{className:"home-body-main",children:[0!==m.length&&Object(S.jsxs)("div",{className:"home-body-cart-tag animation-fadein-2s",children:[Object(S.jsx)("div",{className:"home-body-cart-tag-title",children:Object(S.jsx)("span",{children:"Your cart:"})}),x.a.map(m,(function(e,a){return Object(S.jsx)(ft.a,{className:"home-body-cart-tag-item",color:"orange",children:e},a)}))]}),x.a.map(l,(function(e,a){return 0!==e.data.length&&e.title&&Object(S.jsx)(Tt,{className:"animation-fadein-2s",title:e.title,data:e.data,onChangeCart:v,isShow:0===a},a)}))]})]}),d&&Object(S.jsx)(wa,{})]})};Lt.defaultProps={className:""};var Rt=Lt,At=function(e){var a=e.className;return Object(S.jsxs)("div",{className:O()("home-footer",a),children:[Object(S.jsxs)("div",{className:"home-footer-contact",children:[Object(S.jsx)("div",{className:"b",children:"Contacts"}),Object(S.jsx)("div",{className:"mt-2",children:"tttriet1997@gmail.com"}),Object(S.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100015087697713",className:"mt-2 fs-16",target:"blank",children:"Facebook"})]}),Object(S.jsxs)("div",{className:"home-footer-address",children:[Object(S.jsx)("div",{className:"b",children:"Address"}),Object(S.jsx)("div",{className:"mt-2",children:"364 C\u1ed9ng H\xf2a, Ph\u01b0\u1eddng 13, T\xe2n B\xecnh, Th\xe0nh ph\u1ed1 H\u1ed3 Ch\xed Minh"}),Object(S.jsx)("div",{className:"mt-2",children:"(+84) 819 541 897 (Zalo)"})]}),Object(S.jsx)("div",{className:"home-footer-copyright",children:"\xa9 2021 - Bosch Canteen"})]})};At.defaultProps={className:""};var It=At,qt=function(e){var a=e.className;return Object(S.jsxs)("div",{className:O()("home",a),children:[Object(S.jsx)(pa,{}),Object(S.jsx)(Rt,{}),Object(S.jsx)(It,{})]})};qt.defaultProps={className:""};var Mt=qt,Ut=t(351),_t=t(358),Bt=(t(335),{image:void 0,name:"",nameErr:"",price:"",id:"",priceErr:"",title:"",titleErr:"",rating:1,quantityType:void 0,quanityTypeErr:"",displayingName:void 0}),$t=function(e){var a=Object(n.useRef)([]),t=C(Object(y.a)({},Bt)),r=Object(h.a)(t,2),s=r[0],c=r[1],i=e.className,o=e.index,l=e.onChangeFood,d=e.onDeleteFood,u=e.type,m=s.image,j=s.name,f=s.nameErr,b=s.price,p=s.priceErr,v=s.title,g=s.titleErr,x=s.rating,N=s.quantityType,w=s.quanityTypeErr,E=s.displayingName,k=s.id,D="".concat(u,"-img-id-").concat(o),T="ADD"===u,P="DELETE"===u,F=P?"cur-not-allowed":"cur-pointer";Object(n.useEffect)((function(){T||(a.current=A.a.getMenu())}),[]);var L=function(){var e=_.find(a.current,(function(e){return e.title+"."+e.name===E}));_.isEmpty(e)||c(Object(y.a)(Object(y.a)({},e),{},{quantityType:ve[e.quantityType===fe?0:1]}))};Object(n.useEffect)((function(){L()}),[E]),Object(n.useEffect)((function(){l(o,{image:m,name:j,price:b,title:v,rating:x,quantityType:N,displayingName:E,id:k})}),[m,j,b,v,x,N,E]);var R=function(e,a){var t;c((t={},Object(M.a)(t,e,a),Object(M.a)(t,"nameErr",""),Object(M.a)(t,"priceErr",""),Object(M.a)(t,"titleErr",""),Object(M.a)(t,"quanityTypeErr",""),t))},I=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r,s=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},n=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.files[0]){e.next=4;break}return e.abrupt("return");case 4:(r=new FileReader).readAsDataURL(n),r.onloadend=Object(q.a)(B.a.mark((function e(){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.result,c({image:a});case 2:case"end":return e.stop()}}),e)})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=document.getElementById(D);e&&e.click()};return Object(S.jsxs)("div",{className:O()("add-food",i),children:[!T&&Object(S.jsx)(gt,{title:"Food",name:"displayingName",value:E,onChange:R,placeholder:"Select food name",data:_.map(A.a.getMenu(),(function(e){return e.title+"."+e.name})),className:"mb-16"}),(E||T)&&Object(S.jsxs)("div",{className:"add-food-row",children:[Object(S.jsxs)("div",{className:"",children:[m?Object(S.jsx)("img",{src:m,alt:"Food card img",className:"food-card-img ".concat(F),onClick:U}):Object(S.jsxs)("div",{className:"food-card-img ".concat(F),onClick:U,children:[Object(S.jsx)(_t.a,{}),Object(S.jsx)("div",{className:"food-card-img-text",children:Object(S.jsx)("span",{children:"Upload image"})})]}),Object(S.jsx)("input",{id:D,type:"file",onChange:I,className:"dis-none",accept:"image/png, .jpeg, .jpg, .webp",disabled:P}),Object(S.jsx)(te,{className:"mt-16",title:"Food name",name:"name",value:j,onChange:R,placeholder:"Enter your name",errMes:f,disabled:P})]}),Object(S.jsxs)("div",{className:"add-food-name-price",children:[Object(S.jsxs)("div",{className:"fr-sb",children:[Object(S.jsx)($.a,{danger:!0,onClick:function(){L()},children:"Reset"}),0!==o&&Object(S.jsx)($.a,{onClick:function(){d(o)},children:Object(S.jsx)(ce.a,{})})]}),Object(S.jsx)(gt,{className:"mt-16",title:"Kind of quanity",name:"quantityType",value:N,onChange:R,placeholder:"Enter your quanity",errMes:w,data:ve,disabled:P}),Object(S.jsx)(te,{className:"mt-16",title:"Food price",name:"price",value:b,onChange:R,placeholder:"Enter your price",errMes:p,type:"NUMBER",disabled:P}),Object(S.jsx)(te,{className:"mt-16",title:"Kind of food",name:"title",value:v,onChange:R,placeholder:"Enter kind of food",errMes:g,disabled:P}),Object(S.jsx)(Y,{title:"Rating",className:"mt-16"}),Object(S.jsx)(Nt,{rating:x,isButton:!0,onClick:P?null:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e===s.rating||c({rating:e})}})]})]})]})};$t.defaultProps={className:"",index:0,data:{},onChangeFood:function(){},onDeleteFood:function(){},type:"ADD"};var Gt,Vt,Kt,Qt=$t,Ht=Object(Ne.a)(Gt||(Gt=Object(xe.a)(["\n  mutation addFood($input: [AddFoodInput]!) {\n    addFood(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Yt=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r,s,c=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,Re();case 4:return t=e.sent,e.next=7,t.mutate({mutation:Ht,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.addFood,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Jt=Yt,Zt=Object(Ne.a)(Vt||(Vt=Object(xe.a)(["\n  mutation deleteFood($input: [ID]!) {\n    deleteFood(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Wt=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r,s,c=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,Re();case 4:return t=e.sent,e.next=7,t.mutate({mutation:Zt,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.deleteFood,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Xt=Wt,zt=Object(Ne.a)(Kt||(Kt=Object(xe.a)(["\n  mutation updateFood($input: [UpdateFoodInput]!) {\n    updateFood(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),en=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r,s,c=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,Re();case 4:return t=e.sent,e.next=7,t.mutate({mutation:zt,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.updateFood,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),an=en,tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=e.quantityType===ve[0]?fe:be,n={title:e.title,name:e.name,rating:e.rating,price:parseFloat(e.price),quantityType:t,image:e.image};return a&&x.a.assign(n,{id:a}),n},nn=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t,n,r,s,c,i,o=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.length>0&&void 0!==o[0]?o[0]:[],t=o.length>1&&void 0!==o[1]?o[1]:"ADD",n="ADD"===t,r="EDIT"===t,console.log({food:a}),s={},e.t0=t,e.next="ADD"===e.t0||"EDIT"===e.t0?9:11;break;case 9:return x.a.assign(s,{input:x.a.map(a,(function(e){return tn(e,n?null:e.id)}))}),e.abrupt("break",13);case 11:return x.a.assign(s,{input:x.a.map(a,(function(e){return e.id}))}),e.abrupt("break",13);case 13:return console.log({sendingData:s}),e.prev=14,c=n?Jt:r?an:Xt,e.next=18,c(s);case 18:return i=e.sent,e.abrupt("return",i);case 22:return e.prev=22,e.t1=e.catch(14),e.abrupt("return",{isSuccess:!1,message:e.t1});case 25:case"end":return e.stop()}}),e,null,[[14,22]])})));return function(){return e.apply(this,arguments)}}(),rn=(t(336),function(e){var a=C({foodList:[void 0],loading:!1}),t=Object(h.a)(a,2),n=t[0],r=t[1],s=n.foodList,c=n.loading,i=e.className,o=e.type,l="ADD"===o,d="EDIT"===o,u="DELETE"===o,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s[e]=a,r({foodList:s})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;s.splice(e,1),console.log({onDeleteFood:s,index:e}),r({foodList:s})},f=function(){var e=Object(q.a)(B.a.mark((function e(){var a,t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({loading:!0}),e.next=3,nn(s,o);case 3:if(a=e.sent,t={loading:!1},!a.isSuccess){e.next=13;break}return alert(l?"Successfully adding new food!":d?"Successfully editting food!":"Successfully deleting food!"),e.next=9,Me();case 9:x.a.assign(t,{foodList:[void 0]}),r({foodList:[]}),e.next=14;break;case 13:alert(l?"Failed to add new food: ":d?"Failed to edit food: ":"Failed to delete food: ",a.message);case 14:setTimeout((function(){r(t)}),200);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!e||0===(null===e||void 0===e?void 0:e.length)||!e[0]||!!x.a.find(e,(function(e){return!e||!e.name||!e.price||!e.title||!e.quantityType||!e.image&&!a}))}(s,u);return Object(S.jsxs)("div",{className:O()("handle-change-food",i),children:[Object(S.jsx)("div",{className:"handle-change-food-add-food",children:x.a.map(s,(function(e,a){return Object(S.jsx)(Qt,{index:a,data:e,onChangeFood:m,onDeleteFood:j,className:"animation-fadein-1s",type:o},a)}))}),Object(S.jsxs)("div",{className:"handle-change-food-add-btns",children:[Object(S.jsx)($.a,{type:"dashed",onClick:function(){s.push(void 0),r({foodList:s})},disabled:b||c,children:l?"New food":"Other food"}),Object(S.jsx)($.a,{type:"primary",disabled:b,onClick:f,loading:c,children:l?"Add food":d?"Edit food":"Delete food"})]})]})});rn.defaultProps={className:"",type:"ADD"};var sn=rn,cn=(t(337),Ut.a.TabPane),on="ADD_FOOD",ln="EDIT_FOOD",dn="DELETE_FOOD",un="FOOD_ORDER",mn="USER_PROFILE",jn=function(e){var a=Object(b.g)(),t=C({activeTab:mn}),r=Object(h.a)(t,2),s=r[0],c=r[1],i=e.className,o=s.activeTab,l="Admin"===A.a.getRole(),d=A.a.getDataLogin(),u=d.email,m=d.username,j=d.phone,f=d.address,p=(d.notes,d.role);Object(n.useEffect)((function(){A.a.isSuccess()||(a.push("/acestore"),c({}))}),[e.login]);return Object(S.jsxs)("div",{className:O()("user",i),children:[Object(S.jsx)(pa,{}),Object(S.jsx)("div",{className:"user-body",children:Object(S.jsxs)(Ut.a,{activeKey:o,tabPosition:"top",onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c({activeTab:e})},className:"mt-12",children:[Object(S.jsx)(cn,{tab:Object(S.jsx)("div",{className:"user-body-title",children:"User profile"}),children:Object(S.jsxs)("div",{className:"user-body-profile",children:[Object(S.jsxs)("div",{className:"fr-sb",children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("span",{className:"b mr-4",children:"Email:"}),Object(S.jsx)("span",{children:u})]}),Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("span",{className:"b mr-4",children:"Username:"}),Object(S.jsx)("span",{children:m})]}),Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("span",{className:"b mr-4",children:"Phone:"}),Object(S.jsx)("span",{children:j})]})]}),Object(S.jsxs)("div",{className:"fr-sb",children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("span",{className:"b mr-4",children:"Address:"}),Object(S.jsx)("span",{children:f})]}),Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("span",{className:"b mr-4",children:"Role:"}),Object(S.jsx)("span",{children:p||"Customer"})]})]})]})},mn),l&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(cn,{tab:Object(S.jsx)("div",{className:"user-body-title",children:"Add food"}),children:Object(S.jsx)(sn,{})},on),Object(S.jsx)(cn,{tab:Object(S.jsx)("div",{className:"user-body-title",children:"Edit food"}),children:Object(S.jsx)(sn,{type:"EDIT"})},ln),Object(S.jsx)(cn,{tab:Object(S.jsx)("div",{className:"user-body-title",children:"Delete food"}),children:Object(S.jsx)(sn,{type:"DELETE"})},dn),Object(S.jsx)(cn,{tab:Object(S.jsx)("div",{className:"user-body-title",children:"Food orders"}),children:Object(S.jsx)(ut,{isAll:!0})},un)]})]})})]})};jn.defaultProps={className:""};var fn=Object(c.b)((function(e){return{login:e.login}}),{})(jn),bn=function(e){var a=Object(b.g)();Object(n.useEffect)((function(){window.onbeforeunload=function(){},window.onload=function(){e.reloadPageRequest()}}),[]);var t,r,s,c=Object(n.useCallback)((function(){alert(R),A.a.logout(),e.logoutRequest(),a.push("/acestore")}),[]);return t=F.LOGOUT_REQUEST,r=c,s=[],Object(n.useEffect)((function(){if(t&&r){var e=w.addListener(t,r);return function(){e.remove()}}}),[t].concat(Object(N.a)(s))),Object(S.jsx)("main",{className:"div-root",children:Object(S.jsxs)(p.a,{children:[Object(S.jsx)(P,{}),Object(S.jsxs)(b.d,{children:[Object(S.jsx)(b.b,{exact:!0,path:"/acestore",name:"Home",component:Mt}),Object(S.jsx)(b.b,{exact:!0,path:"/history",name:"Home",component:jt}),Object(S.jsx)(b.b,{exact:!0,path:"/user",name:"Home",component:fn}),Object(S.jsx)(b.b,{exact:!0,path:"/food-order",name:"Food Order",component:Aa}),Object(S.jsx)(b.a,{path:"/",to:{pathname:"/acestore"}})]})]})})};bn.defaultProps={};var pn={reloadPageRequest:function(){return{type:F.RELOAD_PAGE_REQUEST}},logoutRequest:I},hn=Object(c.b)((function(e){return{isLoading:e.isLoading,logoutRequest:f.a.func.isRequired}}),pn)(bn),vn=(t(338),t(339),function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){return Object(S.jsx)(hn,{})}}]),t}(n.Component)),On=vn,gn=t(99),xn=t(213),Nn={loading:{},login:{},bookings:[],checkins:[],foodMasterData:[]},yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn.login,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case F.LOGIN_COMPLETE:return a.data;case F.LOGOUT_COMPLETE:return a;default:return e}},wn=Object(gn.b)({login:yn});var Cn=function(e,a){return a.type===F.LOGOUT_REQUEST?(console.log("heare"),A.a.logout(),Nn):wn(e,a)},En=t(116),kn=B.a.mark(Sn),Dn=B.a.mark(Tn);function Sn(){var e,a,t,n;return B.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=!0;case 1:if(!e){r.next=12;break}return r.next=4,Object(En.c)(F.LOGIN_REQUEST);case 4:return a=r.sent,t=a.data,n={isSuccess:!0,user:x.a.cloneDeep(t.user),token:t.token},A.a.login(n),r.next=10,Object(En.b)({type:F.LOGIN_COMPLETE,data:n});case 10:r.next=1;break;case 12:case"end":return r.stop()}}),kn)}function Tn(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(En.a)(Sn);case 2:case"end":return e.stop()}}),Dn)}var Pn=B.a.mark(Fn);function Fn(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(En.a)(Tn);case 2:case"end":return e.stop()}}),Pn)}var Ln=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(a){return}}(),Rn=function(){var e=Object(xn.a)();return Object(y.a)(Object(y.a)({},Object(gn.d)(Cn,Ln,Object(gn.a)(e))),{},{runSaga:e.run(Fn)})}();i.sessionService.initSessionService(Rn),s.a.render(Object(S.jsx)(c.a,{store:Rn,children:Object(S.jsx)(On,{})}),document.getElementById("root")),o()}},[[340,1,2]]]);
//# sourceMappingURL=main.f9067f5b.chunk.js.map