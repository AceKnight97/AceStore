(this.webpackJsonpacestore=this.webpackJsonpacestore||[]).push([[0],{202:function(e){e.exports=JSON.parse('{"name":"acestore","homepage":"https://AceKnight97.github.io/acestore","version":"0.2.0","private":true,"dependencies":{"@ant-design/icons":"^4.3.0","@apollo/client":"^3.5.8","@apollo/react-hooks":"^4.0.0","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","antd":"^4.18.5","axios":"^0.25.0","classnames":"^2.2.6","clean-webpack-plugin":"^3.0.0","copy-webpack-plugin":"^8.0.0","css-loader":"^5.2.0","currency-formatter":"^1.5.9","emailjs-com":"^2.6.4","eslint":"^7.17.0","eslint-config-airbnb":"^18.2.1","eslint-plugin-react":"^7.20.6","fbemitter":"^2.1.1","file-loader":"^6.2.0","font-awesome-sass-loader":"^2.0.1","graphql":"^16.3.0","html-loader":"^2.1.2","html-webpack-plugin":"^5.3.1","jquery":"^3.6.0","lodash":"^4.17.20","mini-css-extract-plugin":"^1.3.9","moment":"^2.29.1","node-sass":"^6.0.1","prop-types":"^15.7.2","react":"^17.0.2","react-dom":"^17.0.2","react-number-format":"^4.9.1","react-redux":"^7.2.2","react-router-dom":"^5.2.0","react-scripts":"4.0.3","react-verification-code-input":"^1.2.9","redux":"^4.0.5","redux-react-session":"^2.6.1","redux-saga":"^1.1.3","sass-loader":"^11.0.1","socket.io":"^4.4.1","socket.io-client":"^4.4.1","style-loader":"^2.0.0","subscriptions-transport-ws":"^0.11.0","uglifyjs-webpack-plugin":"^2.2.0","url-loader":"^4.1.1","web-vitals":"^1.0.1","webpack-merge":"^5.7.3"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^3.2.3"},"optionalDependencies":{"fsevents":"^2.3.2"}}')},255:function(e,a,t){},26:function(e,a,t){"use strict";(function(e){var t=e.window.localStorage,n={login:function(e){console.log("login data: ",e);var a=e.user,n=e.isSuccess,r=e.token;t.isSuccess=n,t.token=r,t.user=JSON.stringify(a),t.role=a.role},getRole:function(){return t.role},setMenu:function(e){t.menu=JSON.stringify(e)},getMenu:function(){return t.menu&&"undefined"!==t.menu?JSON.parse(t.menu):[]},setKindOfFood:function(e){t.kindOfFood=JSON.stringify(e)},getKindOfFood:function(){return t.kindOfFood&&"undefined"!==t.kindOfFood?JSON.parse(t.kindOfFood):[]},getToken:function(){return t.token},setFoodData:function(e){t.foodData=JSON.stringify(e)},getFoodData:function(){return t.foodData&&"undefined"!==t.foodData?JSON.parse(t.foodData):[]},setMasterData:function(e){t.masterData=JSON.stringify(e)},getMasterData:function(){return t.masterData&&"undefined"!==t.masterData?JSON.parse(t.masterData):[]},setDatalogin:function(e){t.login=JSON.stringify(e)},getDataLogin:function(){return t.login&&"undefined"!==t.login?JSON.parse(t.login):{}},isSuccess:function(){return t.isSuccess},userId:function(){return t.userId},username:function(){return t.userName},role:function(){return t.role},logout:function(){t.clear()}};a.a=n}).call(this,t(78))},327:function(e,a,t){},333:function(e,a,t){},339:function(e,a,t){},340:function(e,a,t){},341:function(e,a,t){},342:function(e,a,t){},343:function(e,a,t){},344:function(e,a,t){},345:function(e,a,t){},346:function(e,a,t){},347:function(e,a,t){},348:function(e,a,t){},349:function(e,a,t){},350:function(e,a,t){},351:function(e,a,t){},352:function(e,a,t){},353:function(e,a,t){},354:function(e,a,t){},355:function(e,a,t){},356:function(e,a,t){},357:function(e,a,t){},358:function(e,a,t){},359:function(e,a,t){},361:function(e,a,t){},362:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t(45),s=t.n(r),c=t(67),i=t(201),o=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,388)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,s=a.getLCP,c=a.getTTFB;t(e),n(e),r(e),s(e),c(e)}))},l=t(374),d=t(3),u=t(14),m=t(9),f=t.n(m),j=t(378),b=t(367),p=t(98),h=t(379),v=t(377),O=t(207),g=t(208),x=t(204),N=t(99),y=t(202),w={LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_COMPLETE:"LOGIN_COMPLETE",GET_ALL_DATA_REQUEST:"GET_ALL_DATA_REQUEST",GET_ALL_DATA_COMPLETE:"GET_ALL_DATA_COMPLETE",RELOAD_PAGE_REQUEST:"RELOAD_PAGE_REQUEST",LOGOUT_REQUEST:"LOGOUT_REQUEST",LOGOUT_COMPLETE:"LOGOUT_COMPLETE",NEW_FOOD_ORDERS:"NEW_FOOD_ORDERS"},C="retail-store-java.herokuapp.com/graphql",E="Your login session has expired, please login again.",k=t(26),D=new(t(203).EventEmitter),S=new j.a({uri:"http://".concat(C),credentials:"same-origin"}),P=new x.a({uri:"wss://".concat(C),options:{reconnect:!0}}),T=Object(b.a)((function(e){var a=e.query,t=Object(N.e)(a),n=t.kind,r=t.operation;return"OperationDefinition"===n&&"subscription"===r}),P,S),F=p.a.from([T]),R=new h.a({addTypename:!1}),L={watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}},A=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]&&r[0],r.length>1&&void 0!==r[1]&&r[1],e.prev=2,t=k.a.getToken(),n=Object(O.a)((function(e,a){var n=a.headers;return{headers:Object(d.a)(Object(d.a)({},n),{},{"access-token":t})}})),e.abrupt("return",new v.a({link:n.concat(p.a.from([Object(g.a)((function(e){var a=e.graphQLErrors,t=e.networkError;e.response,e.operation,e.forward;if(a)_.map(a,(function(e){var a=e.message,t=e.extensions;console.log({errMes:a}),(_.includes(a,"403")||_.includes(a,"400")||"UNAUTHENTICATED"===t.code)&&D.emit(w.LOGOUT_REQUEST)}));else if(t)throw console.error("[Network error]: ".concat(t)),t})),S])),cache:R,defaultOptions:a?void 0:L,name:"web",version:y.version}));case 8:throw e.prev=8,e.t0=e.catch(2),e.t0;case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),I=new v.a({link:F,cache:R,defaultOptions:L}),M=A,q=t(16),U=t(17),B=t(21),V=t(22),$=t(43),G=t.n($),Y=t(80),H=t(48),K=t(6),Q=t(102),W=t(5),J=t.n(W),Z=t(8),X=t(19),z=t.n(X),ee=function(e){var a=Object(n.useState)(e),t=Object(K.a)(a,2),r=t[0],s=t[1];return[r,function(e){return s((function(a){var t=z.a.assign(a,e);return Object(d.a)({},t)}))}]},ae=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,r=Object(n.useRef)(!0);Object(n.useEffect)((function(){return r.current?r.current=!1:e(),t}),a)},te=(t(255),t(1)),ne=function(e){var a=Object(H.h)(),t=Object(H.g)(),n=a.pathname,r=ee({}),s=Object(K.a)(r,2),c=(s[0],s[1],e.className),i=n.includes("/acestore"),o=function(){i||t.push("/acestore")};return Object(te.jsxs)("div",{children:[Object(te.jsx)("div",{className:J()("supergraphic",c)}),Object(te.jsxs)("div",{className:"bosch-header",children:[Object(te.jsx)("div",{className:"flex",children:function(){var e="";switch(n){case"/food-order":e="Food Order";break;case"/history":e="Order History";break;case"/user":e="User"}return Object(te.jsxs)("div",{className:"bosch-header-title",children:[Object(te.jsx)(Y.b,{to:"/acestore",onClick:o,children:"Home"}),e?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(Q.a,{}),Object(te.jsx)("span",{children:e})]}):null]})}()}),Object(te.jsx)("div",{className:"bosch-header-group",children:"Acestore"})]}),!i&&Object(te.jsx)(Y.b,{to:"/acestore",className:"not-home-back-btn",children:"Go back"})]})};ne.defaultProps={className:""};var re=ne;function se(e){return{type:w.LOGOUT_REQUEST,data:e}}var ce=t(4),ie=t(54),oe=t(217),le=t(384),de=t(224),ue=t(210),me=function(e){var a=e.className,t=e.title;return t?Object(te.jsx)("div",{className:J()("input-title-wrapper",a),children:Object(te.jsx)("span",{children:t})}):null};me.defaultProps={className:"",title:""};var fe=me,je=t(373),be=t(181),pe=t(38),he=t.n(pe),ve=function(e){var a,t=e.className,n=e.title,r=e.placeholder,s=e.format,c=e.value,i=e.name,o=e.suffixIcon,l=e.type,d=e.disabledDate,u=e.disabled,m=function(a){e.onChange(i,a)};switch(d){case"PAST":a=function(e){return e>he()().endOf("day")};break;case"FUTURE":a=function(e){return e<=he()().endOf("day")}}return Object(te.jsxs)("div",{className:J()("datepicker-ct-wrapper",t),children:[Object(te.jsx)(fe,{title:n}),"TIME"===l?Object(te.jsx)(je.a,{disabled:u,getPopupContainer:function(e){return e.parentElement},suffixIcon:o,placeholder:r,onChange:m,format:s,value:"string"===typeof c&&he()(c).isValid()?he()(c):c||void 0,disabledDate:a}):Object(te.jsx)(be.a,{disabled:u,getPopupContainer:function(e){return e.parentElement},suffixIcon:o,placeholder:r,onChange:m,format:s,value:"string"===typeof c&&he()(c).isValid()?he()(c):c||void 0,disabledDate:a})]})};ve.defaultProps={className:void 0,format:"MM/DD/YYYY",title:"",placeholder:"Select date",onChange:function(){},value:void 0,name:"",disabledDate:void 0,suffixIcon:void 0,type:"DATE",disabled:!1};var Oe=ve,ge=function(e){var a=e.className,t=e.type,n=e.rows,r=e.placeholder,s=e.title,c=e.disabled,i=e.value,o=e.inputClassName,l=e.maxLength,d=e.prefix,u=e.mask,m=e.format,f=e.decimalScale,j=e.name,b=(e.allowedDecimalSeparators,e.allowLeadingZeros),p=(e.thousandSeparator,e.data,e.mode,e.unitValue,e.onChangeUnit,e.disabledDate),h=e.suffix,v=e.autoComplete,O=(e.supName,e.errMes),g=e.errMesClassName,x=e.absSuffix,N=e.allowNegative,y=(e.isValueOutside,e.isSearchable,e.loadOptions,e.options,e.clearOptions,e.onInputChange,e.titleClassName),w=function(a){e.onChange(j,a.target.value)};return Object(te.jsxs)("div",{className:J()("input-ct-wrapper",a),children:[Object(te.jsx)(fe,{title:s,className:y}),"TEXTAREA"===t?Object(te.jsx)(oe.a.TextArea,{value:i,disabled:c,placeholder:r,rows:n,onChange:w}):null,"NUMBER"===t?Object(te.jsx)(ue.a,{mask:u,format:m,value:i,className:J()("basic-number-format",o,O?"err-border":""),disabled:c,onValueChange:function(a){var t=a.value;e.onChange(j,t)},placeholder:r,maxLength:l,decimalScale:f,prefix:d,suffix:h,allowNegative:N,allowLeadingZeros:b}):null,"DATE"===t?Object(te.jsx)(Oe,{name:j,placeholder:r,value:i,onChange:e.onChange,disabledDate:p,suffixIcon:h}):null,"text"===t?Object(te.jsx)(oe.a,{className:O?"err-border":"",value:i,disabled:c,placeholder:r,onChange:w,prefix:d,suffix:h}):null,"PASSWORD"===t?Object(te.jsx)(oe.a.Password,{className:O?"err-border":"",value:i,disabled:c,placeholder:r,onChange:w,iconRender:function(e){return e?Object(te.jsx)(le.a,{}):Object(te.jsx)(de.a,{})},autoComplete:v}):null,O?Object(te.jsx)("div",{className:J()("div-incorrect-mes",g),children:Object(te.jsx)("span",{children:O})}):null,x&&Object(te.jsx)("div",{className:"abs-suffix-ct",children:Object(te.jsx)("span",{children:x})})]})};ge.defaultProps={className:void 0,titleClassName:"",rows:4,type:"text",title:"",placeholder:"Enter...",onChange:function(){},onChangeUnit:function(){},disabled:!1,value:void 0,inputClassName:"",maxLength:20,allowedDecimalSeparators:void 0,decimalScale:void 0,allowLeadingZeros:!1,thousandSeparator:!1,prefix:void 0,suffix:void 0,mask:void 0,format:void 0,name:"",supName:"",data:[],mode:void 0,unitValue:"",disabledDate:void 0,autoComplete:"",errMes:"",errMesClassName:"",absSuffix:"",allowNegative:!1,isValueOutside:!1,isSearchable:!1,loadOptions:function(){},options:[],clearOptions:function(){},onInputChange:function(){}};var xe=ge,Ne=t(380),ye=t(223),we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(String(e.trim()).toLowerCase())},Ce=function(e){return Object(te.jsxs)("div",{className:J()("modal-footer-wrapper",e.className),children:[e.dangerTitle?Object(te.jsx)(ie.a,{danger:!0,className:e.dangerTitle,onClick:e.onClickDanger,disabled:e.loading,children:e.dangerTitle}):Object(te.jsx)("div",{}),Object(te.jsxs)("div",{className:"modal-footer-buttons",children:[Object(te.jsx)(ie.a,{className:e.leftBtnClassName,onClick:e.onClickLeftBtn,disabled:e.loading,children:e.leftTitle}),Object(te.jsx)(ie.a,{type:"primary",onClick:e.onClickRightBtn,disabled:e.disabled,loading:e.loading,children:e.rightTitle})]})]})};Ce.defaultProps={className:void 0,disabled:!1,loading:!1,leftBtnClassName:"mr8",dangerTitle:"",onClickDanger:function(){}};var Ee=Ce,ke=t(68),De=function(e){var a;return Object(te.jsxs)("div",{className:J()("modal-header-wrapper",e.className),children:[Object(te.jsx)("div",{className:"modal-header-title",children:Object(te.jsx)("span",{children:e.title})}),Object(te.jsx)(ie.a,(a={ghost:!0,onClick:e.onClick,className:e.btnClassName,disabled:e.loading},Object(ce.a)(a,"className","modal-header-close-btn"),Object(ce.a)(a,"children",e.btnTitle||Object(te.jsx)(ke.a,{})),a))]})};De.defaultProps={className:void 0,btnClassName:void 0,btnTitle:"",loading:!1,onClick:function(){}};var Se=De,Pe=(t(327),{email:"",username:"",phone:"",address:"",notes:"",destination:"",usernameErr:"",phoneErr:"",addressErr:"",destinationErr:"",loading:!1,isConfirm:!1}),Te=function(e){var a=ee(Object(d.a)({},Pe)),t=Object(K.a)(a,2),r=t[0],s=t[1];Object(n.useEffect)((function(){i||s(Object(d.a)({},Pe))}),[e.visible]);var c=e.className,i=e.visible,o=e.onClickCancel,l=e.onClick,m=r.email,j=r.username,b=r.usernameErr,p=r.loading,h=r.phone,v=r.address,O=r.notes,g=r.destination,x=r.phoneErr,N=r.addressErr,y=r.destinationErr,w=r.isConfirm,C=function(e,a){var t;s((t={},Object(ce.a)(t,e,a),Object(ce.a)(t,"usernameErr",""),Object(ce.a)(t,"destinationErr",""),Object(ce.a)(t,"phoneErr",""),Object(ce.a)(t,"addressErr",""),t))},E=function(){var e=Object(u.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w?l(r):s({isConfirm:!0});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({isConfirm:!1});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.jsx)(Ne.a,{className:"any-customer-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(te.jsxs)("div",{className:J()("any-customer-modal-wrapper",c),children:[Object(te.jsx)(Se,{title:"Customer info",onClick:o}),w?Object(te.jsxs)("div",{className:"any-customer-modal-main",children:[Object(te.jsx)("div",{className:"font-20 b",children:"Your information:"}),Object(te.jsxs)("div",{className:"fr-sb mt-16",children:[Object(te.jsx)("span",{className:"b",children:"Email:"}),Object(te.jsx)("span",{className:"ml-4",children:m})]}),Object(te.jsxs)("div",{className:"fr-sb",children:[Object(te.jsx)("span",{className:"b",children:"Username:"}),Object(te.jsx)("span",{className:"ml-4",children:j})]}),Object(te.jsxs)("div",{className:"fr-sb",children:[Object(te.jsx)("span",{className:"b",children:"Delivery:"}),Object(te.jsx)("span",{className:"ml-4",children:v})]}),Object(te.jsxs)("div",{className:"fr-sb",children:[Object(te.jsx)("span",{className:"b",children:"Phone number:"}),Object(te.jsx)("span",{className:"ml-4",children:h})]}),Object(te.jsxs)("div",{className:"fr-sb",children:[Object(te.jsx)("span",{className:"b",children:"Notes:"}),Object(te.jsx)("span",{className:"ml-4",children:O})]}),Object(te.jsxs)("div",{className:"fr-sb",children:[Object(te.jsx)("span",{className:"b",children:"Destination:"}),Object(te.jsx)("span",{className:"ml-4",children:g})]}),Object(te.jsx)("div",{className:"fcen mt-16 b",children:"Do you want to order now?"})]}):Object(te.jsxs)("div",{className:"any-customer-modal-main",children:[Object(te.jsx)(xe,{title:"Email",name:"email",value:m,onChange:C,placeholder:"Enter your email",errMes:we(m)?"":"Invalid email!"}),Object(te.jsx)(xe,{title:"Username",name:"username",value:j,onChange:C,placeholder:"Enter your username",className:"mt-16",errMes:b}),Object(te.jsx)(xe,{title:"Address",name:"address",value:v,onChange:C,placeholder:"Enter your address",className:"mt-16",errMes:N}),Object(te.jsx)(xe,{title:"Phone number",name:"phone",value:h,onChange:C,placeholder:"Enter your phone number",className:"mt-16",errMes:x,type:"NUMBER",allowLeadingZeros:!0}),Object(te.jsx)(xe,{title:"Destination",name:"destination",value:g,onChange:C,placeholder:"Enter destination",errMes:y,className:"mt-16"}),Object(te.jsx)(xe,{title:"Notes",name:"notes",value:O,onChange:C,placeholder:"Enter your notes",className:"mt-16",type:"TEXTAREA"})]}),Object(te.jsx)(Ee,{disabled:!m||!j||!v||!h||!g,leftTitle:w?"Back":"Cancel",rightTitle:w?"Yes":"Order",onClickLeftBtn:w?k:o,onClickRightBtn:E,loading:p})]})})};Te.defaultProps={className:void 0,visible:!1,onClickCancel:function(){},onClick:function(){}};var Fe,Re,Le,Ae=Te,Ie="WEIGHT",_e="PACKAGE",Me=["0.5 Kg","1.0 Kg","1.5 Kg","2.0 Kg","2.5 Kg","3.0 Kg","3.5 Kg","4.0 Kg"],qe=["1 pc","2 pcs","3 psc","4 psc"],Ue=["Kg","Package/Dish"],Be=["Pending","On Going","Done","Cancel"],Ve=[0,1e5,2e5,5e5,1e6,2e6,5e6],$e=t(32),Ge=t(33),Ye=Object(Ge.a)(Fe||(Fe=Object($e.a)(["\n  query menu {\n    menu {\n      id\n      title\n      name\n      rating\n      price\n      quantityType\n      createdAt\n      image\n    }\n  }\n"]))),He=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.query({query:Ye});case 3:return a=e.sent,t=(null===a||void 0===a?void 0:a.data)||{},n=t.menu,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Ke=He,Qe=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke();case 3:return a=e.sent,k.a.setMenu(a),t=[],n=[],r=z.a.groupBy(a,(function(e){return e.title})),Object.keys(r).forEach((function(e){t.push(e),n.push({title:e,data:r[e]})})),k.a.setKindOfFood(t),k.a.setMasterData(n),k.a.setFoodData(void 0),e.abrupt("return",n);case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.quantity.slice(0,3),n=parseFloat(t)*e.price;return n>0&&a.push("".concat(e.name," (").concat(e.price," * ").concat(t,")")),n},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,t=e.quantity.slice(0,1),n=parseFloat(t)*e.price;return n>0&&a.push("".concat(e.name," (").concat(e.price," * ").concat(t,")")),n},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0,t=[];return z.a.forEach(e,(function(e){a+=z.a.sumBy(e.data,(function(e){return e.isBuy?Je(e,t)||We(e,t):0}))})),{total:a,cartTags:t}},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.searchName,n=e.rating,r=e.kind,s=e.minPrice,c=e.maxPrice;console.log({searchName:t,rating:n,kind:r,minPrice:s,maxPrice:c});var i=z.a.cloneDeep(a);return z.a.forEach(i,(function(e){e.data=z.a.filter(e.data,(function(e){var a,i=!0;(r&&(i=e.title===r),z.a.isNil(n)||z.a.isNil(e.rating)||(i=i&&e.rating>=n),t)&&(i=i&&(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase())));return z.a.isNil(s)||(i=i&&e.price>=s),z.a.isNil(c)||(i=i&&e.price<=c),i}))})),z.a.filter(i,(function(e){var a;return 0!==(null===(a=e.data)||void 0===a?void 0:a.length)}))},ze=Object(Ge.a)(Re||(Re=Object($e.a)(["\n  {\n    id\n    username\n    email\n    role\n    signUpDate\n    status\n    gender\n    address\n    phone\n    dob\n    isVerified\n  }\n"]))),ea=Object(Ge.a)(Le||(Le=Object($e.a)(["\n  mutation signIn($phone: String!, $password: String!) {\n    signIn(phone: $phone, password: $password) {\n      isSuccess\n      data {\n        token\n        user {\n          ...","\n        }\n      }\n    }\n  }\n"])),ze),aa=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.mutate({mutation:ea,variables:a});case 3:return t=e.sent,n=null===t||void 0===t?void 0:t.data,r=n.signIn,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),ta=aa,na=t(212),ra=t.n(na),sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"VND",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Price:",n="";if("VND"===a)n=ra.a.format(e,{code:"VND"});return"".concat(t," ").concat(n)},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0;return _.forEach(e,(function(e){a+=e.price*e.quantity})),sa(a,void 0,"")},ia=function(){var e,a,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!==n&&void 0!==n&&null!==(e=n.graphQLErrors)&&void 0!==e&&null!==(a=e[0])&&void 0!==a&&null!==(t=a.message)&&void 0!==t&&t.includes("E11000 duplicate key error")?"Email already existed!":""},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"0"===e[0]?"+84"+e.slice(1):"84"!==e.slice(0,2)?"+84"+e:"+"+e},la=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:{},t=a.phone,n=a.password,e.prev=2,e.next=5,ta({phone:oa(t),password:n});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{isSuccess:!1,message:"Incorrect password"});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(e.phone,e.password);return a.length<6?{passwordErr:"Incorrect password"}:{isSuccess:!0}},ua=function(e){var a=ee({phone:"",password:"",phoneErr:"",passwordErr:"",loading:!1}),t=Object(K.a)(a,2),n=t[0],r=t[1],s=e.className,c=e.visible,i=e.onClickCancel,o=n.phone,l=n.password,d=n.phoneErr,m=n.passwordErr,j=n.loading,b=function(e,a){var t;r((t={},Object(ce.a)(t,e,a),Object(ce.a)(t,"phoneErr",""),Object(ce.a)(t,"passwordErr",""),t))},p=function(){var a=Object(u.a)(f.a.mark((function a(){var t,s;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t=da(n)).isSuccess){a.next=10;break}return r({loading:!0}),a.next=5,la(n);case 5:(s=a.sent).isSuccess?(k.a.setDatalogin(s.data.user),e.loginRequest(s.data),i(),alert("Login successfully!")):alert("Login failed "+s.message),r({loading:!1}),a.next=11;break;case 10:r(t);case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(te.jsx)(Ne.a,{className:"login-modal",destroyOnClose:!0,visible:c,footer:null,closable:!1,centered:!0,children:Object(te.jsxs)("div",{className:J()("stop-health-care-modal-wrapper",s),children:[Object(te.jsx)(Se,{title:"Login",onClick:i}),Object(te.jsxs)("div",{className:"login-modal-main",children:[Object(te.jsx)(xe,{title:"Phone number",name:"phone",value:o,onChange:b,placeholder:"Enter your phone number",errMes:d,allowLeadingZeros:!0,prefix:"+",type:"NUMBER",maxLength:15}),Object(te.jsx)(xe,{title:"Password",name:"password",value:l,onChange:b,placeholder:"Enter your phone",type:"PASSWORD",className:"mt-16",errMes:m})]}),Object(te.jsx)(Ee,{disabled:!o||!l,leftTitle:"Cancel",rightTitle:"Login",onClickLeftBtn:i,onClickRightBtn:p,loading:j})]})})};ua.defaultProps={className:"",visible:!1,onClickCancel:function(){},loginRequest:function(){}};var ma,fa=ua,ja=t(156),ba=t.n(ja),pa=Object(Ge.a)(ma||(ma=Object($e.a)(["\n  mutation signUp($phone: String!, $password: String!, $address: String!) {\n    signUp(phone: $phone, password: $password, address: $address) {\n      isSuccess\n      token\n    }\n  }\n"]))),ha=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.mutate({mutation:pa,variables:a});case 3:return t=e.sent,n=null===t||void 0===t?void 0:t.data,r=n.signUp,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),va=ha,Oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.password,t=e.confirmPassword,n=e.phone;return a.length<6?{passwordErr:"Password must have 6 or more characters"}:a!==t?{confirmPasswordErr:"Confirm password is not match"}:n.length<8?{phoneErr:"Invalid phone number!"}:void 0},ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.password,t=e.confirmPassword,n=e.phone,r=e.address;return!(n&&r&&a&&t)},xa=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.password,n=a.phone,r=a.address,e.prev=1,e.next=4,va({phone:oa(n),password:t,address:r});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),console.log("Failed to create user: ",e.t0),e.abrupt("return",{isSuccess:!1,message:ia(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}(),Na={password:"",confirmPassword:"",phone:"",address:"",passwordErr:"",confirmPasswordErr:"",phoneErr:"",addressErr:"",loading:!1,isStep1:!0},ya=function(e){var a=ee(Object(d.a)({},Na)),t=Object(K.a)(a,2),r=t[0],s=t[1],c=e.className,i=e.visible,o=e.onClickCancel,l=r.password,m=r.confirmPassword,j=r.phone,b=r.address,p=r.passwordErr,h=r.confirmPasswordErr,v=r.phoneErr,O=r.addressErr,g=r.loading,x=r.isStep1;Object(n.useEffect)((function(){i||s(Object(d.a)({},Na))}),[i]);var N=function(e,a){var t=Object(ce.a)({},e,a);x?(z.a.assign(t,{emailErr:"",passwordErr:"",confirmPasswordErr:""}),s(t)):(z.a.assign(t,{usernameErr:"",phoneErr:"",addressErr:""}),s(t))},y=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Oa(r),!z.a.isEmpty(a)){e.next=11;break}return t={loading:!1},s({loading:!0}),e.next=6,xa(r);case 6:(n=e.sent).isSuccess?(alert("Successfully creating user!"),o()):alert("Failed to create user: "+n.message),s(t),e.next=12;break;case 11:s(a);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.jsx)(Ne.a,{className:"register-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(te.jsxs)("div",{className:J()("register-modal-wrapper",c),children:[Object(te.jsx)(Se,{title:"Register",onClick:o}),Object(te.jsx)("div",{className:"register-modal-main",children:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(xe,{title:"Phone number",name:"phone",value:j,onChange:N,placeholder:"Enter your phone number",className:"mt-16",type:"NUMBER",errMes:v,allowLeadingZeros:!0,prefix:"+",maxLength:15}),Object(te.jsx)(xe,{title:"Password",name:"password",value:l,onChange:N,placeholder:"Enter your password",type:"PASSWORD",className:"mt-16",errMes:p}),Object(te.jsx)(xe,{title:"Confirm password",name:"confirmPassword",value:m,onChange:N,placeholder:"Enter your confirm password",type:"PASSWORD",className:"mt-16",errMes:h}),Object(te.jsx)(xe,{title:"Address",name:"address",value:b,onChange:N,placeholder:"Enter your address",className:"mt-16",errMes:O})]})}),Object(te.jsx)(Ee,{disabled:ga(r),leftTitle:"Cancel",rightTitle:"Register",onClickLeftBtn:function(){s({isStep1:!0})},onClickRightBtn:y,loading:g})]})})};ya.defaultProps={className:"",visible:!1,onClickCancel:function(){}};var wa=ya,Ca=function(e){var a=Object(H.g)(),t=Object(H.h)(),r=ee({visibleLogin:!1,visibleRegister:!1}),s=Object(K.a)(r,2),c=s[0],i=s[1],o=e.className,l=c.visibleLogin,d=c.visibleRegister,u=function(){i({visibleLogin:!l})},m=function(){i({visibleRegister:!d})},f=k.a.getDataLogin(),j=f.isVerify,b=void 0===j||j,p=f.phone;return Object(n.useEffect)((function(){z.a.isEmpty(e.login)&&z.a.isEmpty(k.a.getDataLogin())&&(console.log("No current user"),i({}))}),[e.login]),Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("div",{className:J()("home-header",o),children:Object(te.jsx)("div",{className:"home-header-btns",children:p?Object(te.jsxs)(te.Fragment,{children:[!b&&Object(te.jsx)(ie.a,{type:"link",onClick:function(){},className:"home-header-active-account-btn",children:"Activate account"}),Object(te.jsx)(ie.a,{type:"link",onClick:function(){"/user"!==t.pathname&&a.push("/user")},className:"home-header-username-btn",children:p}),Object(te.jsx)(ie.a,{type:"link",onClick:function(){"/history"!==t.pathname&&a.push("/history")},className:"home-header-username-btn",children:"History"}),Object(te.jsx)(ie.a,{type:"link",onClick:function(){k.a.logout(),e.logoutRequest(),a.push("/acestore"),i({})},className:"home-header-logout-btn",children:"Logout"})]}):Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(ie.a,{type:"link",onClick:u,className:"home-header-login-btn",children:"Login"}),Object(te.jsx)(ie.a,{type:"link",onClick:m,className:"home-header-register-btn",children:"Register"})]})})}),Object(te.jsx)(fa,{visible:l,onClickCancel:u,loginRequest:e.loginRequest}),Object(te.jsx)(wa,{visible:d,onClickCancel:m})]})};Ca.defaultProps={className:""};var Ea={loginRequest:function(e){return{type:w.LOGIN_REQUEST,data:e}},logoutRequest:se},ka=Object(c.b)((function(e){return{login:e.login}}),Ea)(Ca),Da=t(375),Sa=(t(333),function(e){Object(n.useEffect)((function(){}),[]);var a=e.loading,t=e.columns,r=e.className,s=e.rowKey,c=(e.name,e.totalData),i=e.onRowClick;return Object(te.jsx)(Da.a,{rowKey:s,className:J()(r,"antd-table"),dataSource:c,onRow:function(e,a){return{onClick:function(t){i(a,e)}}},pagination:!1,columns:t,loading:a})});Sa.defaultProps={name:"",className:void 0,onRowClick:function(){},shouldHideNextButton:!1,fetchData:function(){},loading:!1,sorter:{},shouldShowAllData:!1,handleChangePage:function(){},isNoPagination:!1,page:1,sticky:!1};var Pa=Sa,Ta=t(214),Fa=(t(339),function(e){var a=e.className;return Object(te.jsx)("div",{className:J()("loading",a),children:Object(te.jsx)(Ta.a,{})})});Fa.defaultProps={className:""};var Ra,La,Aa=Fa,Ia=Object(Ge.a)(Ra||(Ra=Object($e.a)(["\n  mutation createAnyCustomerOrder($input: AnyCustomerOrderInput!) {\n    createAnyCustomerOrder(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),_a=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.mutate({mutation:Ia,variables:a});case 3:return t=e.sent,n=null===t||void 0===t?void 0:t.data,r=n.createAnyCustomerOrder,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),Ma=_a,qa=Object(Ge.a)(La||(La=Object($e.a)(["\n  mutation createOrder($input: [OrderInput]!) {\n    createOrder(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Ua=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:return t=e.sent,e.next=6,t.mutate({mutation:qa,variables:a});case 6:return n=e.sent,r=(null===n||void 0===n?void 0:n.data)||{},s=r.createOrder,e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),Ba=Ua,Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[],t=1;return _.forEach(e,(function(e){_.forEach(e.data||[],(function(e){e.isBuy&&(a.push(Object(d.a)(Object(d.a)({},e),{},{index:t})),t+=1)}))})),a},$a=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:[],t=i.length>1&&void 0!==i[1]?i[1]:"",n=i.length>2&&void 0!==i[2]?i[2]:"",r=i.length>3&&void 0!==i[3]?i[3]:"",s=a.map((function(e){return{food:e.id,quantity:parseFloat(e.quantity.slice(0,3)),email:t,notes:n,status:"Pending",price:e.price,destination:r}})),console.log({sendingData:s,foodData:a}),e.prev=6,e.next=9,Ba({input:s});case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(6),console.log("Failed to create order: ",{error:e.t0}),e.abrupt("return",{isSuccess:!1,message:e.t0});case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}(),Ga=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c,i,o,l,d,u=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>0&&void 0!==u[0]?u[0]:[],t=u.length>1&&void 0!==u[1]?u[1]:{},n=t.email,r=t.username,s=t.address,c=t.phone,i=t.notes,o=t.destination,l=a.map((function(e){return{food:e.id,quantity:parseFloat(e.quantity.slice(0,3)),email:n,notes:i,status:"Pending",price:e.price,destination:o}})),d={orders:l,customer:{email:n,username:r,address:s,phone:c,password:c}},e.prev=6,e.next=9,Ma({input:d});case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",{isSuccess:!1,message:e.t0});case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),Ya=(t(340),function(e){var a=Object(H.h)(),t=Object(H.g)(),n=ee({foodData:Va(a.state),anyCustomerVisible:!1,notes:"",destination:"",loading:!1}),r=Object(K.a)(n,2),s=r[0],c=r[1],i=e.className,o=s.foodData,l=s.anyCustomerVisible,d=s.notes,m=s.destination,j=s.loading,b=Ze(a.state).total,p=k.a.getDataLogin(),h=p.address,v=p.phone,O=p.email,g=function(e,a){c(Object(ce.a)({},e,a))},x=function(){var e=Object(u.a)(f.a.mark((function e(){var a,n,r,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:{},c({loading:!0}),e.next=4,Ga(o,a);case 4:n=e.sent,r={loading:!1},n.isSuccess?(alert("Successfully creating order!"),k.a.setFoodData(void 0),z.a.assign(r,{anyCustomerVisible:!1}),setTimeout((function(){t.push("/acestore")}),300)):alert("Failed to create order: ",n.message),c(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h&&v&&O){e.next=3;break}return c({anyCustomerVisible:!0}),e.abrupt("return");case 3:return c({loading:!0}),e.next=6,$a(o,O,d,m);case 6:(a=e.sent).isSuccess?(alert("Successfully creating order!"),k.a.setFoodData(void 0),t.push("/acestore")):alert("Failed to create order: ",a.message),c({loading:!1});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.jsxs)("div",{className:J()("food-order",i),children:[Object(te.jsx)(ka,{}),Object(te.jsxs)("div",{className:"food-order-body",children:[Object(te.jsxs)("div",{className:"food-order-body-toper",children:[Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b",children:"Payment Options:"}),Object(te.jsx)("span",{className:"ml-4",children:"Cash - When receiving"})]}),Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b",children:"Total:"}),Object(te.jsx)("span",{className:"ml-4",children:sa(b,void 0,"")})]})]}),Object(te.jsxs)("div",{className:"food-order-body-toper",children:[Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b",children:"Delivery:"}),Object(te.jsx)("span",{className:"ml-4",children:h})]}),Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b",children:"Contact at:"}),Object(te.jsx)("span",{className:"ml-4",children:v})]})]}),O&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(xe,{titleClassName:"b",title:"Destination",name:"destination",value:m,onChange:g,placeholder:"Enter your notes",className:"mt-16"}),Object(te.jsx)(xe,{titleClassName:"b",title:"Notes",name:"notes",value:d,onChange:g,placeholder:"Enter your notes",className:"mt-16",type:"TEXTAREA"})]}),Object(te.jsxs)("div",{className:"food-order-body-btns",children:[Object(te.jsx)(ie.a,{onClick:function(){t.push("/acestore")},children:"Back"}),Object(te.jsx)(ie.a,{type:"primary",onClick:N,children:"Confirm"})]}),Object(te.jsx)(Pa,{className:"mt-48",rowKey:"id",totalData:o,columns:[{title:"No.",dataIndex:"index"},{title:"Name",dataIndex:"name"},{title:"Price",dataIndex:"price",render:function(e){return sa(e,void 0,"")}},{title:"Quantity",dataIndex:"quantity"}]})]}),Object(te.jsx)(Ae,{visible:l,onClickCancel:function(){c({anyCustomerVisible:!l})},onClick:x}),j&&Object(te.jsx)(Aa,{})]})});Ya.defaultProps={className:""};var Ha,Ka,Qa,Wa,Ja=Object(c.b)((function(e){return{login:e.login}}),{})(Ya),Za=t(385),Xa=t(382),za=Object(Ge.a)(Ka||(Ka=Object($e.a)(["\n  {\n    id\n    title\n    name\n    rating\n    price\n    quantityType\n    createdAt\n  }\n"]))),et=Object(Ge.a)(Qa||(Qa=Object($e.a)(["\n  {\n    id\n    food\n    quantity\n    createdAt\n    email\n    notes\n    status\n    price\n    destination\n  }\n"]))),at=Object(Ge.a)(Wa||(Wa=Object($e.a)(["\n  subscription newFoodOrders {\n    newFoodOrders {\n      food {\n        ...","\n      }\n      foodOrder {\n        ...","\n      }\n      user {\n        ...","\n      }\n    }\n  }\n"])),za,et,ze),tt=function(e){var a,t=Object(n.useRef)(),r=Object(Xa.a)(at),s=r.data;r.loading;return null!==s&&void 0!==s&&s.newFoodOrders&&0!==(null===s||void 0===s||null===(a=s.newFoodOrders)||void 0===a?void 0:a.length)&&!_.isEqual(s,t.current)?(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;ye.a.destroy(),Ha&&clearTimeout(Ha),Ha=setTimeout((function(){ye.a.success({message:e,description:t,placement:"bottomLeft",duration:a})}),300)}("New food order(s) arrived!",void 0,"Press refresh to load more food order(s)"),Object(te.jsx)(ie.a,{type:"primary",onClick:function(){e.updateOrders(),t.current=s},className:e.className,children:Object(te.jsx)(Za.a,{})})):null};tt.defaultProps={className:"",updateOrders:function(){},isShowBtn:!1};var nt=tt,rt=t(381),st=t(162),ct=t(88),it=function(e){var a=e.className,t=e.data,n=e.type,r=e.title,s=e.value,c=e.textClass,i=e.onChange,o=e.titleClassName,l=e.radioItemClassName,d=e.name,u=e.isObj,m=e.loading,f=e.disabled,j="mt18",b="",p=o;switch(n){case"QUESTION":j="mt8",b="question-item-normal",p="question-title";break;case"SCORE":b="score-ct",j="";break;case"BIG":b="big-margin";break;case"NONE":j="mt12",b="fw-normal"}return Object(te.jsxs)("div",{className:J()("radio-ct",a),children:[Object(te.jsx)(fe,{title:r,className:p}),m?Object(te.jsx)("div",{children:Object(te.jsx)(Ta.a,{indicator:Object(te.jsx)(ct.a,{spin:!0})})}):Object(te.jsx)(st.a.Group,{onChange:function(e){return i(d,e.target.value)},value:s,disabled:f,children:u?z.a.map(t,(function(e,a){return Object(te.jsxs)("div",{className:J()("radio-item",l),children:[Object(te.jsx)(st.a,{value:e,className:J()(j,b,c,e.content?"fw-600":""),children:e.title}),e.content?Object(te.jsx)("div",{className:"radio-content",children:Object(te.jsx)("span",{children:e.content})}):null]},a)})):z.a.map(t,(function(e,a){return Object(te.jsx)(st.a,{value:e,children:e},e)}))})]})};it.defaultProps={name:"",className:"",textClass:"",titleClassName:"",radioItemClassName:"",onChange:function(){},data:[],type:"SCORE",title:"",value:void 0,isObj:!1,loading:!1,disabled:!1};var ot,lt=it,dt=Object(Ge.a)(ot||(ot=Object($e.a)(["\n  mutation changeOrderStatus($status: String!, $orderId: ID!) {\n    changeOrderStatus(status: $status, orderId: $orderId) {\n      isSuccess\n      message\n    }\n  }\n"]))),ut=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,M();case 4:return t=e.sent,e.next=7,t.mutate({mutation:dt,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.changeOrderStatus,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),mt=ut,ft=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:"",t=s.length>1&&void 0!==s[1]?s[1]:"",n={status:t,orderId:a},e.prev=3,e.next=6,mt(n);case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(3),{isSuccess:!1,message:e.t0};case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),jt=(t(341),function(e){var a=ee({loading:!1}),t=Object(K.a)(a,2),n=t[0],r=t[1],s=e.visible,c=e.className,i=e.data,o=e.onClose,l=e.onUpdateFoodOrder,d=i.date,m=i.status,j=i.foodOrderId,b=i.notes,p=i.destination,h=n.loading,v=function(){var a=Object(u.a)(f.a.mark((function a(t,n){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(j&&n){a.next=2;break}return a.abrupt("return");case 2:return r({loading:!0}),a.prev=3,a.next=6,ft(j,n);case 6:a.sent.isSuccess&&l(z.a.assign(e.data,{status:n})),r({loading:!1}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),r({loading:!1});case 14:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e,t){return a.apply(this,arguments)}}();return Object(te.jsx)(rt.a,{title:"Food order",placement:"right",width:400,closeIcon:Object(te.jsx)(ke.a,{className:"color-gray-9"}),onClose:o,visible:s,className:"food-order-drawer",maskClosable:!1,children:Object(te.jsxs)("div",{className:J()("food-order-drawer-wrapper",c),children:[Object(te.jsxs)("div",{className:"food-order-drawer-created-at",children:[Object(te.jsx)("span",{className:"b mr-4",children:"Created at: "}),Object(te.jsx)("span",{children:he()(d).format("HH:mm, DD/MM/YY")})]}),Object(te.jsxs)("div",{className:"food-order-drawer-total",children:[Object(te.jsx)("span",{className:"b mr-4",children:"Total: "}),Object(te.jsx)("span",{children:i.total||""})]}),Object(te.jsx)(lt,{data:Be,value:m,title:"Status:",titleClassName:"b pos-re",className:"mt-16 mb-16",onChange:v,loading:h,disabled:!e.isEditable}),Object(te.jsx)("div",{className:"mt-16",children:Object(te.jsx)("span",{className:"b",children:"Food list: "})}),z.a.map(i.data||[],(function(e,a){return Object(te.jsx)("div",{className:"food-order-drawer-row",children:"".concat(a+1,": ").concat(e.name," - Price: ").concat(sa(e.price,void 0,"")," - Quantity: ").concat(e.quantity)},a)})),Object(te.jsx)("div",{className:"mt-16",children:Object(te.jsx)("span",{className:"b",children:"Destination: "})}),Object(te.jsx)("div",{className:"food-order-drawer-notes",children:p||""}),Object(te.jsx)("div",{className:"mt-16",children:Object(te.jsx)("span",{className:"b",children:"Notes: "})}),Object(te.jsx)("div",{className:"food-order-drawer-notes",children:b||""})]})})});jt.defaultProps={className:"",data:{},visible:!1,toggleClick:function(){},onClose:function(){},onUpdateFoodOrder:function(){},isEditable:!0};var bt=jt,pt=(t(342),function(e){var a=e.className,t=e.cell,n="--pending";switch(t){case Be[0]:n="--pending";break;case Be[1]:n="--on-going";break;case Be[2]:n="--done";break;case Be[3]:n="--cancel"}return Object(te.jsx)("div",{className:J()("display-status",a),children:Object(te.jsx)("span",{className:n,children:t})})});pt.defaultProps={className:"",cell:""};var ht=pt,vt=(t(343),function(e){var a=ee({foodOrderData:{}}),t=Object(K.a)(a,2),n=t[0],r=t[1],s=e.className,c=e.data,i=n.foodOrderData;return Object(te.jsxs)("div",{className:J()("admin-order-table",s),children:[0===c.length?Object(te.jsx)("div",{className:"no-data",children:"There is no data to display"}):Object(te.jsx)(Pa,{className:"mt-16",rowKey:"index",totalData:c,columns:[{title:"Date",dataIndex:"date",render:function(e){return he()(e).format("HH:mm")}},{title:"Username",dataIndex:"username"},{title:"Total",dataIndex:"total"},{title:"Address",dataIndex:"address"},{title:"Phone number",dataIndex:"phone"},{title:"Status",dataIndex:"status",render:function(e){return Object(te.jsx)(ht,{cell:e})}}],onRowClick:function(e,a){console.log({record:a}),r({foodOrderData:a})}}),Object(te.jsx)(bt,{visible:!z.a.isEmpty(i),data:i,onClose:function(){r({foodOrderData:{}})},onUpdateFoodOrder:function(e){r({foodOrderData:e})},isEditable:e.isEditable})]})});vt.defaultProps={className:"",data:[],date:void 0,fetchHistory:function(){},isShow:!1,status:"",notes:"",isEditable:!0};var Ot,gt=vt,xt=Object(Ge.a)(Ot||(Ot=Object($e.a)(["\n  query orderHistory($date: String!, $isAll: Boolean) {\n    orderHistory(date: $date, isAll: $isAll) {\n      food {\n        ...","\n      }\n      foodOrder {\n        ...","\n      }\n      user {\n        ...","\n      }\n    }\n  }\n"])),za,et,ze),Nt=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,M();case 4:return t=e.sent,e.next=7,t.query({query:xt,variables:a});case 7:return n=e.sent,r=(null===n||void 0===n?void 0:n.data)||{},s=r.orderHistory,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),yt=Nt,wt=function(e,a){var t,n,r,s;return{name:(null===e||void 0===e||null===(t=e.food)||void 0===t?void 0:t.name)||"",price:(null===e||void 0===e||null===(n=e.foodOrder)||void 0===n?void 0:n.price)||"",food:(null===e||void 0===e||null===(r=e.food)||void 0===r?void 0:r.id)||"",quantity:(null===e||void 0===e||null===(s=e.foodOrder)||void 0===s?void 0:s.quantity)||""}},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=[],n=_.groupBy(e,(function(e){var a;return null===e||void 0===e||null===(a=e.foodOrder)||void 0===a?void 0:a.createdAt}));return Object.keys(n).forEach((function(e,r){var s,c,i,o,l,d,u,m,f,j,b,p,h,v,O,g,x,N,y,w,C,E,k,D=_.map(n[e],(function(e,a){return wt(e)}));t.push({index:r+a,date:e,data:D,notes:(null===(s=n[e])||void 0===s||null===(c=s[0])||void 0===c||null===(i=c.foodOrder)||void 0===i?void 0:i.notes)||"",destination:(null===(o=n[e])||void 0===o||null===(l=o[0])||void 0===l||null===(d=l.foodOrder)||void 0===d?void 0:d.destination)||"",status:(null===(u=n[e])||void 0===u||null===(m=u[0])||void 0===m||null===(f=m.foodOrder)||void 0===f?void 0:f.status)||"",username:(null===(j=n[e])||void 0===j||null===(b=j[0])||void 0===b||null===(p=b.user)||void 0===p?void 0:p.username)||"",total:ca(D),address:(null===(h=n[e])||void 0===h||null===(v=h[0])||void 0===v||null===(O=v.user)||void 0===O?void 0:O.address)||"",phone:(null===(g=n[e])||void 0===g||null===(x=g[0])||void 0===x||null===(N=x.user)||void 0===N?void 0:N.phone)||"",user:(null===(y=n[e])||void 0===y||null===(w=y[0])||void 0===w?void 0:w.user)||{},foodOrderId:(null===(C=n[e])||void 0===C||null===(E=C[0])||void 0===E||null===(k=E.foodOrder)||void 0===k?void 0:k.id)||""})})),_.orderBy(t,[function(e){return he()(e.date).valueOf()}],["desc"])},Et=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},t=a.currentDate,n=a.email,r={date:he()(t).format("DD/MM/YYYY"),email:n},e.prev=3,e.next=6,yt(r);case 6:return s=e.sent,e.abrupt("return",Ct(s));case 10:return e.prev=10,e.t0=e.catch(3),console.log("Failed to get food orders: ",e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),kt=(t(344),function(e){var a=ee({data:[],currentDate:he()(),loading:!0}),t=Object(K.a)(a,2),r=t[0],s=t[1],c=e.className,i=e.isAll,o=r.currentDate,l=r.data,d=r.loading,m=function(){var e=Object(u.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return s({loading:!0}),e.prev=3,e.next=6,Et({currentDate:o,isAll:i});case 6:a=e.sent,s({data:a,loading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),s({loading:!1});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){m()}),[o]);return Object(te.jsxs)("div",{className:J()("customer-orders",c),children:[Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)(Oe,{className:"customer-orders-cur-date",placeholder:"Choose date",value:o,onChange:function(e,a){s(Object(ce.a)({},e,a))},name:"currentDate"}),Object(te.jsx)("div",{className:"customer-orders-date",children:he()(o||void 0).format("dddd, MMMM DD, YYYY")}),Object(te.jsx)(nt,{className:"ml-24",updateOrders:m})]}),Object(te.jsx)(gt,{data:l,isEditable:e.isAll}),d&&Object(te.jsx)(Aa,{})]})});kt.defaultProps={className:"",isAll:!1};var Dt=kt,St=(t(345),function(e){var a=Object(H.g)(),t=e.className;return Object(n.useEffect)((function(){k.a.isSuccess()||(null===a||void 0===a||a.push("/acestore"),console.log("logout"))}),[e.login]),Object(te.jsxs)("div",{className:J()("history",t),children:[Object(te.jsx)(ka,{}),Object(te.jsx)("div",{className:"history-body",children:Object(te.jsx)(Dt,{isAll:!1})})]})});St.defaultProps={className:""};var Pt=Object(c.b)((function(e){return{login:e.login}}),{})(St),Tt=t(222),Ft=(t(346),t.p+"static/media/star.90b70187.svg"),Rt=t.p+"static/media/star-inactive.a4bed773.svg",Lt=t(132),At=(t(347),Lt.a.Option),It=function(e){var a=Object(n.useRef)(void 0),t=e.className,r=e.placeholder,s=e.data,c=e.title,i=e.showSearch,o=e.defaultValue,l=e.isValueOutside,d=e.value,u=e.mode,m=e.suffixIcon,f=e.name,j=e.disabled,b=e.isObject;return Object(te.jsxs)("div",{className:J()("select-ct-wrapper",t),children:[Object(te.jsx)(fe,{title:c}),Object(te.jsx)(Lt.a,{getPopupContainer:function(e){return e.parentElement},disabled:j,ref:a,suffixIcon:m,mode:u,defaultValue:o,value:l?[]:b?(null===d||void 0===d?void 0:d.label)||void 0:d,showSearch:i,placeholder:r,optionFilterProp:"children",onChange:function(t){e.onChange(f,t),a.current.blur()},onSearch:i?function(a){e.onSearch(f,a)}:void 0,filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:b?z.a.map(s,(function(e,a){return Object(te.jsx)(At,{value:e.label,children:e.label},a)})):z.a.map(s,(function(e,a){return Object(te.jsx)(At,{value:e,children:e},a)}))})]},"select-ct-wrapper-".concat(e.name))};It.defaultProps={className:void 0,title:"",placeholder:"Select...",data:[],onChange:function(){},onSearch:function(){},showSearch:!0,defaultValue:void 0,isValueOutside:!1,mode:void 0,value:[],suffixIcon:void 0,name:"",disabled:!1,isObject:!1};var _t=It,Mt=(t(348),function(e){var a=e.className,t=e.rating,n=e.onClick,r=e.isButton,s=null===n,c=s?"cur-not-allowed":"cur-pointer";return Object(te.jsx)("div",{className:J()("display-rating",a),children:r?Object(te.jsxs)(te.Fragment,{children:[z.a.map(z.a.range(t),(function(e,a){return Object(te.jsx)("button",{className:"bas-btn ".concat(c),onClick:function(){return n(a+1)},disabled:s,children:Object(te.jsx)("img",{src:Ft,alt:"Star ic"})},e)})),z.a.map(z.a.range(5-t),(function(e,a){return Object(te.jsx)("button",{className:"bas-btn ".concat(c),onClick:function(){return n(t+a+1)},disabled:s,children:Object(te.jsx)("img",{src:Rt,alt:"Star inactive ic"})},e)}))]}):Object(te.jsxs)(te.Fragment,{children:[z.a.map(z.a.range(t),(function(e){return Object(te.jsx)("img",{src:Ft,alt:"Star ic",className:"mr-2"},e)})),z.a.map(z.a.range(5-t),(function(e,a){return Object(te.jsx)("img",{src:Rt,alt:"Star ic",className:4-t!==e?"mr-2":""},a)}))]})})});Mt.defaultProps={className:"",onClick:function(){},rating:1,isButton:!1};var qt=Mt,Ut=function(e){var a=Object(n.useRef)(void 0),t=ee({searchName:"",rating:0,kind:void 0,minPrice:void 0,maxPrice:void 0}),r=Object(K.a)(t,2),s=r[0],c=r[1],i=e.className,o=e.onFilterFood,l=function(e,a){c(Object(ce.a)({},e,a))},d=s.searchName,u=s.rating,m=s.kind,f=s.minPrice,j=s.maxPrice;return ae((function(){a.current&&clearTimeout(a.current),a.current=setTimeout((function(){o(s)}),200)}),[d,u,m,f,j]),Object(te.jsxs)("div",{className:J()("filter-block",i),children:[Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("div",{className:"filter-block-title",children:"Search:"}),Object(te.jsx)(xe,{name:"searchName",value:d,onChange:l,className:"filter-block-search"}),Object(te.jsx)("div",{className:"filter-block-star",children:"Stars:"}),Object(te.jsx)(qt,{rating:u,isButton:!0,onClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e!==s.rating?c({rating:e}):c({rating:0})},className:"filter-block-star-dis"})]}),Object(te.jsxs)("div",{className:"filter-block-row",children:[Object(te.jsx)(_t,{name:"kind",value:m,onChange:l,className:"w-160",title:"Kind of food:",data:k.a.getKindOfFood()||[]}),Object(te.jsx)(_t,{name:"minPrice",value:f,onChange:l,title:"Min price:",className:"ml-48 w-160",type:"NUMBER",data:z.a.filter(Ve,(function(e){return!j||e<j}))}),Object(te.jsx)(_t,{name:"maxPrice",value:j,onChange:l,title:"Max price:",className:"ml-48 w-160",type:"NUMBER",data:z.a.filter(Ve,(function(e){return!f||e>f}))})]})]})};Ut.defaultProps={className:"",onFilterFood:function(){}};var Bt=Ut,Vt=(t(349),function(e){var a=e.visible,t=e.className,n=e.toggleClick,r=(e.loading,e.data),s=r.name,c=r.price,i=r.image,o=r.rating;return Object(te.jsx)(Ne.a,{className:"food-info-modal",visible:a,closable:!1,footer:null,destroyOnClose:!0,centered:!0,onCancel:n,children:Object(te.jsxs)("div",{className:J()("food-info-modal-wrapper",t),children:[Object(te.jsx)(Se,{title:s,onClick:n}),Object(te.jsxs)("div",{className:"food-info-modal-main",children:[Object(te.jsx)("img",{src:i,alt:"Food card img"}),Object(te.jsxs)("div",{className:"fr-sb mt-16",children:[Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b",children:"Rating:"}),Object(te.jsx)(qt,{rating:o,className:"ml-4"})]}),Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b",children:"Price:"}),Object(te.jsx)("span",{className:"ml-4",children:sa(c,void 0,"")})]})]})]})]})})});Vt.defaultProps={className:"",data:{},loading:!1,visible:!1,toggleClick:function(){}};var $t=Vt,Gt=(t(350),function(e){var a=ee({name:e.name,price:e.price,rating:e.rating,isBuy:e.isBuy,quantity:e.quantity?e.quantity:e.quantityType===Ie?Me[0]:qe[0],quantityType:e.quantityType,visibleFoodInfo:!1}),t=Object(K.a)(a,2),n=t[0],r=t[1],s=e.className,c=e.quantityType,i=e.image,o=e.unit,l=e.onChangeCart,d=n.name,u=n.price,m=n.rating,f=n.isBuy,j=n.quantity,b=n.visibleFoodInfo;ae((function(){l(n)}),[f,j]),ae((function(){r({isBuy:e.isBuy})}),[e.isBuy]);var p=function(){r({isBuy:!f})},h=function(){r({visibleFoodInfo:!b})};return Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:J()("food-card",f&&"food-card-active",s),children:[i?Object(te.jsx)("div",{className:"food-card-img",onClick:p,children:Object(te.jsx)("img",{src:i,alt:"Food card img",className:"food-card-img-dis"})}):Object(te.jsx)("div",{className:"food-card-img",onClick:p}),Object(te.jsxs)("div",{className:"food-card-info",children:[Object(te.jsx)("div",{className:"food-card-info-name",children:d}),Object(te.jsxs)("div",{className:"fr-sb",children:[Object(te.jsxs)("div",{className:"food-card-info-col",children:[Object(te.jsx)("div",{className:"food-card-info-col-price",children:sa(u,o)}),Object(te.jsx)(_t,{disabled:!f,name:"quantity",showSearch:!1,className:"mt-4",value:j,onChange:function(e,a){r(Object(ce.a)({},e,a))},data:c===Ie?Me:qe})]}),Object(te.jsxs)("div",{className:"food-card-info-col",children:[Object(te.jsx)(qt,{rating:m,className:"food-card-info-col-rating"}),Object(te.jsx)(ie.a,{className:"mt-10",onClick:h,children:"More info"})]})]})]}),f&&Object(te.jsx)("div",{className:"food-card-isbuy",children:"Buy"})]}),Object(te.jsx)($t,{visible:b,toggleClick:h,data:{name:d,rating:m,price:u,image:i}})]})});Gt.defaultProps={className:"",name:"",price:0,rating:3,isBuy:!1,quantity:"",quantityType:Ie,image:"",unit:"VND",onChangeCart:function(){}};var Yt=Gt,Ht=function(e){var a=Object(n.useRef)(void 0),t=Object(n.useRef)(void 0),s=ee({isShow:e.isShow}),c=Object(K.a)(s,2),i=c[0],o=c[1],l=e.className,u=e.data,m=e.title,f=e.onChangeCart,j=i.isShow;Object(n.useEffect)((function(){if(!j){var e=Object(r.findDOMNode)(a.current);ba()(e).slideUp("slow")}}),[]);return Object(te.jsxs)("div",{className:J()("food-table",l),children:[Object(te.jsx)("div",{className:"food-table-title",children:Object(te.jsx)("span",{children:m})}),Object(te.jsx)("div",{ref:a,children:Object(te.jsx)("div",{className:"food-table-wrap",children:z.a.map(u,(function(e,a){return Object(te.jsx)(Yt,Object(d.a)(Object(d.a)({},e),{},{onChangeCart:function(e){return f(e,m)},className:"mr-24 mt-24"}),a)}))})}),Object(te.jsx)("div",{className:"food-table-ender"}),Object(te.jsx)(ie.a,{type:"link",onClick:function(){t.current&&clearTimeout(t.current),t.current=setTimeout((function(){var e=Object(r.findDOMNode)(a.current);e&&ba()(e).slideToggle("slow"),o({isShow:!j})}),200)},className:"food-table-show-btn",children:j?"Hide":"Show"})]})};Ht.defaultProps={className:"",data:[],title:"",onChangeCart:function(){},isShow:!1};var Kt=Ht,Qt=function(e){var a=e.className,t=e.total,n=e.onClickBuy,r=e.onClickReset;return Object(te.jsxs)("div",{className:J()("home-total",a),children:[Object(te.jsxs)("div",{className:"fr-sb",children:[Object(te.jsx)("div",{className:"home-total-title",children:"Total:"}),Object(te.jsx)(ie.a,{type:"primary",danger:!0,onClick:r,disabled:!t,children:"Reset cart"})]}),Object(te.jsx)("div",{className:"home-total-price",children:sa(t,void 0,"")}),Object(te.jsx)(ie.a,{block:!0,type:"primary",onClick:n,disabled:!t,children:"Buy now"})]})};Qt.defaultProps={className:"",total:0,onClickBuy:function(){},onClickReset:function(){}};var Wt=Qt,Jt=function(e){var a=Object(H.g)(),t=ee({foodData:0!==k.a.getFoodData().length?k.a.getFoodData():[],arrImages:[],loading:!0,rawFoodData:0!==k.a.getFoodData().length?k.a.getFoodData():[]}),r=Object(K.a)(t,2),s=r[0],c=r[1],i=function(){var e=Object(u.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:a=e.t0,c({foodData:a,rawFoodData:a,loading:!1}),e.next=13;break;case 10:e.prev=10,e.t1=e.catch(0),c({loading:!1});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){0===k.a.getFoodData().length?i():c({loading:!1})}),[]);var o=e.className,l=s.foodData,m=s.loading,j=Ze(l),b=j.cartTags,p=j.total,h=function(){var e=z.a.cloneDeep(l);z.a.forEach(e,(function(e){z.a.forEach(e.data||[],(function(e){z.a.assign(e,{isBuy:!1})}))})),k.a.setFoodData(void 0),c({foodData:e})},v=function(){a.push({pathname:"/food-order",state:l}),k.a.setFoodData(l)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=z.a.find(l,(function(e){return e.title===a})),n=t.data,r=z.a.find(n,(function(a){return a.name===e.name}));z.a.assign(r,Object(d.a)({},e)),k.a.setFoodData(l),c({foodData:l})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c({foodData:[],loading:!0}),setTimeout((function(){var a=Xe(e,s.rawFoodData);c({foodData:z.a.cloneDeep(a),loading:!1})}),400)};return Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:J()("home-body",o),children:[Object(te.jsxs)("div",{className:"home-body-toper",children:[Object(te.jsx)(Bt,{onFilterFood:g}),Object(te.jsx)(Wt,{className:"home-body-toper-block-3",total:p,onClickReset:h,onClickBuy:v})]}),Object(te.jsxs)("div",{className:"home-body-main",children:[0!==b.length&&Object(te.jsxs)("div",{className:"home-body-cart-tag animation-fadein-2s",children:[Object(te.jsx)("div",{className:"home-body-cart-tag-title",children:Object(te.jsx)("span",{children:"Your cart:"})}),z.a.map(b,(function(e,a){return Object(te.jsx)(Tt.a,{className:"home-body-cart-tag-item",color:"orange",children:e},a)}))]}),z.a.map(l,(function(e,a){return 0!==e.data.length&&e.title&&Object(te.jsx)(Kt,{className:"animation-fadein-2s",title:e.title,data:e.data,onChangeCart:O,isShow:0===a},a)}))]})]}),m&&Object(te.jsx)(Aa,{})]})};Jt.defaultProps={className:""};var Zt=Jt,Xt=function(e){var a=e.className;return Object(te.jsxs)("div",{className:J()("home-footer",a),children:[Object(te.jsxs)("div",{className:"home-footer-contact",children:[Object(te.jsx)("div",{className:"b",children:"Contacts"}),Object(te.jsx)("div",{className:"mt-2",children:"tttriet1997@gmail.com"}),Object(te.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100015087697713",className:"mt-2 fs-16",target:"blank",children:"Facebook"})]}),Object(te.jsxs)("div",{className:"home-footer-address",children:[Object(te.jsx)("div",{className:"b",children:"Address"}),Object(te.jsx)("div",{className:"mt-2",children:"329 L\xea V\u0103n L\u01b0\u01a1ng, District.7, HCM city."}),Object(te.jsx)("div",{className:"mt-2",children:"(+84) 819 541 897 (Zalo)"})]}),Object(te.jsx)("div",{className:"home-footer-copyright",children:"\xa9 2021 - Acestore"})]})};Xt.defaultProps={className:""};var zt=Xt,en=function(e){var a=e.className;return Object(te.jsxs)("div",{className:J()("home",a),children:[Object(te.jsx)(ka,{}),Object(te.jsx)(Zt,{}),Object(te.jsx)(zt,{})]})};en.defaultProps={className:""};var an=en,tn=t(376),nn=t(386),rn=(t(351),function(e){var a,t,n,r,s=e.visible,c=e.type,i=e.className,o=e.icon,l=e.children,d=e.toggleClick,u=e.onClick,m=e.loading;switch(c){case"CLONE_ORDER":a="Clone the order",t="Are you sure want to clone this order?",n="Cancel",r="Yes";break;case"SEND_VERIFY_CODE":a="Send code",t="Are you sure want to send code?",n="Cancel",r="Yes";break;case"CHANGE_PASSWORD":a="Change password",t="Are you sure want to change new password?",n="Cancel",r="Yes"}return Object(te.jsx)(Ne.a,{className:"modal-send-report",visible:s,closable:!1,footer:null,destroyOnClose:!0,centered:!0,children:Object(te.jsxs)("div",{className:J()("confirm-modal",i),children:[Object(te.jsxs)("div",{className:"confirm-modal-body",children:[Object(te.jsxs)("div",{className:"cl-body-row",children:[o||Object(te.jsx)(nn.a,{className:"row-icon"}),Object(te.jsx)("div",{className:"row-title",children:Object(te.jsx)("span",{children:a})})]}),t&&Object(te.jsx)("div",{className:"cl-body-content",children:Object(te.jsx)("span",{children:t})}),l]}),Object(te.jsx)("div",{className:"confirm-modal-footer",children:Object(te.jsxs)("div",{className:"cl-footer-buttons",children:[Object(te.jsx)(ie.a,{className:"mr8",onClick:d,disabled:m,children:n}),Object(te.jsx)(ie.a,{type:"primary",danger:!1,onClick:u,loading:m,children:r})]})})]})})});rn.defaultProps={className:void 0,type:"CLONE_ORDER",loading:!1,icon:void 0,visible:!1,message:"",rightBtnTitle:"",children:null,toggleClick:function(){}};var sn,cn=rn,on=Object(Ge.a)(sn||(sn=Object($e.a)(["\n  mutation changePassword($password: String!, $newPassword: String!) {\n    changePassword(password: $password, newPassword: $newPassword) {\n      isSuccess\n      message\n    }\n  }\n"]))),ln=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,M();case 4:return t=e.sent,e.next=7,t.mutate({mutation:on,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.changePassword,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),dn=ln,un=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:"",t=r.length>1&&void 0!==r[1]?r[1]:"",e.prev=2,e.next=5,dn({password:a,newPassword:t});case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("Failed to change password: ",e.t0);case 11:return n.isSuccess?alert("Successfully changing password!"):alert("Unsuccessfully changing password!"),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),mn=(t(352),function(e){var a=ee({password:"",newPassword:"",confirmPassword:"",passwordErr:"",newPasswordErr:"",confirmPasswordErr:"",visibleChangePass:!1,loading:!1}),t=Object(K.a)(a,2),n=t[0],r=t[1],s=e.className,c=e.onClickCancel,i=n.password,o=n.newPassword,l=n.confirmPassword,d=n.passwordErr,m=n.newPasswordErr,j=n.confirmPasswordErr,b=n.visibleChangePass,p=n.loading,h=function(e,a){var t;r((t={},Object(ce.a)(t,e,a),Object(ce.a)(t,"confirmPasswordErr",""),Object(ce.a)(t,"newPasswordErr",""),Object(ce.a)(t,"passwordErr",""),t))},v=function(){i&&i.length<6?r({passwordErr:"Password is too short"}):l&&l!==o?r({confirmPasswordErr:"Confirm password doesn't match"}):o&&o.length<6?r({newPasswordErr:"New password is too short"}):r({visibleChangePass:!b})},O=function(){var e=Object(u.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({loading:!0}),e.next=3,un(i,o);case 3:e.sent.isSuccess&&c(),r({loading:!1,visibleChangePass:!1});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.jsxs)("div",{className:J()("change-user-password",s),children:[Object(te.jsx)("div",{className:"change-user-password-wrapper",children:Object(te.jsxs)("div",{className:"change-user-password-editing",children:[Object(te.jsx)(xe,{title:"Current password",name:"password",value:i,onChange:h,placeholder:"Enter your password",errMes:d,type:"PASSWORD"}),Object(te.jsx)(xe,{className:"mt-16",title:"New password",name:"newPassword",value:o,onChange:h,placeholder:"Enter your new password",errMes:m,type:"PASSWORD"}),Object(te.jsx)(xe,{className:"mt-16",title:"Confirm new password",name:"confirmPassword",value:l,onChange:h,placeholder:"Enter your new password again",errMes:j,type:"PASSWORD"})]})}),Object(te.jsxs)("div",{className:"handle-user-ui-btns",children:[Object(te.jsx)(ie.a,{className:"mr-32",onClick:c,disabled:p,children:"Cancel"}),Object(te.jsx)(ie.a,{type:"primary",onClick:v,loading:p,disabled:!i||!o||!l,children:"Change"})]}),Object(te.jsx)(cn,{type:"CHANGE_PASSWORD",toggleClick:v,onClick:O,visible:b})]})});mn.defaultProps={className:"",email:"",username:"",phone:"",address:"",role:"",gender:"",dob:void 0,onClickCancel:function(){}};var fn=mn,jn=(t(353),function(e){var a=e.email,t=e.username,n=e.phone,r=e.address,s=e.role,c=e.gender,i=e.dob,o=e.className,l=e.isVerified,d=e.onClickVerifyAccount,u=e.onClickChangePass,m=e.onClickChangeInfo;return Object(te.jsxs)("div",{className:J()("display-user-info",o),children:[Object(te.jsxs)("div",{className:"fr-sb",children:[Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b mr-4",children:"Phone:"}),Object(te.jsx)("span",{children:n})]}),Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b mr-4",children:"Role:"}),Object(te.jsx)("span",{children:s||"Customer"})]}),Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b mr-4",children:"Email:"}),Object(te.jsx)("span",{children:a})]})]}),Object(te.jsxs)("div",{className:"fr-sb",children:[Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b mr-4",children:"Address:"}),Object(te.jsx)("span",{children:r})]}),Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b mr-4",children:"Gender:"}),Object(te.jsx)("span",{children:c})]}),Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b mr-4",children:"Username:"}),Object(te.jsx)("span",{children:t})]})]}),Object(te.jsx)("div",{className:"fr-sb",children:Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b mr-4",children:"DOB:"}),Object(te.jsx)("span",{children:i})]})}),Object(te.jsxs)("div",{className:"handle-user-ui-btns",children:[!l&&Object(te.jsx)(ie.a,{className:"mr-32",type:"dashed",onClick:d,children:"Verify account"}),Object(te.jsx)(ie.a,{className:"mr-32",onClick:u,children:"Change password"}),Object(te.jsx)(ie.a,{type:"primary",onClick:m,children:"Change info"})]})]})});jn.defaultProps={className:"",email:"",username:"",phone:"",address:"",role:"",gender:"",dob:"",isVerified:!1,onClickVerifyAccount:function(){},onClickChangePass:function(){},onClickChangeInfo:function(){}};var bn,pn=jn,hn=Object(Ge.a)(bn||(bn=Object($e.a)(["\n  mutation updateUser($profileInput: ProfileInput!) {\n    updateUser(profileInput: $profileInput) {\n      isSuccess\n      message\n      user{\n        ...","\n      }\n    }\n  }\n"])),ze),vn=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,M();case 4:return t=e.sent,e.next=7,t.mutate({mutation:hn,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.updateUser,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),On=vn,gn=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c,i,o,l=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>0&&void 0!==l[0]?l[0]:{},t=a.email,n=a.username,r=a.gender,s=a.address,c=a.dob,i={email:t,username:n,gender:r,address:s,dob:he()(c).toISOString()},e.prev=3,e.next=6,On({profileInput:i});case 6:return o=e.sent,e.abrupt("return",o);case 10:return e.prev=10,e.t0=e.catch(3),console.log("Failed to update user: ",e.t0),e.abrupt("return",{isSuccess:!1,message:e.t0});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),xn=(t(354),function(e){var a=Object(n.useRef)({email:e.email,username:e.username,address:e.address,dob:e.dob,gender:e.gender}),t=ee({email:e.email,username:e.username,address:e.address,dob:e.dob,gender:e.gender,usernameErr:"",addressErr:"",loading:!1}),r=Object(K.a)(t,2),s=r[0],c=r[1],i=e.className,o=e.role,l=e.onClickCancel,d=e.phone,m=s.email,j=s.username,b=s.address,p=s.dob,h=s.gender,v=s.usernameErr,O=s.phoneErr,g=s.addressErr,x=s.loading,N=function(e,a){var t;c((t={},Object(ce.a)(t,e,a),Object(ce.a)(t,"usernameErr",""),Object(ce.a)(t,"addressErr",""),t))},y=function(){var e=Object(u.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({loading:!0}),e.next=3,gn(s);case 3:(a=e.sent).isSuccess?(k.a.setDatalogin(a.user),alert("Successfully update user information!"),l()):alert("Failed to update user information, please try again!"),c({loading:!1});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.jsxs)("div",{className:J()("edit-user-info",i),children:[Object(te.jsx)("div",{className:"edit-user-info-wrapper",children:Object(te.jsxs)("div",{className:"edit-user-info-editing",children:[Object(te.jsx)(xe,{title:"Email",name:"email",value:m,onChange:N,placeholder:"Enter your email",errMes:we(m)?"":"Invalid email!"}),Object(te.jsx)(xe,{title:"Username",name:"username",value:j,onChange:N,placeholder:"Enter your username",errMes:v,className:"mt-16"}),Object(te.jsx)(xe,{title:"Phone number",name:"phone",value:d,onChange:N,placeholder:"Enter your phone number",className:"mt-16",type:"NUMBER",errMes:O,allowLeadingZeros:!0,prefix:"+",maxLength:15,disabled:!0}),Object(te.jsx)(xe,{title:"Role",name:"role",value:o,onChange:N,placeholder:"Enter your role",className:"mt-16",disabled:!0}),Object(te.jsx)(xe,{title:"Address",name:"address",value:b,onChange:N,placeholder:"Enter your address",className:"mt-16",errMes:g}),Object(te.jsx)(xe,{type:"DATE",title:"Date of birth",name:"dob",value:p,onChange:N,placeholder:"Enter your dob",className:"mt-16",disabledDate:"PAST"}),Object(te.jsx)(lt,{data:["Male","Female","Other"],value:h,name:"gender",title:"Gender",titleClassName:"pos-re",className:"mt-16",onChange:N})]})}),Object(te.jsxs)("div",{className:"handle-user-ui-btns",children:[Object(te.jsx)(ie.a,{className:"mr-32",onClick:l,disabled:x,children:"Cancel"}),Object(te.jsx)(ie.a,{type:"primary",onClick:y,loading:x,disabled:z.a.isEqual(a.current,{email:m,username:j,address:b,dob:p,gender:h}),children:"Confirm"})]})]})});xn.defaultProps={className:"",email:"",username:"",phone:"",address:"",role:"",gender:"",dob:void 0,onClickCancel:function(){}};var Nn,yn,wn=xn,Cn=t(216),En=Object(Ge.a)(Nn||(Nn=Object($e.a)(["\n  mutation resendVerifiedEmail {\n    resendVerifiedEmail {\n      isSuccess\n      message\n    }\n  }\n"]))),kn=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:return t=e.sent,e.next=6,t.mutate({mutation:En,variables:a});case 6:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.resendVerifiedEmail,e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),Dn=kn,Sn=Object(Ge.a)(yn||(yn=Object($e.a)(["\n  mutation verifiedEmail($verificationCode: String!) {\n    verifiedEmail(verificationCode: $verificationCode) {\n      isSuccess\n      message\n    }\n  }\n"]))),Pn=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:return t=e.sent,e.next=6,t.mutate({mutation:Sn,variables:a});case 6:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.verifiedEmail,e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),Tn=Pn,Fn=function(){var e=Object(u.a)(f.a.mark((function e(a){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tn({verificationCode:a});case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Failed to verify code: ",e.t0);case 9:if(!t.isSuccess){e.next=14;break}return alert("Verify code successfully!"),e.abrupt("return",t);case 14:return alert("Verify code unsuccessfully!"),e.abrupt("return",{isSuccess:!1});case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),Rn=function(){var e=Object(u.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dn();case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Failed to send verify code: ",e.t0);case 9:if(!a.isSuccess){e.next=14;break}return alert("Send verify code successfully!"),e.abrupt("return",a);case 14:return alert("Send verify code unsuccessfully!"),e.abrupt("return",{isSuccess:!1});case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Ln=(t(355),function(e){var a=ee({verifycationCode:"",invalidCode:"",countingTime:30,loading:!1,visibleSendCode:!1}),t=Object(K.a)(a,2),r=t[0],s=t[1],c=e.className,i=e.onClickCancel,o=r.verifycationCode,l=r.invalidCode,m=r.countingTime,j=r.loading,b=r.visibleSendCode;Object(n.useEffect)((function(){setTimeout((function(){m>0&&s({countingTime:m-1})}),1e3)}),[r.countingTime]);var p=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0}),e.next=3,Rn();case 3:a=e.sent,t={loading:!1,visibleSendCode:!1},a.isSuccess&&z.a.assign(t,{countingTime:60}),s(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){s({visibleSendCode:!b})},v=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0}),e.next=3,Fn(o);case 3:a=e.sent,t={loading:!1},a.isSuccess&&(k.a.setDatalogin(Object(d.a)(Object(d.a)({},k.a.getDataLogin()),{},{isVerified:!0})),i()),s(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.jsxs)("div",{className:J()("verify-account",c),children:[Object(te.jsx)("div",{className:"verify-account-wrapper",children:Object(te.jsxs)("div",{className:"verify-account-editing",children:[Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)("span",{className:"b mr-4",children:"Email:"}),Object(te.jsx)("span",{children:e.email})]}),Object(te.jsx)(Cn.a,Object(ce.a)({autoFocus:!1,values:o.split(),type:"number",className:l?"invalid-code":"",fieldWidth:32,fieldHeight:40,fields:6,placeholder:["_","_","_","_","_","_"],onChange:function(e){return a="verifycationCode",t=e,void s(Object(ce.a)({},a,t));var a,t},title:"Verify account"},"className","mt-16")),l?Object(te.jsx)("div",{className:"div-incorrect-mes",children:Object(te.jsx)("span",{children:l})}):null,Object(te.jsx)("div",{className:"verify-account-resend",children:Object(te.jsx)(ie.a,{type:"link",className:"mt-16",disabled:0!==m,onClick:h,children:"Resend code ".concat(0!==m?m:"")})})]})}),Object(te.jsxs)("div",{className:"handle-user-ui-btns",children:[Object(te.jsx)(ie.a,{className:"mr-32",onClick:i,disabled:j,children:"Cancel"}),Object(te.jsx)(ie.a,{type:"primary",onClick:v,loading:j,disabled:6!==o.length,children:"Verify"})]}),Object(te.jsx)(cn,{type:"SEND_VERIFY_CODE",toggleClick:h,onClick:p,visible:b})]})});Ln.defaultProps={className:"",email:"",username:"",phone:"",address:"",role:"",gender:"",dob:void 0,onClickCancel:function(){}};var An=Ln,In=(t(356),function(e){var a=ee({type:"DISPLAY"}),t=Object(K.a)(a,2),n=t[0],r=t[1],s=e.className,c=n.type,i=k.a.getDataLogin(),o=i.role,l=i.isVerified,d=i.email,u=i.username,m=i.phone,f=i.address,j=i.dob,b=i.gender,p=function(){r({type:"DISPLAY"})},h=function(){r({type:"EDIT"})},v=function(){r({type:"VERIFY"})},O=function(){r({type:"CHANGE_PASSWORD"})};return Object(te.jsx)("div",{className:J()("handle-user-ui",s),children:function(){switch(c){case"EDIT":return Object(te.jsx)(wn,{username:u,email:d,phone:m,address:f,gender:b,dob:j||void 0,role:o,onClickCancel:p});case"CHANGE_PASSWORD":return Object(te.jsx)(fn,{onClickCancel:p});case"VERIFY":return Object(te.jsx)(An,{onClickCancel:p,email:d});default:return Object(te.jsx)(pn,{username:u,email:d,phone:m,address:f,gender:b,dob:j?he()(j).format("DD/MM/YYYY"):"",role:o,isVerified:l,onClickVerifyAccount:v,onClickChangePass:O,onClickChangeInfo:h})}}()})});In.defaultProps={className:""};var _n=In,Mn=t(387),qn=(t(357),{image:void 0,name:"",nameErr:"",price:"",id:"",priceErr:"",title:"",titleErr:"",rating:1,quantityType:void 0,quanityTypeErr:"",displayingName:void 0}),Un=function(e){var a=Object(n.useRef)([]),t=ee(Object(d.a)({},qn)),r=Object(K.a)(t,2),s=r[0],c=r[1],i=e.className,o=e.index,l=e.onChangeFood,m=e.onDeleteFood,j=e.type,b=s.image,p=s.name,h=s.nameErr,v=s.price,O=s.priceErr,g=s.title,x=s.titleErr,N=s.rating,y=s.quantityType,w=s.quanityTypeErr,C=s.displayingName,E=s.id,D="".concat(j,"-img-id-").concat(o),S="ADD"===j,P="DELETE"===j,T=P?"cur-not-allowed":"cur-pointer";Object(n.useEffect)((function(){S||(a.current=k.a.getMenu())}),[]);var F=function(){var e=_.find(a.current,(function(e){return e.title+"."+e.name===C}));_.isEmpty(e)||c(Object(d.a)(Object(d.a)({},e),{},{quantityType:Ue[e.quantityType===Ie?0:1]}))};Object(n.useEffect)((function(){F()}),[C]),Object(n.useEffect)((function(){l(o,{image:b,name:p,price:v,title:g,rating:N,quantityType:y,displayingName:C,id:E})}),[b,p,v,g,N,y,C]);var R=function(e,a){var t;c((t={},Object(ce.a)(t,e,a),Object(ce.a)(t,"nameErr",""),Object(ce.a)(t,"priceErr",""),Object(ce.a)(t,"titleErr",""),Object(ce.a)(t,"quanityTypeErr",""),t))},L=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},n=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.files[0]){e.next=4;break}return e.abrupt("return");case 4:(r=new FileReader).readAsDataURL(n),r.onloadend=Object(u.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.result,c({image:a});case 2:case"end":return e.stop()}}),e)})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=document.getElementById(D);e&&e.click()};return Object(te.jsxs)("div",{className:J()("add-food",i),children:[!S&&Object(te.jsx)(_t,{title:"Food",name:"displayingName",value:C,onChange:R,placeholder:"Select food name",data:_.map(k.a.getMenu(),(function(e){return e.title+"."+e.name})),className:"mb-16"}),(C||S)&&Object(te.jsxs)("div",{className:"add-food-row",children:[Object(te.jsxs)("div",{className:"",children:[b?Object(te.jsx)("img",{src:b,alt:"Food card img",className:"food-card-img ".concat(T),onClick:A}):Object(te.jsxs)("div",{className:"food-card-img ".concat(T),onClick:A,children:[Object(te.jsx)(Mn.a,{}),Object(te.jsx)("div",{className:"food-card-img-text",children:Object(te.jsx)("span",{children:"Upload image"})})]}),Object(te.jsx)("input",{id:D,type:"file",onChange:L,className:"dis-none",accept:"image/png, .jpeg, .jpg, .webp",disabled:P}),Object(te.jsx)(xe,{className:"mt-16",title:"Food name",name:"name",value:p,onChange:R,placeholder:"Enter your name",errMes:h,disabled:P})]}),Object(te.jsxs)("div",{className:"add-food-name-price",children:[Object(te.jsxs)("div",{className:"fr-sb",children:[Object(te.jsx)(ie.a,{danger:!0,onClick:function(){F()},children:"Reset"}),0!==o&&Object(te.jsx)(ie.a,{onClick:function(){m(o)},children:Object(te.jsx)(ke.a,{})})]}),Object(te.jsx)(_t,{className:"mt-16",title:"Kind of quanity",name:"quantityType",value:y,onChange:R,placeholder:"Enter your quanity",errMes:w,data:Ue,disabled:P}),Object(te.jsx)(xe,{className:"mt-16",title:"Food price",name:"price",value:v,onChange:R,placeholder:"Enter your price",errMes:O,type:"NUMBER",disabled:P}),Object(te.jsx)(xe,{className:"mt-16",title:"Kind of food",name:"title",value:g,onChange:R,placeholder:"Enter kind of food",errMes:x,disabled:P}),Object(te.jsx)(fe,{title:"Rating",className:"mt-16"}),Object(te.jsx)(qt,{rating:N,isButton:!0,onClick:P?null:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e===s.rating||c({rating:e})}})]})]})]})};Un.defaultProps={className:"",index:0,data:{},onChangeFood:function(){},onDeleteFood:function(){},type:"ADD"};var Bn,Vn,$n,Gn=Un,Yn=Object(Ge.a)(Bn||(Bn=Object($e.a)(["\n  mutation addFood($input: [AddFoodInput]!) {\n    addFood(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Hn=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,M();case 4:return t=e.sent,e.next=7,t.mutate({mutation:Yn,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.addFood,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Kn=Hn,Qn=Object(Ge.a)(Vn||(Vn=Object($e.a)(["\n  mutation deleteFood($input: [ID]!) {\n    deleteFood(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Wn=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,M();case 4:return t=e.sent,e.next=7,t.mutate({mutation:Qn,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.deleteFood,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Jn=Wn,Zn=Object(Ge.a)($n||($n=Object($e.a)(["\n  mutation updateFood($input: [UpdateFoodInput]!) {\n    updateFood(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Xn=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,M();case 4:return t=e.sent,e.next=7,t.mutate({mutation:Zn,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.updateFood,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),zn=Xn,er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=e.quantityType===Ue[0]?Ie:_e,n={title:e.title,name:e.name,rating:e.rating,price:parseFloat(e.price),quantityType:t,image:e.image};return a&&z.a.assign(n,{id:a}),n},ar=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c,i,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.length>0&&void 0!==o[0]?o[0]:[],t=o.length>1&&void 0!==o[1]?o[1]:"ADD",n="ADD"===t,r="EDIT"===t,s={},e.t0=t,e.next="ADD"===e.t0||"EDIT"===e.t0?8:10;break;case 8:return z.a.assign(s,{input:z.a.map(a,(function(e){return er(e,n?null:e.id)}))}),e.abrupt("break",12);case 10:return z.a.assign(s,{input:z.a.map(a,(function(e){return e.id}))}),e.abrupt("break",12);case 12:return e.prev=12,c=n?Kn:r?zn:Jn,e.next=16,c(s);case 16:return i=e.sent,e.abrupt("return",i);case 20:return e.prev=20,e.t1=e.catch(12),e.abrupt("return",{isSuccess:!1,message:e.t1});case 23:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(){return e.apply(this,arguments)}}(),tr=(t(358),function(e){var a=ee({foodList:[void 0],loading:!1}),t=Object(K.a)(a,2),n=t[0],r=t[1],s=n.foodList,c=n.loading,i=e.className,o=e.type,l="ADD"===o,d="EDIT"===o,m="DELETE"===o,j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s[e]=a,r({foodList:s})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;s.splice(e,1),console.log({onDeleteFood:s,index:e}),r({foodList:s})},p=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({loading:!0}),e.next=3,ar(s,o);case 3:if(a=e.sent,t={loading:!1},!a.isSuccess){e.next=13;break}return alert(l?"Successfully adding new food!":d?"Successfully editting food!":"Successfully deleting food!"),e.next=9,Qe();case 9:z.a.assign(t,{foodList:[void 0]}),r({foodList:[]}),e.next=14;break;case 13:alert(l?"Failed to add new food: ":d?"Failed to edit food: ":"Failed to delete food: ",a.message);case 14:setTimeout((function(){r(t)}),200);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!e||0===(null===e||void 0===e?void 0:e.length)||!e[0]||!!z.a.find(e,(function(e){return!e||!e.name||!e.price||!e.title||!e.quantityType||!e.image&&!a}))}(s,m);return Object(te.jsxs)("div",{className:J()("handle-change-food",i),children:[Object(te.jsx)("div",{className:"handle-change-food-add-food",children:z.a.map(s,(function(e,a){return Object(te.jsx)(Gn,{index:a,data:e,onChangeFood:j,onDeleteFood:b,className:"animation-fadein-1s",type:o},a)}))}),Object(te.jsxs)("div",{className:"handle-change-food-add-btns",children:[Object(te.jsx)(ie.a,{type:"dashed",onClick:function(){s.push(void 0),r({foodList:s})},disabled:h||c,children:l?"New food":"Other food"}),Object(te.jsx)(ie.a,{type:"primary",disabled:h,onClick:p,loading:c,children:l?"Add food":d?"Edit food":"Delete food"})]}),c&&Object(te.jsx)(Aa,{})]})});tr.defaultProps={className:"",type:"ADD"};var nr=tr,rr=(t(359),tn.a.TabPane),sr="ADD_FOOD",cr="EDIT_FOOD",ir="DELETE_FOOD",or="FOOD_ORDER",lr="USER_PROFILE",dr=function(e){var a=Object(H.g)(),t=ee({activeTab:lr}),r=Object(K.a)(t,2),s=r[0],c=r[1],i=e.className,o=s.activeTab,l="Admin"===k.a.getRole();Object(n.useEffect)((function(){k.a.isSuccess()||(a.push("/acestore"),console.log("logout"))}),[e.login]);return Object(te.jsxs)("div",{className:J()("user",i),children:[Object(te.jsx)(ka,{}),Object(te.jsx)("div",{className:"user-body",children:Object(te.jsxs)(tn.a,{activeKey:o,tabPosition:"top",onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c({activeTab:e})},className:"mt-12",children:[Object(te.jsx)(rr,{tab:Object(te.jsx)("div",{className:"user-body-title",children:"User profile"}),children:Object(te.jsx)(_n,{className:"user-body-profile"})},lr),l&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(rr,{tab:Object(te.jsx)("div",{className:"user-body-title",children:"Add food"}),children:Object(te.jsx)(nr,{})},sr),Object(te.jsx)(rr,{tab:Object(te.jsx)("div",{className:"user-body-title",children:"Edit food"}),children:Object(te.jsx)(nr,{type:"EDIT"})},cr),Object(te.jsx)(rr,{tab:Object(te.jsx)("div",{className:"user-body-title",children:"Delete food"}),children:Object(te.jsx)(nr,{type:"DELETE"})},ir),Object(te.jsx)(rr,{tab:Object(te.jsx)("div",{className:"user-body-title",children:"Food orders"}),children:Object(te.jsx)(Dt,{isAll:!0})},or)]})]})})]})};dr.defaultProps={className:""};var ur=Object(c.b)((function(e){return{login:e.login}}),{})(dr),mr=function(e){Object(n.useEffect)((function(){window.onbeforeunload=function(){},window.onload=function(){e.reloadPageRequest()}}),[]);var a,t,r,s=Object(n.useCallback)((function(){alert(E),k.a.logout(),e.logoutRequest()}),[]);return a=w.LOGOUT_REQUEST,t=s,r=[],Object(n.useEffect)((function(){if(a&&t){var e=D.addListener(a,t);return function(){e.remove()}}}),[a].concat(Object(Z.a)(r))),Object(te.jsx)("main",{className:"div-root",children:Object(te.jsxs)(Y.a,{children:[Object(te.jsx)(re,{}),Object(te.jsxs)(H.d,{children:[Object(te.jsx)(H.b,{exact:!0,path:"/acestore",name:"Home",component:an}),Object(te.jsx)(H.b,{exact:!0,path:"/history",name:"Home",component:Pt}),Object(te.jsx)(H.b,{exact:!0,path:"/user",name:"Home",component:ur}),Object(te.jsx)(H.b,{exact:!0,path:"/food-order",name:"Food Order",component:Ja}),Object(te.jsx)(H.a,{path:"/",to:{pathname:"/acestore"}}),Object(te.jsx)(H.a,{path:"*",to:{pathname:"/acestore"}})]})]})})};mr.defaultProps={};var fr={reloadPageRequest:function(){return{type:w.RELOAD_PAGE_REQUEST}},logoutRequest:se},jr=Object(c.b)((function(e){return{isLoading:e.isLoading,logoutRequest:G.a.func.isRequired}}),fr)(mr),br=(t(360),t(361),function(e){Object(B.a)(t,e);var a=Object(V.a)(t);function t(){return Object(q.a)(this,t),a.apply(this,arguments)}return Object(U.a)(t,[{key:"render",value:function(){return Object(te.jsx)(jr,{})}}]),t}(n.Component)),pr=br,hr=t(101),vr=t(219),Or={loading:{},login:{},bookings:[],checkins:[],foodMasterData:[]},gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or.login,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case w.LOGIN_COMPLETE:return a.data;case w.LOGOUT_COMPLETE:return a;default:return e}},xr=Object(hr.b)({login:gr});var Nr=function(e,a){return a.type===w.LOGOUT_REQUEST?(console.log("heare"),k.a.logout(),Or):xr(e,a)},yr=t(119),wr=f.a.mark(Er),Cr=f.a.mark(kr);function Er(){var e,a,t,n;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=!0;case 1:if(!e){r.next=12;break}return r.next=4,Object(yr.c)(w.LOGIN_REQUEST);case 4:return a=r.sent,t=a.data,n={isSuccess:!0,user:z.a.cloneDeep(t.user),token:t.token},k.a.login(n),r.next=10,Object(yr.b)({type:w.LOGIN_COMPLETE,data:n});case 10:r.next=1;break;case 12:case"end":return r.stop()}}),wr)}function kr(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yr.a)(Er);case 2:case"end":return e.stop()}}),Cr)}var Dr=f.a.mark(Sr);function Sr(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yr.a)(kr);case 2:case"end":return e.stop()}}),Dr)}var Pr=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(a){return}}(),Tr=function(){var e=Object(vr.a)();return Object(d.a)(Object(d.a)({},Object(hr.d)(Nr,Pr,Object(hr.a)(e))),{},{runSaga:e.run(Sr)})}();i.sessionService.initSessionService(Tr),s.a.render(Object(te.jsx)(c.a,{store:Tr,children:Object(te.jsx)(l.a,{client:I,children:Object(te.jsx)(pr,{})})}),document.getElementById("root")),o()}},[[362,1,2]]]);
//# sourceMappingURL=main.ed5ea4b8.chunk.js.map