(this.webpackJsonpacestore=this.webpackJsonpacestore||[]).push([[0],{202:function(e){e.exports=JSON.parse('{"name":"acestore","homepage":"https://AceKnight97.github.io/acestore","version":"0.2.0","private":true,"dependencies":{"@ant-design/icons":"^4.3.0","@apollo/client":"^3.5.8","@apollo/react-hooks":"^4.0.0","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","antd":"^4.18.5","axios":"^0.25.0","classnames":"^2.2.6","clean-webpack-plugin":"^3.0.0","copy-webpack-plugin":"^8.0.0","css-loader":"^5.2.0","currency-formatter":"^1.5.9","emailjs-com":"^2.6.4","eslint":"^7.17.0","eslint-config-airbnb":"^18.2.1","eslint-plugin-react":"^7.20.6","fbemitter":"^2.1.1","file-loader":"^6.2.0","font-awesome-sass-loader":"^2.0.1","graphql":"^16.3.0","html-loader":"^2.1.2","html-webpack-plugin":"^5.3.1","jquery":"^3.6.0","lodash":"^4.17.20","mini-css-extract-plugin":"^1.3.9","moment":"^2.29.1","node-sass":"^6.0.1","prop-types":"^15.7.2","react":"^17.0.2","react-dom":"^17.0.2","react-number-format":"^4.9.1","react-redux":"^7.2.2","react-router-dom":"^5.2.0","react-scripts":"4.0.3","react-verification-code-input":"^1.2.9","redux":"^4.0.5","redux-react-session":"^2.6.1","redux-saga":"^1.1.3","sass-loader":"^11.0.1","socket.io":"^4.4.1","socket.io-client":"^4.4.1","style-loader":"^2.0.0","subscriptions-transport-ws":"^0.11.0","uglifyjs-webpack-plugin":"^2.2.0","url-loader":"^4.1.1","web-vitals":"^1.0.1","webpack-merge":"^5.7.3"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^3.2.3"},"optionalDependencies":{"fsevents":"^2.3.2"}}')},255:function(e,a,t){},26:function(e,a,t){"use strict";(function(e){var t=e.window.localStorage,n={login:function(e){console.log("login data: ",e);var a=e.user,n=e.isSuccess,r=e.token;t.isSuccess=n,t.token=r,t.user=JSON.stringify(a),t.role=a.role},getRole:function(){return t.role},setMenu:function(e){t.menu=JSON.stringify(e)},getMenu:function(){return t.menu&&"undefined"!==t.menu?JSON.parse(t.menu):[]},setKindOfFood:function(e){t.kindOfFood=JSON.stringify(e)},getKindOfFood:function(){return t.kindOfFood&&"undefined"!==t.kindOfFood?JSON.parse(t.kindOfFood):[]},getToken:function(){return t.token},setFoodData:function(e){t.foodData=JSON.stringify(e)},getFoodData:function(){return t.foodData&&"undefined"!==t.foodData?JSON.parse(t.foodData):[]},setMasterData:function(e){t.masterData=JSON.stringify(e)},getMasterData:function(){return t.masterData&&"undefined"!==t.masterData?JSON.parse(t.masterData):[]},setDatalogin:function(e){t.login=JSON.stringify(e)},getDataLogin:function(){return t.login&&"undefined"!==t.login?JSON.parse(t.login):{}},isSuccess:function(){return t.isSuccess},userId:function(){return t.userId},username:function(){return t.userName},role:function(){return t.role},logout:function(){t.clear()}};a.a=n}).call(this,t(78))},327:function(e,a,t){},333:function(e,a,t){},339:function(e,a,t){},340:function(e,a,t){},341:function(e,a,t){},342:function(e,a,t){},343:function(e,a,t){},344:function(e,a,t){},345:function(e,a,t){},346:function(e,a,t){},347:function(e,a,t){},348:function(e,a,t){},349:function(e,a,t){},350:function(e,a,t){},351:function(e,a,t){},352:function(e,a,t){},353:function(e,a,t){},354:function(e,a,t){},355:function(e,a,t){},356:function(e,a,t){},357:function(e,a,t){},358:function(e,a,t){},359:function(e,a,t){},361:function(e,a,t){},362:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t(45),s=t.n(r),c=t(67),i=t(201),o=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,388)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,s=a.getLCP,c=a.getTTFB;t(e),n(e),r(e),s(e),c(e)}))},l=t(374),d=t(3),u=t(14),m=t(9),f=t.n(m),p=t(378),b=t(367),j=t(98),h=t(379),v=t(377),O=t(207),g=t(208),x=t(204),N=t(99),y=t(202),w={LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_COMPLETE:"LOGIN_COMPLETE",GET_ALL_DATA_REQUEST:"GET_ALL_DATA_REQUEST",GET_ALL_DATA_COMPLETE:"GET_ALL_DATA_COMPLETE",RELOAD_PAGE_REQUEST:"RELOAD_PAGE_REQUEST",LOGOUT_REQUEST:"LOGOUT_REQUEST",LOGOUT_COMPLETE:"LOGOUT_COMPLETE",NEW_FOOD_ORDERS:"NEW_FOOD_ORDERS"},C="Your login session has expired, please login again.",E=t(26),k=new(t(203).EventEmitter),S="retail-store-java.herokuapp.com/graphql",D=S.includes("localhost")?"":"s",P=new p.a({uri:"http".concat(D,"://").concat(S),credentials:"same-origin"}),T=new x.a({uri:"ws".concat(D,"://").concat(S),options:{reconnect:!0}}),F=Object(b.a)((function(e){var a=e.query,t=Object(N.e)(a),n=t.kind,r=t.operation;return"OperationDefinition"===n&&"subscription"===r}),T,P),R=j.a.from([F]),A=new h.a({addTypename:!1}),L={watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}},I=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]&&r[0],r.length>1&&void 0!==r[1]&&r[1],e.prev=2,t=E.a.getToken(),n=Object(O.a)((function(e,a){var n=a.headers;return{headers:Object(d.a)(Object(d.a)({},n),{},{"access-token":t})}})),e.abrupt("return",new v.a({link:n.concat(j.a.from([Object(g.a)((function(e){var a=e.graphQLErrors,t=e.networkError;e.response,e.operation,e.forward;if(a)_.map(a,(function(e){var a=e.message,t=e.extensions;console.log({errMes:a}),(_.includes(a,"403")||_.includes(a,"400")||"UNAUTHENTICATED"===t.code)&&k.emit(w.LOGOUT_REQUEST)}));else if(t)throw console.error("[Network error]: ".concat(t)),t})),P])),cache:A,defaultOptions:a?void 0:L,name:"web",version:y.version}));case 8:throw e.prev=8,e.t0=e.catch(2),e.t0;case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),M=new v.a({link:R,cache:A,defaultOptions:L}),q=I,U=t(16),B=t(17),V=t(21),$=t(22),G=t(43),Y=t.n(G),H=t(80),K=t(48),Q=t(6),W=t(102),J=t(5),Z=t.n(J),X=t(8),z=t(19),ee=t.n(z),ae=function(e){var a=Object(n.useState)(e),t=Object(Q.a)(a,2),r=t[0],s=t[1];return[r,function(e){return s((function(a){var t=ee.a.assign(a,e);return Object(d.a)({},t)}))}]},te=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,r=Object(n.useRef)(!0);Object(n.useEffect)((function(){return r.current?r.current=!1:e(),t}),a)},ne=(t(255),t(1)),re=function(e){var a=Object(K.h)(),t=Object(K.g)(),n=a.pathname,r=ae({}),s=Object(Q.a)(r,2),c=(s[0],s[1],e.className),i=n.includes("/acestore"),o=function(){i||t.push("/acestore")};return Object(ne.jsxs)("div",{children:[Object(ne.jsx)("div",{className:Z()("supergraphic",c)}),Object(ne.jsxs)("div",{className:"bosch-header",children:[Object(ne.jsx)("div",{className:"flex",children:function(){var e="";switch(n){case"/food-order":e="Food Order";break;case"/history":e="Order History";break;case"/user":e="User"}return Object(ne.jsxs)("div",{className:"bosch-header-title",children:[Object(ne.jsx)(H.b,{to:"/acestore",onClick:o,children:"Home"}),e?Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(W.a,{}),Object(ne.jsx)("span",{children:e})]}):null]})}()}),Object(ne.jsx)("div",{className:"bosch-header-group",children:"Acestore"})]}),!i&&Object(ne.jsx)(H.b,{to:"/acestore",className:"not-home-back-btn",children:"Go back"})]})};re.defaultProps={className:""};var se=re;function ce(e){return{type:w.LOGOUT_REQUEST,data:e}}var ie=t(4),oe=t(54),le=t(217),de=t(384),ue=t(224),me=t(210),fe=function(e){var a=e.className,t=e.title;return t?Object(ne.jsx)("div",{className:Z()("input-title-wrapper",a),children:Object(ne.jsx)("span",{children:t})}):null};fe.defaultProps={className:"",title:""};var pe=fe,be=t(373),je=t(181),he=t(38),ve=t.n(he),Oe=function(e){var a,t=e.className,n=e.title,r=e.placeholder,s=e.format,c=e.value,i=e.name,o=e.suffixIcon,l=e.type,d=e.disabledDate,u=e.disabled,m=function(a){e.onChange(i,a)};switch(d){case"PAST":a=function(e){return e>ve()().endOf("day")};break;case"FUTURE":a=function(e){return e<=ve()().endOf("day")}}return Object(ne.jsxs)("div",{className:Z()("datepicker-ct-wrapper",t),children:[Object(ne.jsx)(pe,{title:n}),"TIME"===l?Object(ne.jsx)(be.a,{disabled:u,getPopupContainer:function(e){return e.parentElement},suffixIcon:o,placeholder:r,onChange:m,format:s,value:"string"===typeof c&&ve()(c).isValid()?ve()(c):c||void 0,disabledDate:a}):Object(ne.jsx)(je.a,{disabled:u,getPopupContainer:function(e){return e.parentElement},suffixIcon:o,placeholder:r,onChange:m,format:s,value:"string"===typeof c&&ve()(c).isValid()?ve()(c):c||void 0,disabledDate:a})]})};Oe.defaultProps={className:void 0,format:"MM/DD/YYYY",title:"",placeholder:"Select date",onChange:function(){},value:void 0,name:"",disabledDate:void 0,suffixIcon:void 0,type:"DATE",disabled:!1};var ge=Oe,xe=function(e){var a=e.className,t=e.type,n=e.rows,r=e.placeholder,s=e.title,c=e.disabled,i=e.value,o=e.inputClassName,l=e.maxLength,d=e.prefix,u=e.mask,m=e.format,f=e.decimalScale,p=e.name,b=(e.allowedDecimalSeparators,e.allowLeadingZeros),j=(e.thousandSeparator,e.data,e.mode,e.unitValue,e.onChangeUnit,e.disabledDate),h=e.suffix,v=e.autoComplete,O=(e.supName,e.errMes),g=e.errMesClassName,x=e.absSuffix,N=e.allowNegative,y=(e.isValueOutside,e.isSearchable,e.loadOptions,e.options,e.clearOptions,e.onInputChange,e.titleClassName),w=function(a){e.onChange(p,a.target.value)};return Object(ne.jsxs)("div",{className:Z()("input-ct-wrapper",a),children:[Object(ne.jsx)(pe,{title:s,className:y}),"TEXTAREA"===t?Object(ne.jsx)(le.a.TextArea,{value:i,disabled:c,placeholder:r,rows:n,onChange:w}):null,"NUMBER"===t?Object(ne.jsx)(me.a,{mask:u,format:m,value:i,className:Z()("basic-number-format",o,O?"err-border":""),disabled:c,onValueChange:function(a){var t=a.value;e.onChange(p,t)},placeholder:r,maxLength:l,decimalScale:f,prefix:d,suffix:h,allowNegative:N,allowLeadingZeros:b}):null,"DATE"===t?Object(ne.jsx)(ge,{name:p,placeholder:r,value:i,onChange:e.onChange,disabledDate:j,suffixIcon:h}):null,"text"===t?Object(ne.jsx)(le.a,{className:O?"err-border":"",value:i,disabled:c,placeholder:r,onChange:w,prefix:d,suffix:h}):null,"PASSWORD"===t?Object(ne.jsx)(le.a.Password,{className:O?"err-border":"",value:i,disabled:c,placeholder:r,onChange:w,iconRender:function(e){return e?Object(ne.jsx)(de.a,{}):Object(ne.jsx)(ue.a,{})},autoComplete:v}):null,O?Object(ne.jsx)("div",{className:Z()("div-incorrect-mes",g),children:Object(ne.jsx)("span",{children:O})}):null,x&&Object(ne.jsx)("div",{className:"abs-suffix-ct",children:Object(ne.jsx)("span",{children:x})})]})};xe.defaultProps={className:void 0,titleClassName:"",rows:4,type:"text",title:"",placeholder:"Enter...",onChange:function(){},onChangeUnit:function(){},disabled:!1,value:void 0,inputClassName:"",maxLength:20,allowedDecimalSeparators:void 0,decimalScale:void 0,allowLeadingZeros:!1,thousandSeparator:!1,prefix:void 0,suffix:void 0,mask:void 0,format:void 0,name:"",supName:"",data:[],mode:void 0,unitValue:"",disabledDate:void 0,autoComplete:"",errMes:"",errMesClassName:"",absSuffix:"",allowNegative:!1,isValueOutside:!1,isSearchable:!1,loadOptions:function(){},options:[],clearOptions:function(){},onInputChange:function(){}};var Ne=xe,ye=t(380),we=function(e){return Object(ne.jsxs)("div",{className:Z()("modal-footer-wrapper",e.className),children:[e.dangerTitle?Object(ne.jsx)(oe.a,{danger:!0,className:e.dangerTitle,onClick:e.onClickDanger,disabled:e.loading,children:e.dangerTitle}):Object(ne.jsx)("div",{}),Object(ne.jsxs)("div",{className:"modal-footer-buttons",children:[Object(ne.jsx)(oe.a,{className:e.leftBtnClassName,onClick:e.onClickLeftBtn,disabled:e.loading,children:e.leftTitle}),Object(ne.jsx)(oe.a,{type:"primary",onClick:e.onClickRightBtn,disabled:e.disabled,loading:e.loading,children:e.rightTitle})]})]})};we.defaultProps={className:void 0,disabled:!1,loading:!1,leftBtnClassName:"mr8",dangerTitle:"",onClickDanger:function(){}};var Ce=we,Ee=t(68),ke=function(e){var a;return Object(ne.jsxs)("div",{className:Z()("modal-header-wrapper",e.className),children:[Object(ne.jsx)("div",{className:"modal-header-title",children:Object(ne.jsx)("span",{children:e.title})}),Object(ne.jsx)(oe.a,(a={ghost:!0,onClick:e.onClick,className:e.btnClassName,disabled:e.loading},Object(ie.a)(a,"className","modal-header-close-btn"),Object(ie.a)(a,"children",e.btnTitle||Object(ne.jsx)(Ee.a,{})),a))]})};ke.defaultProps={className:void 0,btnClassName:void 0,btnTitle:"",loading:!1,onClick:function(){}};var Se=ke,De=(t(327),{phone:"",address:"",notes:"",loading:!1,isConfirm:!1}),Pe=function(e){var a=ae(Object(d.a)({},De)),t=Object(Q.a)(a,2),r=t[0],s=t[1];Object(n.useEffect)((function(){i||s(Object(d.a)({},De))}),[e.visible]);var c=e.className,i=e.visible,o=e.onClickCancel,l=e.onClick,m=r.loading,p=r.phone,b=r.address,j=r.notes,h=r.isConfirm,v=function(e,a){var t;s((t={},Object(ie.a)(t,e,a),Object(ie.a)(t,"destinationErr",""),t))},O=function(){var e=Object(u.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h?l(r):s({isConfirm:!0});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({isConfirm:!1});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ne.jsx)(ye.a,{className:"any-customer-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(ne.jsxs)("div",{className:Z()("any-customer-modal-wrapper",c),children:[Object(ne.jsx)(Se,{title:"Customer info",onClick:o}),h?Object(ne.jsxs)("div",{className:"any-customer-modal-main",children:[Object(ne.jsx)("div",{className:"font-20 b",children:"Your information:"}),Object(ne.jsxs)("div",{className:"fr-sb",children:[Object(ne.jsx)("span",{className:"b",children:"Phone number:"}),Object(ne.jsx)("span",{className:"ml-4",children:p})]}),Object(ne.jsxs)("div",{className:"fr-sb",children:[Object(ne.jsx)("span",{className:"b",children:"Address:"}),Object(ne.jsx)("span",{className:"ml-4",children:b})]}),Object(ne.jsxs)("div",{className:"fr-sb",children:[Object(ne.jsx)("span",{className:"b",children:"Notes:"}),Object(ne.jsx)("span",{className:"ml-4",children:j})]}),Object(ne.jsx)("div",{className:"fcen mt-16 b",children:"Do you want to order now?"})]}):Object(ne.jsxs)("div",{className:"any-customer-modal-main",children:[Object(ne.jsx)(Ne,{title:"Phone number",name:"phone",value:p,onChange:v,placeholder:"Enter your phone number",type:"NUMBER",allowLeadingZeros:!0,prefix:"+",maxLength:15}),Object(ne.jsx)(Ne,{title:"Address",name:"address",value:b,onChange:v,placeholder:"Enter your address",className:"mt-16"}),Object(ne.jsx)(Ne,{title:"Notes",name:"notes",value:j,onChange:v,placeholder:"Enter your notes",className:"mt-16",type:"TEXTAREA"})]}),Object(ne.jsx)(Ce,{disabled:!b||!p,leftTitle:h?"Back":"Cancel",rightTitle:h?"Yes":"Order",onClickLeftBtn:h?g:o,onClickRightBtn:O,loading:m})]})})};Pe.defaultProps={className:void 0,visible:!1,onClickCancel:function(){},onClick:function(){}};var Te,Fe,Re,Ae=Pe,Le="WEIGHT",Ie="PACKAGE",_e=["0.5 Kg","1.0 Kg","1.5 Kg","2.0 Kg","2.5 Kg","3.0 Kg","3.5 Kg","4.0 Kg"],Me=["1 pc","2 pcs","3 psc","4 psc"],qe=["Kg","Package/Dish"],Ue=["Pending","On Going","Done","Cancel"],Be=[0,1e5,2e5,5e5,1e6,2e6,5e6],Ve=t(32),$e=t(33),Ge=Object($e.a)(Te||(Te=Object(Ve.a)(["\n  query menu {\n    menu {\n      id\n      title\n      name\n      rating\n      price\n      quantityType\n      createdAt\n      image\n    }\n  }\n"]))),Ye=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.query({query:Ge});case 3:return a=e.sent,t=(null===a||void 0===a?void 0:a.data)||{},n=t.menu,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),He=Ye,Ke=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He();case 3:return a=e.sent,E.a.setMenu(a),t=[],n=[],r=ee.a.groupBy(a,(function(e){return e.title})),Object.keys(r).forEach((function(e){t.push(e),n.push({title:e,data:r[e]})})),E.a.setKindOfFood(t),E.a.setMasterData(n),E.a.setFoodData(void 0),e.abrupt("return",n);case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.quantity.slice(0,3),n=parseFloat(t)*e.price;return n>0&&a.push("".concat(e.name," (").concat(e.price," * ").concat(t,")")),n},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,t=e.quantity.slice(0,1),n=parseFloat(t)*e.price;return n>0&&a.push("".concat(e.name," (").concat(e.price," * ").concat(t,")")),n},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0,t=[];return ee.a.forEach(e,(function(e){a+=ee.a.sumBy(e.data,(function(e){return e.isBuy?We(e,t)||Qe(e,t):0}))})),{total:a,cartTags:t}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.searchName,n=e.rating,r=e.kind,s=e.minPrice,c=e.maxPrice;console.log({searchName:t,rating:n,kind:r,minPrice:s,maxPrice:c});var i=ee.a.cloneDeep(a);return ee.a.forEach(i,(function(e){e.data=ee.a.filter(e.data,(function(e){var a,i=!0;(r&&(i=e.title===r),ee.a.isNil(n)||ee.a.isNil(e.rating)||(i=i&&e.rating>=n),t)&&(i=i&&(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase())));return ee.a.isNil(s)||(i=i&&e.price>=s),ee.a.isNil(c)||(i=i&&e.price<=c),i}))})),ee.a.filter(i,(function(e){var a;return 0!==(null===(a=e.data)||void 0===a?void 0:a.length)}))},Xe=Object($e.a)(Fe||(Fe=Object(Ve.a)(["\n  {\n    id\n    username\n    email\n    role\n    signUpDate\n    status\n    gender\n    address\n    phone\n    dob\n    isVerified\n  }\n"]))),ze=Object($e.a)(Re||(Re=Object(Ve.a)(["\n  mutation signIn($phone: String!, $password: String!) {\n    signIn(phone: $phone, password: $password) {\n      isSuccess\n      data {\n        token\n        user {\n          ...","\n        }\n      }\n    }\n  }\n"])),Xe),ea=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.mutate({mutation:ze,variables:a});case 3:return t=e.sent,n=null===t||void 0===t?void 0:t.data,r=n.signIn,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),aa=ea,ta=t(212),na=t.n(ta),ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"VND",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Price:",n="";if("VND"===a)n=na.a.format(e,{code:"VND"});return"".concat(t," ").concat(n)},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0;return _.forEach(e,(function(e){a+=e.price*e.quantity})),ra(a,void 0,"")},ca=function(){var e,a,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!==n&&void 0!==n&&null!==(e=n.graphQLErrors)&&void 0!==e&&null!==(a=e[0])&&void 0!==a&&null!==(t=a.message)&&void 0!==t&&t.includes("E11000 duplicate key error")?"Email already existed!":""},ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"0"===e[0]?"+84"+e.slice(1):"84"!==e.slice(0,2)?"+84"+e:"+"+e},oa=t(223),la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(String(e.trim()).toLowerCase())},da=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:{},t=a.phone,n=a.password,e.prev=2,e.next=5,aa({phone:ia(t),password:n});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{isSuccess:!1,message:"Incorrect password"});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(e.phone,e.password);return a.length<6?{passwordErr:"Incorrect password"}:{isSuccess:!0}},ma=function(e){var a=ae({phone:"",password:"",phoneErr:"",passwordErr:"",loading:!1}),t=Object(Q.a)(a,2),n=t[0],r=t[1],s=e.className,c=e.visible,i=e.onClickCancel,o=n.phone,l=n.password,d=n.phoneErr,m=n.passwordErr,p=n.loading,b=function(e,a){var t;r((t={},Object(ie.a)(t,e,a),Object(ie.a)(t,"phoneErr",""),Object(ie.a)(t,"passwordErr",""),t))},j=function(){var a=Object(u.a)(f.a.mark((function a(){var t,s;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t=ua(n)).isSuccess){a.next=10;break}return r({loading:!0}),a.next=5,da(n);case 5:(s=a.sent).isSuccess?(E.a.setDatalogin(s.data.user),e.loginRequest(s.data),i(),alert("Login successfully!")):alert("Login failed "+s.message),r({loading:!1}),a.next=11;break;case 10:r(t);case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(ne.jsx)(ye.a,{className:"login-modal",destroyOnClose:!0,visible:c,footer:null,closable:!1,centered:!0,children:Object(ne.jsxs)("div",{className:Z()("stop-health-care-modal-wrapper",s),children:[Object(ne.jsx)(Se,{title:"Login",onClick:i}),Object(ne.jsxs)("div",{className:"login-modal-main",children:[Object(ne.jsx)(Ne,{title:"Phone number",name:"phone",value:o,onChange:b,placeholder:"Enter your phone number",errMes:d,allowLeadingZeros:!0,prefix:"+",type:"NUMBER",maxLength:15}),Object(ne.jsx)(Ne,{title:"Password",name:"password",value:l,onChange:b,placeholder:"Enter your phone",type:"PASSWORD",className:"mt-16",errMes:m})]}),Object(ne.jsx)(Ce,{disabled:!o||!l,leftTitle:"Cancel",rightTitle:"Login",onClickLeftBtn:i,onClickRightBtn:j,loading:p})]})})};ma.defaultProps={className:"",visible:!1,onClickCancel:function(){},loginRequest:function(){}};var fa,pa=ma,ba=t(156),ja=t.n(ba),ha=Object($e.a)(fa||(fa=Object(Ve.a)(["\n  mutation signUp($phone: String!, $password: String!, $address: String!) {\n    signUp(phone: $phone, password: $password, address: $address) {\n      isSuccess\n      token\n    }\n  }\n"]))),va=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.mutate({mutation:ha,variables:a});case 3:return t=e.sent,n=null===t||void 0===t?void 0:t.data,r=n.signUp,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),Oa=va,ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.password,t=e.confirmPassword,n=e.phone;return a.length<6?{passwordErr:"Password must have 6 or more characters"}:a!==t?{confirmPasswordErr:"Confirm password is not match"}:n.length<8?{phoneErr:"Invalid phone number!"}:void 0},xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.password,t=e.confirmPassword,n=e.phone,r=e.address;return!(n&&r&&a&&t)},Na=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.password,n=a.phone,r=a.address,e.prev=1,e.next=4,Oa({phone:ia(n),password:t,address:r});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),console.log("Failed to create user: ",e.t0),e.abrupt("return",{isSuccess:!1,message:ca(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}(),ya={password:"",confirmPassword:"",phone:"",address:"",passwordErr:"",confirmPasswordErr:"",phoneErr:"",addressErr:"",loading:!1,isStep1:!0},wa=function(e){var a=ae(Object(d.a)({},ya)),t=Object(Q.a)(a,2),r=t[0],s=t[1],c=e.className,i=e.visible,o=e.onClickCancel,l=r.password,m=r.confirmPassword,p=r.phone,b=r.address,j=r.passwordErr,h=r.confirmPasswordErr,v=r.phoneErr,O=r.addressErr,g=r.loading,x=r.isStep1;Object(n.useEffect)((function(){i||s(Object(d.a)({},ya))}),[i]);var N=function(e,a){var t=Object(ie.a)({},e,a);x?(ee.a.assign(t,{emailErr:"",passwordErr:"",confirmPasswordErr:""}),s(t)):(ee.a.assign(t,{usernameErr:"",phoneErr:"",addressErr:""}),s(t))},y=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ga(r),!ee.a.isEmpty(a)){e.next=11;break}return t={loading:!1},s({loading:!0}),e.next=6,Na(r);case 6:(n=e.sent).isSuccess?(alert("Successfully creating user!"),o()):alert("Failed to create user: "+n.message),s(t),e.next=12;break;case 11:s(a);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ne.jsx)(ye.a,{className:"register-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(ne.jsxs)("div",{className:Z()("register-modal-wrapper",c),children:[Object(ne.jsx)(Se,{title:"Register",onClick:o}),Object(ne.jsx)("div",{className:"register-modal-main",children:Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(Ne,{title:"Phone number",name:"phone",value:p,onChange:N,placeholder:"Enter your phone number",className:"mt-16",type:"NUMBER",errMes:v,allowLeadingZeros:!0,prefix:"+",maxLength:15}),Object(ne.jsx)(Ne,{title:"Password",name:"password",value:l,onChange:N,placeholder:"Enter your password",type:"PASSWORD",className:"mt-16",errMes:j}),Object(ne.jsx)(Ne,{title:"Confirm password",name:"confirmPassword",value:m,onChange:N,placeholder:"Enter your confirm password",type:"PASSWORD",className:"mt-16",errMes:h}),Object(ne.jsx)(Ne,{title:"Address",name:"address",value:b,onChange:N,placeholder:"Enter your address",className:"mt-16",errMes:O})]})}),Object(ne.jsx)(Ce,{disabled:xa(r),leftTitle:"Cancel",rightTitle:"Register",onClickLeftBtn:function(){s({isStep1:!0})},onClickRightBtn:y,loading:g})]})})};wa.defaultProps={className:"",visible:!1,onClickCancel:function(){}};var Ca=wa,Ea=function(e){var a=Object(K.g)(),t=Object(K.h)(),r=ae({visibleLogin:!1,visibleRegister:!1}),s=Object(Q.a)(r,2),c=s[0],i=s[1],o=e.className,l=c.visibleLogin,d=c.visibleRegister,u=function(){i({visibleLogin:!l})},m=function(){i({visibleRegister:!d})},f=E.a.getDataLogin(),p=f.isVerify,b=void 0===p||p,j=f.phone;return Object(n.useEffect)((function(){ee.a.isEmpty(e.login)&&ee.a.isEmpty(E.a.getDataLogin())&&(console.log("No current user"),i({}))}),[e.login]),Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)("div",{className:Z()("home-header",o),children:Object(ne.jsx)("div",{className:"home-header-btns",children:j?Object(ne.jsxs)(ne.Fragment,{children:[!b&&Object(ne.jsx)(oe.a,{type:"link",onClick:function(){},className:"home-header-active-account-btn",children:"Activate account"}),Object(ne.jsx)(oe.a,{type:"link",onClick:function(){"/user"!==t.pathname&&a.push("/user")},className:"home-header-username-btn",children:j}),Object(ne.jsx)(oe.a,{type:"link",onClick:function(){"/history"!==t.pathname&&a.push("/history")},className:"home-header-username-btn",children:"History"}),Object(ne.jsx)(oe.a,{type:"link",onClick:function(){E.a.logout(),e.logoutRequest(),a.push("/acestore"),i({})},className:"home-header-logout-btn",children:"Logout"})]}):Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(oe.a,{type:"link",onClick:u,className:"home-header-login-btn",children:"Login"}),Object(ne.jsx)(oe.a,{type:"link",onClick:m,className:"home-header-register-btn",children:"Register"})]})})}),Object(ne.jsx)(pa,{visible:l,onClickCancel:u,loginRequest:e.loginRequest}),Object(ne.jsx)(Ca,{visible:d,onClickCancel:m})]})};Ea.defaultProps={className:""};var ka={loginRequest:function(e){return{type:w.LOGIN_REQUEST,data:e}},logoutRequest:ce},Sa=Object(c.b)((function(e){return{login:e.login}}),ka)(Ea),Da=t(375),Pa=(t(333),function(e){Object(n.useEffect)((function(){}),[]);var a=e.loading,t=e.columns,r=e.className,s=e.rowKey,c=(e.name,e.totalData),i=e.onRowClick;return Object(ne.jsx)(Da.a,{rowKey:s,className:Z()(r,"antd-table"),dataSource:c,onRow:function(e,a){return{onClick:function(t){i(a,e)}}},pagination:!1,columns:t,loading:a})});Pa.defaultProps={name:"",className:void 0,onRowClick:function(){},shouldHideNextButton:!1,fetchData:function(){},loading:!1,sorter:{},shouldShowAllData:!1,handleChangePage:function(){},isNoPagination:!1,page:1,sticky:!1};var Ta=Pa,Fa=t(214),Ra=(t(339),function(e){var a=e.className;return Object(ne.jsx)("div",{className:Z()("loading",a),children:Object(ne.jsx)(Fa.a,{})})});Ra.defaultProps={className:""};var Aa,La,Ia=Ra,_a=Object($e.a)(Aa||(Aa=Object(Ve.a)(["\n  mutation createAnyCustomerOrder($input: AnyCustomerOrderInput!) {\n    createAnyCustomerOrder(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Ma=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.mutate({mutation:_a,variables:a});case 3:return t=e.sent,n=null===t||void 0===t?void 0:t.data,r=n.createAnyCustomerOrder,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),qa=Ma,Ua=Object($e.a)(La||(La=Object(Ve.a)(["\n  mutation createOrder($input: [OrderInput]!) {\n    createOrder(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Ba=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:return t=e.sent,e.next=6,t.mutate({mutation:Ua,variables:a});case 6:return n=e.sent,r=(null===n||void 0===n?void 0:n.data)||{},s=r.createOrder,e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),Va=Ba,$a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[],t=1;return _.forEach(e,(function(e){_.forEach(e.data||[],(function(e){e.isBuy&&(a.push(Object(d.a)(Object(d.a)({},e),{},{index:t})),t+=1)}))})),a},Ga=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:[],t=c.length>1&&void 0!==c[1]?c[1]:"",n=c.length>2&&void 0!==c[2]?c[2]:"",r=a.map((function(e){return{food:e.id,quantity:parseFloat(e.quantity.slice(0,3)),notes:t,status:"Pending",price:e.price,destination:n}})),console.log({sendingData:r,foodData:a}),e.prev=5,e.next=8,Va({input:r});case 8:return s=e.sent,e.abrupt("return",s);case 12:return e.prev=12,e.t0=e.catch(5),console.log("Failed to create order: ",{error:e.t0}),e.abrupt("return",{isSuccess:!1,message:e.t0});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),Ya=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c,i,o,l=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>0&&void 0!==l[0]?l[0]:[],t=l.length>1&&void 0!==l[1]?l[1]:{},n=t.phone,r=t.address,s=t.notes,c=a.map((function(e){return{food:e.id,quantity:parseFloat(e.quantity.slice(0,3)),notes:s,status:"Pending",price:e.price,destination:r}})),i={phone:ia(n),address:r,password:n},o={orders:c,customer:i},e.prev=6,e.next=9,qa({input:o});case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",{isSuccess:!1,message:e.t0});case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),Ha=(t(340),function(e){var a=Object(K.h)(),t=Object(K.g)(),n=ae({foodData:$a(a.state),anyCustomerVisible:!1,notes:"",destination:"",loading:!1}),r=Object(Q.a)(n,2),s=r[0],c=r[1],i=e.className,o=s.foodData,l=s.anyCustomerVisible,d=s.notes,m=s.destination,p=s.loading,b=Je(a.state).total,j=E.a.getDataLogin(),h=j.address,v=j.phone,O=j.email,g=function(e,a){c(Object(ie.a)({},e,a))},x=function(){var e=Object(u.a)(f.a.mark((function e(){var a,n,r,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:{},c({loading:!0}),e.next=4,Ya(o,a);case 4:n=e.sent,r={loading:!1},n.isSuccess?(alert("Successfully creating order!"),E.a.setFoodData(void 0),ee.a.assign(r,{anyCustomerVisible:!1}),setTimeout((function(){t.push("/acestore")}),300)):alert("Failed to create order: ",n.message),c(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h&&v){e.next=3;break}return c({anyCustomerVisible:!0}),e.abrupt("return");case 3:return c({loading:!0}),e.next=6,Ga(o,d,m);case 6:(a=e.sent).isSuccess?(alert("Successfully creating order!"),E.a.setFoodData(void 0),t.push("/acestore")):alert("Failed to create order: ",a.message),c({loading:!1});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ne.jsxs)("div",{className:Z()("food-order",i),children:[Object(ne.jsx)(Sa,{}),Object(ne.jsxs)("div",{className:"food-order-body",children:[Object(ne.jsxs)("div",{className:"food-order-body-toper",children:[Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b",children:"Payment Options:"}),Object(ne.jsx)("span",{className:"ml-4",children:"Cash - When receiving"})]}),Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b",children:"Total:"}),Object(ne.jsx)("span",{className:"ml-4",children:ra(b,void 0,"")})]})]}),Object(ne.jsxs)("div",{className:"food-order-body-toper",children:[Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b",children:"Delivery:"}),Object(ne.jsx)("span",{className:"ml-4",children:h})]}),Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b",children:"Contact at:"}),Object(ne.jsx)("span",{className:"ml-4",children:v})]})]}),O&&Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(Ne,{titleClassName:"b",title:"Destination",name:"destination",value:m,onChange:g,placeholder:"Enter your notes",className:"mt-16"}),Object(ne.jsx)(Ne,{titleClassName:"b",title:"Notes",name:"notes",value:d,onChange:g,placeholder:"Enter your notes",className:"mt-16",type:"TEXTAREA"})]}),Object(ne.jsxs)("div",{className:"food-order-body-btns",children:[Object(ne.jsx)(oe.a,{onClick:function(){t.push("/acestore")},children:"Back"}),Object(ne.jsx)(oe.a,{type:"primary",onClick:N,children:"Confirm"})]}),Object(ne.jsx)(Ta,{className:"mt-48",rowKey:"id",totalData:o,columns:[{title:"No.",dataIndex:"index"},{title:"Name",dataIndex:"name"},{title:"Price",dataIndex:"price",render:function(e){return ra(e,void 0,"")}},{title:"Quantity",dataIndex:"quantity"}]})]}),Object(ne.jsx)(Ae,{visible:l,onClickCancel:function(){c({anyCustomerVisible:!l})},onClick:x}),p&&Object(ne.jsx)(Ia,{})]})});Ha.defaultProps={className:""};var Ka,Qa,Wa,Ja,Za=Object(c.b)((function(e){return{login:e.login}}),{})(Ha),Xa=t(385),za=t(382),et=Object($e.a)(Qa||(Qa=Object(Ve.a)(["\n  {\n    id\n    title\n    name\n    rating\n    price\n    quantityType\n    createdAt\n  }\n"]))),at=Object($e.a)(Wa||(Wa=Object(Ve.a)(["\n  {\n    id\n    food\n    quantity\n    createdAt\n    notes\n    status\n    price\n    destination\n  }\n"]))),tt=Object($e.a)(Ja||(Ja=Object(Ve.a)(["\n  subscription newFoodOrders {\n    newFoodOrders {\n      food {\n        ...","\n      }\n      foodOrder {\n        ...","\n      }\n      user {\n        ...","\n      }\n    }\n  }\n"])),et,at,Xe),nt=function(e){var a,t=Object(n.useRef)(),r=Object(za.a)(tt),s=r.data;r.loading;return null!==s&&void 0!==s&&s.newFoodOrders&&0!==(null===s||void 0===s||null===(a=s.newFoodOrders)||void 0===a?void 0:a.length)&&!_.isEqual(s,t.current)?(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;oa.a.destroy(),Ka&&clearTimeout(Ka),Ka=setTimeout((function(){oa.a.success({message:e,description:t,placement:"bottomLeft",duration:a})}),300)}("New food order(s) arrived!",void 0,"Press refresh to load more food order(s)"),Object(ne.jsx)(oe.a,{type:"primary",onClick:function(){e.updateOrders(),t.current=s},className:e.className,children:Object(ne.jsx)(Xa.a,{})})):null};nt.defaultProps={className:"",updateOrders:function(){},isShowBtn:!1};var rt=nt,st=t(381),ct=t(162),it=t(88),ot=function(e){var a=e.className,t=e.data,n=e.type,r=e.title,s=e.value,c=e.textClass,i=e.onChange,o=e.titleClassName,l=e.radioItemClassName,d=e.name,u=e.isObj,m=e.loading,f=e.disabled,p="mt18",b="",j=o;switch(n){case"QUESTION":p="mt8",b="question-item-normal",j="question-title";break;case"SCORE":b="score-ct",p="";break;case"BIG":b="big-margin";break;case"NONE":p="mt12",b="fw-normal"}return Object(ne.jsxs)("div",{className:Z()("radio-ct",a),children:[Object(ne.jsx)(pe,{title:r,className:j}),m?Object(ne.jsx)("div",{children:Object(ne.jsx)(Fa.a,{indicator:Object(ne.jsx)(it.a,{spin:!0})})}):Object(ne.jsx)(ct.a.Group,{onChange:function(e){return i(d,e.target.value)},value:s,disabled:f,children:u?ee.a.map(t,(function(e,a){return Object(ne.jsxs)("div",{className:Z()("radio-item",l),children:[Object(ne.jsx)(ct.a,{value:e,className:Z()(p,b,c,e.content?"fw-600":""),children:e.title}),e.content?Object(ne.jsx)("div",{className:"radio-content",children:Object(ne.jsx)("span",{children:e.content})}):null]},a)})):ee.a.map(t,(function(e,a){return Object(ne.jsx)(ct.a,{value:e,children:e},e)}))})]})};ot.defaultProps={name:"",className:"",textClass:"",titleClassName:"",radioItemClassName:"",onChange:function(){},data:[],type:"SCORE",title:"",value:void 0,isObj:!1,loading:!1,disabled:!1};var lt,dt=ot,ut=Object($e.a)(lt||(lt=Object(Ve.a)(["\n  mutation changeOrderStatus($status: String!, $orderId: ID!) {\n    changeOrderStatus(status: $status, orderId: $orderId) {\n      isSuccess\n      message\n    }\n  }\n"]))),mt=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,q();case 4:return t=e.sent,e.next=7,t.mutate({mutation:ut,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.changeOrderStatus,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ft=mt,pt=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:"",t=s.length>1&&void 0!==s[1]?s[1]:"",n={status:t,orderId:a},e.prev=3,e.next=6,ft(n);case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(3),{isSuccess:!1,message:e.t0};case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),bt=(t(341),function(e){var a=ae({loading:!1}),t=Object(Q.a)(a,2),n=t[0],r=t[1],s=e.visible,c=e.className,i=e.data,o=e.onClose,l=e.onUpdateFoodOrder,d=i.date,m=i.status,p=i.foodOrderId,b=i.notes,j=i.destination,h=n.loading,v=function(){var a=Object(u.a)(f.a.mark((function a(t,n){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(p&&n){a.next=2;break}return a.abrupt("return");case 2:return r({loading:!0}),a.prev=3,a.next=6,pt(p,n);case 6:a.sent.isSuccess&&l(ee.a.assign(e.data,{status:n})),r({loading:!1}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),r({loading:!1});case 14:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e,t){return a.apply(this,arguments)}}();return Object(ne.jsx)(st.a,{title:"Food order",placement:"right",width:400,closeIcon:Object(ne.jsx)(Ee.a,{className:"color-gray-9"}),onClose:o,visible:s,className:"food-order-drawer",maskClosable:!1,children:Object(ne.jsxs)("div",{className:Z()("food-order-drawer-wrapper",c),children:[Object(ne.jsxs)("div",{className:"food-order-drawer-created-at",children:[Object(ne.jsx)("span",{className:"b mr-4",children:"Created at: "}),Object(ne.jsx)("span",{children:ve()(d).format("HH:mm, DD/MM/YY")})]}),Object(ne.jsxs)("div",{className:"food-order-drawer-total",children:[Object(ne.jsx)("span",{className:"b mr-4",children:"Total: "}),Object(ne.jsx)("span",{children:i.total||""})]}),Object(ne.jsx)(dt,{data:Ue,value:m,title:"Status:",titleClassName:"b pos-re",className:"mt-16 mb-16",onChange:v,loading:h,disabled:!e.isEditable}),Object(ne.jsx)("div",{className:"mt-16",children:Object(ne.jsx)("span",{className:"b",children:"Food list: "})}),ee.a.map(i.data||[],(function(e,a){return Object(ne.jsx)("div",{className:"food-order-drawer-row",children:"".concat(a+1,": ").concat(e.name," - Price: ").concat(ra(e.price,void 0,"")," - Quantity: ").concat(e.quantity)},a)})),Object(ne.jsx)("div",{className:"mt-16",children:Object(ne.jsx)("span",{className:"b",children:"Destination: "})}),Object(ne.jsx)("div",{className:"food-order-drawer-notes",children:j||""}),Object(ne.jsx)("div",{className:"mt-16",children:Object(ne.jsx)("span",{className:"b",children:"Notes: "})}),Object(ne.jsx)("div",{className:"food-order-drawer-notes",children:b||""})]})})});bt.defaultProps={className:"",data:{},visible:!1,toggleClick:function(){},onClose:function(){},onUpdateFoodOrder:function(){},isEditable:!0};var jt=bt,ht=(t(342),function(e){var a=e.className,t=e.cell,n="--pending";switch(t){case Ue[0]:n="--pending";break;case Ue[1]:n="--on-going";break;case Ue[2]:n="--done";break;case Ue[3]:n="--cancel"}return Object(ne.jsx)("div",{className:Z()("display-status",a),children:Object(ne.jsx)("span",{className:n,children:t})})});ht.defaultProps={className:"",cell:""};var vt=ht,Ot=(t(343),function(e){var a=ae({foodOrderData:{}}),t=Object(Q.a)(a,2),n=t[0],r=t[1],s=e.className,c=e.data,i=n.foodOrderData;return Object(ne.jsxs)("div",{className:Z()("admin-order-table",s),children:[0===c.length?Object(ne.jsx)("div",{className:"no-data",children:"There is no data to display"}):Object(ne.jsx)(Ta,{className:"mt-16",rowKey:"index",totalData:c,columns:[{title:"Date",dataIndex:"date",render:function(e){return ve()(e).format("HH:mm")}},{title:"Username",dataIndex:"username"},{title:"Total",dataIndex:"total"},{title:"Address",dataIndex:"address"},{title:"Phone number",dataIndex:"phone"},{title:"Status",dataIndex:"status",render:function(e){return Object(ne.jsx)(vt,{cell:e})}}],onRowClick:function(e,a){console.log({record:a}),r({foodOrderData:a})}}),Object(ne.jsx)(jt,{visible:!ee.a.isEmpty(i),data:i,onClose:function(){r({foodOrderData:{}})},onUpdateFoodOrder:function(e){r({foodOrderData:e})},isEditable:e.isEditable})]})});Ot.defaultProps={className:"",data:[],date:void 0,fetchHistory:function(){},isShow:!1,status:"",notes:"",isEditable:!0};var gt,xt=Ot,Nt=Object($e.a)(gt||(gt=Object(Ve.a)(["\n  query orderHistory($date: String!, $isAll: Boolean) {\n    orderHistory(date: $date, isAll: $isAll) {\n      food {\n        ...","\n      }\n      foodOrder {\n        ...","\n      }\n      user {\n        ...","\n      }\n    }\n  }\n"])),et,at,Xe),yt=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,q();case 4:return t=e.sent,e.next=7,t.query({query:Nt,variables:a});case 7:return n=e.sent,r=(null===n||void 0===n?void 0:n.data)||{},s=r.orderHistory,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),wt=yt,Ct=function(e,a){var t,n,r,s;return{name:(null===e||void 0===e||null===(t=e.food)||void 0===t?void 0:t.name)||"",price:(null===e||void 0===e||null===(n=e.foodOrder)||void 0===n?void 0:n.price)||"",food:(null===e||void 0===e||null===(r=e.food)||void 0===r?void 0:r.id)||"",quantity:(null===e||void 0===e||null===(s=e.foodOrder)||void 0===s?void 0:s.quantity)||""}},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=[],n=_.groupBy(e,(function(e){var a;return null===e||void 0===e||null===(a=e.foodOrder)||void 0===a?void 0:a.createdAt}));return Object.keys(n).forEach((function(e,r){var s,c,i,o,l,d,u,m,f,p,b,j,h,v,O,g,x,N,y,w,C,E,k,S=_.map(n[e],(function(e,a){return Ct(e)}));t.push({index:r+a,date:e,data:S,notes:(null===(s=n[e])||void 0===s||null===(c=s[0])||void 0===c||null===(i=c.foodOrder)||void 0===i?void 0:i.notes)||"",destination:(null===(o=n[e])||void 0===o||null===(l=o[0])||void 0===l||null===(d=l.foodOrder)||void 0===d?void 0:d.destination)||"",status:(null===(u=n[e])||void 0===u||null===(m=u[0])||void 0===m||null===(f=m.foodOrder)||void 0===f?void 0:f.status)||"",username:(null===(p=n[e])||void 0===p||null===(b=p[0])||void 0===b||null===(j=b.user)||void 0===j?void 0:j.username)||"",total:sa(S),address:(null===(h=n[e])||void 0===h||null===(v=h[0])||void 0===v||null===(O=v.user)||void 0===O?void 0:O.address)||"",phone:(null===(g=n[e])||void 0===g||null===(x=g[0])||void 0===x||null===(N=x.user)||void 0===N?void 0:N.phone)||"",user:(null===(y=n[e])||void 0===y||null===(w=y[0])||void 0===w?void 0:w.user)||{},foodOrderId:(null===(C=n[e])||void 0===C||null===(E=C[0])||void 0===E||null===(k=E.foodOrder)||void 0===k?void 0:k.id)||""})})),_.orderBy(t,[function(e){return ve()(e.date).valueOf()}],["desc"])},kt=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},t=a.currentDate,n=a.isAll,r={date:ve()(t).format("DD/MM/YYYY"),isAll:n},e.prev=3,e.next=6,wt(r);case 6:return s=e.sent,e.abrupt("return",Et(s));case 10:return e.prev=10,e.t0=e.catch(3),console.log("Failed to get food orders: ",e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),St=(t(344),function(e){var a=ae({data:[],currentDate:ve()(),loading:!0}),t=Object(Q.a)(a,2),r=t[0],s=t[1],c=e.className,i=e.isAll,o=r.currentDate,l=r.data,d=r.loading,m=function(){var e=Object(u.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return s({loading:!0}),e.prev=3,e.next=6,kt({currentDate:o,isAll:i});case 6:a=e.sent,s({data:a,loading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),s({loading:!1});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){m()}),[o]);return Object(ne.jsxs)("div",{className:Z()("customer-orders",c),children:[Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)(ge,{className:"customer-orders-cur-date",placeholder:"Choose date",value:o,onChange:function(e,a){s(Object(ie.a)({},e,a))},name:"currentDate"}),Object(ne.jsx)("div",{className:"customer-orders-date",children:ve()(o||void 0).format("dddd, MMMM DD, YYYY")}),Object(ne.jsx)(rt,{className:"ml-24",updateOrders:m})]}),Object(ne.jsx)(xt,{data:l,isEditable:e.isAll}),d&&Object(ne.jsx)(Ia,{})]})});St.defaultProps={className:"",isAll:!1};var Dt=St,Pt=(t(345),function(e){var a=Object(K.g)(),t=e.className;return Object(n.useEffect)((function(){E.a.isSuccess()||(null===a||void 0===a||a.push("/acestore"),console.log("logout"))}),[e.login]),Object(ne.jsxs)("div",{className:Z()("history",t),children:[Object(ne.jsx)(Sa,{}),Object(ne.jsx)("div",{className:"history-body",children:Object(ne.jsx)(Dt,{isAll:!1})})]})});Pt.defaultProps={className:""};var Tt=Object(c.b)((function(e){return{login:e.login}}),{})(Pt),Ft=t(222),Rt=(t(346),t.p+"static/media/star.90b70187.svg"),At=t.p+"static/media/star-inactive.a4bed773.svg",Lt=t(132),It=(t(347),Lt.a.Option),_t=function(e){var a=Object(n.useRef)(void 0),t=e.className,r=e.placeholder,s=e.data,c=e.title,i=e.showSearch,o=e.defaultValue,l=e.isValueOutside,d=e.value,u=e.mode,m=e.suffixIcon,f=e.name,p=e.disabled,b=e.isObject;return Object(ne.jsxs)("div",{className:Z()("select-ct-wrapper",t),children:[Object(ne.jsx)(pe,{title:c}),Object(ne.jsx)(Lt.a,{getPopupContainer:function(e){return e.parentElement},disabled:p,ref:a,suffixIcon:m,mode:u,defaultValue:o,value:l?[]:b?(null===d||void 0===d?void 0:d.label)||void 0:d,showSearch:i,placeholder:r,optionFilterProp:"children",onChange:function(t){e.onChange(f,t),a.current.blur()},onSearch:i?function(a){e.onSearch(f,a)}:void 0,filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:b?ee.a.map(s,(function(e,a){return Object(ne.jsx)(It,{value:e.label,children:e.label},a)})):ee.a.map(s,(function(e,a){return Object(ne.jsx)(It,{value:e,children:e},a)}))})]},"select-ct-wrapper-".concat(e.name))};_t.defaultProps={className:void 0,title:"",placeholder:"Select...",data:[],onChange:function(){},onSearch:function(){},showSearch:!0,defaultValue:void 0,isValueOutside:!1,mode:void 0,value:[],suffixIcon:void 0,name:"",disabled:!1,isObject:!1};var Mt=_t,qt=(t(348),function(e){var a=e.className,t=e.rating,n=e.onClick,r=e.isButton,s=null===n,c=s?"cur-not-allowed":"cur-pointer";return Object(ne.jsx)("div",{className:Z()("display-rating",a),children:r?Object(ne.jsxs)(ne.Fragment,{children:[ee.a.map(ee.a.range(t),(function(e,a){return Object(ne.jsx)("button",{className:"bas-btn ".concat(c),onClick:function(){return n(a+1)},disabled:s,children:Object(ne.jsx)("img",{src:Rt,alt:"Star ic"})},e)})),ee.a.map(ee.a.range(5-t),(function(e,a){return Object(ne.jsx)("button",{className:"bas-btn ".concat(c),onClick:function(){return n(t+a+1)},disabled:s,children:Object(ne.jsx)("img",{src:At,alt:"Star inactive ic"})},e)}))]}):Object(ne.jsxs)(ne.Fragment,{children:[ee.a.map(ee.a.range(t),(function(e){return Object(ne.jsx)("img",{src:Rt,alt:"Star ic",className:"mr-2"},e)})),ee.a.map(ee.a.range(5-t),(function(e,a){return Object(ne.jsx)("img",{src:At,alt:"Star ic",className:4-t!==e?"mr-2":""},a)}))]})})});qt.defaultProps={className:"",onClick:function(){},rating:1,isButton:!1};var Ut=qt,Bt=function(e){var a=Object(n.useRef)(void 0),t=ae({searchName:"",rating:0,kind:void 0,minPrice:void 0,maxPrice:void 0}),r=Object(Q.a)(t,2),s=r[0],c=r[1],i=e.className,o=e.onFilterFood,l=function(e,a){c(Object(ie.a)({},e,a))},d=s.searchName,u=s.rating,m=s.kind,f=s.minPrice,p=s.maxPrice;return te((function(){a.current&&clearTimeout(a.current),a.current=setTimeout((function(){o(s)}),200)}),[d,u,m,f,p]),Object(ne.jsxs)("div",{className:Z()("filter-block",i),children:[Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("div",{className:"filter-block-title",children:"Search:"}),Object(ne.jsx)(Ne,{name:"searchName",value:d,onChange:l,className:"filter-block-search"}),Object(ne.jsx)("div",{className:"filter-block-star",children:"Stars:"}),Object(ne.jsx)(Ut,{rating:u,isButton:!0,onClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e!==s.rating?c({rating:e}):c({rating:0})},className:"filter-block-star-dis"})]}),Object(ne.jsxs)("div",{className:"filter-block-row",children:[Object(ne.jsx)(Mt,{name:"kind",value:m,onChange:l,className:"w-160",title:"Kind of food:",data:E.a.getKindOfFood()||[]}),Object(ne.jsx)(Mt,{name:"minPrice",value:f,onChange:l,title:"Min price:",className:"ml-48 w-160",type:"NUMBER",data:ee.a.filter(Be,(function(e){return!p||e<p}))}),Object(ne.jsx)(Mt,{name:"maxPrice",value:p,onChange:l,title:"Max price:",className:"ml-48 w-160",type:"NUMBER",data:ee.a.filter(Be,(function(e){return!f||e>f}))})]})]})};Bt.defaultProps={className:"",onFilterFood:function(){}};var Vt=Bt,$t=(t(349),function(e){var a=e.visible,t=e.className,n=e.toggleClick,r=(e.loading,e.data),s=r.name,c=r.price,i=r.image,o=r.rating;return Object(ne.jsx)(ye.a,{className:"food-info-modal",visible:a,closable:!1,footer:null,destroyOnClose:!0,centered:!0,onCancel:n,children:Object(ne.jsxs)("div",{className:Z()("food-info-modal-wrapper",t),children:[Object(ne.jsx)(Se,{title:s,onClick:n}),Object(ne.jsxs)("div",{className:"food-info-modal-main",children:[Object(ne.jsx)("img",{src:i,alt:"Food card img"}),Object(ne.jsxs)("div",{className:"fr-sb mt-16",children:[Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b",children:"Rating:"}),Object(ne.jsx)(Ut,{rating:o,className:"ml-4"})]}),Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b",children:"Price:"}),Object(ne.jsx)("span",{className:"ml-4",children:ra(c,void 0,"")})]})]})]})]})})});$t.defaultProps={className:"",data:{},loading:!1,visible:!1,toggleClick:function(){}};var Gt=$t,Yt=(t(350),function(e){var a=ae({name:e.name,price:e.price,rating:e.rating,isBuy:e.isBuy,quantity:e.quantity?e.quantity:e.quantityType===Le?_e[0]:Me[0],quantityType:e.quantityType,visibleFoodInfo:!1}),t=Object(Q.a)(a,2),n=t[0],r=t[1],s=e.className,c=e.quantityType,i=e.image,o=e.unit,l=e.onChangeCart,d=n.name,u=n.price,m=n.rating,f=n.isBuy,p=n.quantity,b=n.visibleFoodInfo;te((function(){l(n)}),[f,p]),te((function(){r({isBuy:e.isBuy})}),[e.isBuy]);var j=function(){r({isBuy:!f})},h=function(){r({visibleFoodInfo:!b})};return Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("div",{className:Z()("food-card",f&&"food-card-active",s),children:[i?Object(ne.jsx)("div",{className:"food-card-img",onClick:j,children:Object(ne.jsx)("img",{src:i,alt:"Food card img",className:"food-card-img-dis"})}):Object(ne.jsx)("div",{className:"food-card-img",onClick:j}),Object(ne.jsxs)("div",{className:"food-card-info",children:[Object(ne.jsx)("div",{className:"food-card-info-name",children:d}),Object(ne.jsxs)("div",{className:"fr-sb",children:[Object(ne.jsxs)("div",{className:"food-card-info-col",children:[Object(ne.jsx)("div",{className:"food-card-info-col-price",children:ra(u,o)}),Object(ne.jsx)(Mt,{disabled:!f,name:"quantity",showSearch:!1,className:"mt-4",value:p,onChange:function(e,a){r(Object(ie.a)({},e,a))},data:c===Le?_e:Me})]}),Object(ne.jsxs)("div",{className:"food-card-info-col",children:[Object(ne.jsx)(Ut,{rating:m,className:"food-card-info-col-rating"}),Object(ne.jsx)(oe.a,{className:"mt-10",onClick:h,children:"More info"})]})]})]}),f&&Object(ne.jsx)("div",{className:"food-card-isbuy",children:"Buy"})]}),Object(ne.jsx)(Gt,{visible:b,toggleClick:h,data:{name:d,rating:m,price:u,image:i}})]})});Yt.defaultProps={className:"",name:"",price:0,rating:3,isBuy:!1,quantity:"",quantityType:Le,image:"",unit:"VND",onChangeCart:function(){}};var Ht=Yt,Kt=function(e){var a=Object(n.useRef)(void 0),t=Object(n.useRef)(void 0),s=ae({isShow:e.isShow}),c=Object(Q.a)(s,2),i=c[0],o=c[1],l=e.className,u=e.data,m=e.title,f=e.onChangeCart,p=i.isShow;Object(n.useEffect)((function(){if(!p){var e=Object(r.findDOMNode)(a.current);ja()(e).slideUp("slow")}}),[]);return Object(ne.jsxs)("div",{className:Z()("food-table",l),children:[Object(ne.jsx)("div",{className:"food-table-title",children:Object(ne.jsx)("span",{children:m})}),Object(ne.jsx)("div",{ref:a,children:Object(ne.jsx)("div",{className:"food-table-wrap",children:ee.a.map(u,(function(e,a){return Object(ne.jsx)(Ht,Object(d.a)(Object(d.a)({},e),{},{onChangeCart:function(e){return f(e,m)},className:"mr-24 mt-24"}),a)}))})}),Object(ne.jsx)("div",{className:"food-table-ender"}),Object(ne.jsx)(oe.a,{type:"link",onClick:function(){t.current&&clearTimeout(t.current),t.current=setTimeout((function(){var e=Object(r.findDOMNode)(a.current);e&&ja()(e).slideToggle("slow"),o({isShow:!p})}),200)},className:"food-table-show-btn",children:p?"Hide":"Show"})]})};Kt.defaultProps={className:"",data:[],title:"",onChangeCart:function(){},isShow:!1};var Qt=Kt,Wt=function(e){var a=e.className,t=e.total,n=e.onClickBuy,r=e.onClickReset;return Object(ne.jsxs)("div",{className:Z()("home-total",a),children:[Object(ne.jsxs)("div",{className:"fr-sb",children:[Object(ne.jsx)("div",{className:"home-total-title",children:"Total:"}),Object(ne.jsx)(oe.a,{type:"primary",danger:!0,onClick:r,disabled:!t,children:"Reset cart"})]}),Object(ne.jsx)("div",{className:"home-total-price",children:ra(t,void 0,"")}),Object(ne.jsx)(oe.a,{block:!0,type:"primary",onClick:n,disabled:!t,children:"Buy now"})]})};Wt.defaultProps={className:"",total:0,onClickBuy:function(){},onClickReset:function(){}};var Jt=Wt,Zt=function(e){var a=Object(K.g)(),t=ae({foodData:0!==E.a.getFoodData().length?E.a.getFoodData():[],arrImages:[],loading:!0,rawFoodData:0!==E.a.getFoodData().length?E.a.getFoodData():[]}),r=Object(Q.a)(t,2),s=r[0],c=r[1],i=function(){var e=Object(u.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:a=e.t0,c({foodData:a,rawFoodData:a,loading:!1}),e.next=13;break;case 10:e.prev=10,e.t1=e.catch(0),c({loading:!1});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){0===E.a.getFoodData().length?i():c({loading:!1})}),[]);var o=e.className,l=s.foodData,m=s.loading,p=Je(l),b=p.cartTags,j=p.total,h=function(){var e=ee.a.cloneDeep(l);ee.a.forEach(e,(function(e){ee.a.forEach(e.data||[],(function(e){ee.a.assign(e,{isBuy:!1})}))})),E.a.setFoodData(void 0),c({foodData:e})},v=function(){a.push({pathname:"/food-order",state:l}),E.a.setFoodData(l)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=ee.a.find(l,(function(e){return e.title===a})),n=t.data,r=ee.a.find(n,(function(a){return a.name===e.name}));ee.a.assign(r,Object(d.a)({},e)),E.a.setFoodData(l),c({foodData:l})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c({foodData:[],loading:!0}),setTimeout((function(){var a=Ze(e,s.rawFoodData);c({foodData:ee.a.cloneDeep(a),loading:!1})}),400)};return Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("div",{className:Z()("home-body",o),children:[Object(ne.jsxs)("div",{className:"home-body-toper",children:[Object(ne.jsx)(Vt,{onFilterFood:g}),Object(ne.jsx)(Jt,{className:"home-body-toper-block-3",total:j,onClickReset:h,onClickBuy:v})]}),Object(ne.jsxs)("div",{className:"home-body-main",children:[0!==b.length&&Object(ne.jsxs)("div",{className:"home-body-cart-tag animation-fadein-2s",children:[Object(ne.jsx)("div",{className:"home-body-cart-tag-title",children:Object(ne.jsx)("span",{children:"Your cart:"})}),ee.a.map(b,(function(e,a){return Object(ne.jsx)(Ft.a,{className:"home-body-cart-tag-item",color:"orange",children:e},a)}))]}),ee.a.map(l,(function(e,a){return 0!==e.data.length&&e.title&&Object(ne.jsx)(Qt,{className:"animation-fadein-2s",title:e.title,data:e.data,onChangeCart:O,isShow:0===a},a)}))]})]}),m&&Object(ne.jsx)(Ia,{})]})};Zt.defaultProps={className:""};var Xt=Zt,zt=function(e){var a=e.className;return Object(ne.jsxs)("div",{className:Z()("home-footer",a),children:[Object(ne.jsxs)("div",{className:"home-footer-contact",children:[Object(ne.jsx)("div",{className:"b",children:"Contacts"}),Object(ne.jsx)("div",{className:"mt-2",children:"tttriet1997@gmail.com"}),Object(ne.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100015087697713",className:"mt-2 fs-16",target:"blank",children:"Facebook"})]}),Object(ne.jsxs)("div",{className:"home-footer-address",children:[Object(ne.jsx)("div",{className:"b",children:"Address"}),Object(ne.jsx)("div",{className:"mt-2",children:"329 L\xea V\u0103n L\u01b0\u01a1ng, District.7, HCM city."}),Object(ne.jsx)("div",{className:"mt-2",children:"(+84) 819 541 897 (Zalo)"})]}),Object(ne.jsx)("div",{className:"home-footer-copyright",children:"\xa9 2021 - Acestore"})]})};zt.defaultProps={className:""};var en=zt,an=function(e){var a=e.className;return Object(ne.jsxs)("div",{className:Z()("home",a),children:[Object(ne.jsx)(Sa,{}),Object(ne.jsx)(Xt,{}),Object(ne.jsx)(en,{})]})};an.defaultProps={className:""};var tn=an,nn=t(376),rn=t(386),sn=(t(351),function(e){var a,t,n,r,s=e.visible,c=e.type,i=e.className,o=e.icon,l=e.children,d=e.toggleClick,u=e.onClick,m=e.loading;switch(c){case"CLONE_ORDER":a="Clone the order",t="Are you sure want to clone this order?",n="Cancel",r="Yes";break;case"SEND_VERIFY_CODE":a="Send code",t="Are you sure want to send code?",n="Cancel",r="Yes";break;case"CHANGE_PASSWORD":a="Change password",t="Are you sure want to change new password?",n="Cancel",r="Yes"}return Object(ne.jsx)(ye.a,{className:"modal-send-report",visible:s,closable:!1,footer:null,destroyOnClose:!0,centered:!0,children:Object(ne.jsxs)("div",{className:Z()("confirm-modal",i),children:[Object(ne.jsxs)("div",{className:"confirm-modal-body",children:[Object(ne.jsxs)("div",{className:"cl-body-row",children:[o||Object(ne.jsx)(rn.a,{className:"row-icon"}),Object(ne.jsx)("div",{className:"row-title",children:Object(ne.jsx)("span",{children:a})})]}),t&&Object(ne.jsx)("div",{className:"cl-body-content",children:Object(ne.jsx)("span",{children:t})}),l]}),Object(ne.jsx)("div",{className:"confirm-modal-footer",children:Object(ne.jsxs)("div",{className:"cl-footer-buttons",children:[Object(ne.jsx)(oe.a,{className:"mr8",onClick:d,disabled:m,children:n}),Object(ne.jsx)(oe.a,{type:"primary",danger:!1,onClick:u,loading:m,children:r})]})})]})})});sn.defaultProps={className:void 0,type:"CLONE_ORDER",loading:!1,icon:void 0,visible:!1,message:"",rightBtnTitle:"",children:null,toggleClick:function(){}};var cn,on=sn,ln=Object($e.a)(cn||(cn=Object(Ve.a)(["\n  mutation changePassword($password: String!, $newPassword: String!) {\n    changePassword(password: $password, newPassword: $newPassword) {\n      isSuccess\n      message\n    }\n  }\n"]))),dn=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,q();case 4:return t=e.sent,e.next=7,t.mutate({mutation:ln,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.changePassword,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),un=dn,mn=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:"",t=r.length>1&&void 0!==r[1]?r[1]:"",e.prev=2,e.next=5,un({password:a,newPassword:t});case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("Failed to change password: ",e.t0);case 11:return n.isSuccess?alert("Successfully changing password!"):alert("Unsuccessfully changing password!"),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),fn=(t(352),function(e){var a=ae({password:"",newPassword:"",confirmPassword:"",passwordErr:"",newPasswordErr:"",confirmPasswordErr:"",visibleChangePass:!1,loading:!1}),t=Object(Q.a)(a,2),n=t[0],r=t[1],s=e.className,c=e.onClickCancel,i=n.password,o=n.newPassword,l=n.confirmPassword,d=n.passwordErr,m=n.newPasswordErr,p=n.confirmPasswordErr,b=n.visibleChangePass,j=n.loading,h=function(e,a){var t;r((t={},Object(ie.a)(t,e,a),Object(ie.a)(t,"confirmPasswordErr",""),Object(ie.a)(t,"newPasswordErr",""),Object(ie.a)(t,"passwordErr",""),t))},v=function(){i&&i.length<6?r({passwordErr:"Password is too short"}):l&&l!==o?r({confirmPasswordErr:"Confirm password doesn't match"}):o&&o.length<6?r({newPasswordErr:"New password is too short"}):r({visibleChangePass:!b})},O=function(){var e=Object(u.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({loading:!0}),e.next=3,mn(i,o);case 3:e.sent.isSuccess&&c(),r({loading:!1,visibleChangePass:!1});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ne.jsxs)("div",{className:Z()("change-user-password",s),children:[Object(ne.jsx)("div",{className:"change-user-password-wrapper",children:Object(ne.jsxs)("div",{className:"change-user-password-editing",children:[Object(ne.jsx)(Ne,{title:"Current password",name:"password",value:i,onChange:h,placeholder:"Enter your password",errMes:d,type:"PASSWORD"}),Object(ne.jsx)(Ne,{className:"mt-16",title:"New password",name:"newPassword",value:o,onChange:h,placeholder:"Enter your new password",errMes:m,type:"PASSWORD"}),Object(ne.jsx)(Ne,{className:"mt-16",title:"Confirm new password",name:"confirmPassword",value:l,onChange:h,placeholder:"Enter your new password again",errMes:p,type:"PASSWORD"})]})}),Object(ne.jsxs)("div",{className:"handle-user-ui-btns",children:[Object(ne.jsx)(oe.a,{className:"mr-32",onClick:c,disabled:j,children:"Cancel"}),Object(ne.jsx)(oe.a,{type:"primary",onClick:v,loading:j,disabled:!i||!o||!l,children:"Change"})]}),Object(ne.jsx)(on,{type:"CHANGE_PASSWORD",toggleClick:v,onClick:O,visible:b})]})});fn.defaultProps={className:"",email:"",username:"",phone:"",address:"",role:"",gender:"",dob:void 0,onClickCancel:function(){}};var pn=fn,bn=(t(353),function(e){var a=e.email,t=e.username,n=e.phone,r=e.address,s=e.role,c=e.gender,i=e.dob,o=e.className,l=e.isVerified,d=e.onClickVerifyAccount,u=e.onClickChangePass,m=e.onClickChangeInfo;return Object(ne.jsxs)("div",{className:Z()("display-user-info",o),children:[Object(ne.jsxs)("div",{className:"fr-sb",children:[Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b mr-4",children:"Phone:"}),Object(ne.jsx)("span",{children:n})]}),Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b mr-4",children:"Role:"}),Object(ne.jsx)("span",{children:s||"Customer"})]}),Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b mr-4",children:"Email:"}),Object(ne.jsx)("span",{children:a})]})]}),Object(ne.jsxs)("div",{className:"fr-sb",children:[Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b mr-4",children:"Address:"}),Object(ne.jsx)("span",{children:r})]}),Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b mr-4",children:"Gender:"}),Object(ne.jsx)("span",{children:c})]}),Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b mr-4",children:"Username:"}),Object(ne.jsx)("span",{children:t})]})]}),Object(ne.jsx)("div",{className:"fr-sb",children:Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b mr-4",children:"DOB:"}),Object(ne.jsx)("span",{children:i})]})}),Object(ne.jsxs)("div",{className:"handle-user-ui-btns",children:[!l&&Object(ne.jsx)(oe.a,{className:"mr-32",type:"dashed",onClick:d,children:"Verify account"}),Object(ne.jsx)(oe.a,{className:"mr-32",onClick:u,children:"Change password"}),Object(ne.jsx)(oe.a,{type:"primary",onClick:m,children:"Change info"})]})]})});bn.defaultProps={className:"",email:"",username:"",phone:"",address:"",role:"",gender:"",dob:"",isVerified:!1,onClickVerifyAccount:function(){},onClickChangePass:function(){},onClickChangeInfo:function(){}};var jn,hn=bn,vn=Object($e.a)(jn||(jn=Object(Ve.a)(["\n  mutation updateUser($profileInput: ProfileInput!) {\n    updateUser(profileInput: $profileInput) {\n      isSuccess\n      message\n      user{\n        ...","\n      }\n    }\n  }\n"])),Xe),On=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,q();case 4:return t=e.sent,e.next=7,t.mutate({mutation:vn,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.updateUser,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),gn=On,xn=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c,i,o,l=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>0&&void 0!==l[0]?l[0]:{},t=a.email,n=a.username,r=a.gender,s=a.address,c=a.dob,i={email:t,username:n,gender:r,address:s,dob:ve()(c).toISOString()},e.prev=3,e.next=6,gn({profileInput:i});case 6:return o=e.sent,e.abrupt("return",o);case 10:return e.prev=10,e.t0=e.catch(3),console.log("Failed to update user: ",e.t0),e.abrupt("return",{isSuccess:!1,message:e.t0});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),Nn=(t(354),function(e){var a=Object(n.useRef)({email:e.email,username:e.username,address:e.address,dob:e.dob,gender:e.gender}),t=ae({email:e.email,username:e.username,address:e.address,dob:e.dob,gender:e.gender,usernameErr:"",addressErr:"",loading:!1}),r=Object(Q.a)(t,2),s=r[0],c=r[1],i=e.className,o=e.role,l=e.onClickCancel,d=e.phone,m=s.email,p=s.username,b=s.address,j=s.dob,h=s.gender,v=s.usernameErr,O=s.phoneErr,g=s.addressErr,x=s.loading,N=function(e,a){var t;c((t={},Object(ie.a)(t,e,a),Object(ie.a)(t,"usernameErr",""),Object(ie.a)(t,"addressErr",""),t))},y=function(){var e=Object(u.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({loading:!0}),e.next=3,xn(s);case 3:(a=e.sent).isSuccess?(E.a.setDatalogin(a.user),alert("Successfully update user information!"),l()):alert("Failed to update user information, please try again!"),c({loading:!1});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ne.jsxs)("div",{className:Z()("edit-user-info",i),children:[Object(ne.jsx)("div",{className:"edit-user-info-wrapper",children:Object(ne.jsxs)("div",{className:"edit-user-info-editing",children:[Object(ne.jsx)(Ne,{title:"Email",name:"email",value:m,onChange:N,placeholder:"Enter your email",errMes:la(m)?"":"Invalid email!"}),Object(ne.jsx)(Ne,{title:"Username",name:"username",value:p,onChange:N,placeholder:"Enter your username",errMes:v,className:"mt-16"}),Object(ne.jsx)(Ne,{title:"Phone number",name:"phone",value:d,onChange:N,placeholder:"Enter your phone number",className:"mt-16",type:"NUMBER",errMes:O,allowLeadingZeros:!0,prefix:"+",maxLength:15,disabled:!0}),Object(ne.jsx)(Ne,{title:"Role",name:"role",value:o,onChange:N,placeholder:"Enter your role",className:"mt-16",disabled:!0}),Object(ne.jsx)(Ne,{title:"Address",name:"address",value:b,onChange:N,placeholder:"Enter your address",className:"mt-16",errMes:g}),Object(ne.jsx)(Ne,{type:"DATE",title:"Date of birth",name:"dob",value:j,onChange:N,placeholder:"Enter your dob",className:"mt-16",disabledDate:"PAST"}),Object(ne.jsx)(dt,{data:["Male","Female","Other"],value:h,name:"gender",title:"Gender",titleClassName:"pos-re",className:"mt-16",onChange:N})]})}),Object(ne.jsxs)("div",{className:"handle-user-ui-btns",children:[Object(ne.jsx)(oe.a,{className:"mr-32",onClick:l,disabled:x,children:"Cancel"}),Object(ne.jsx)(oe.a,{type:"primary",onClick:y,loading:x,disabled:ee.a.isEqual(a.current,{email:m,username:p,address:b,dob:j,gender:h}),children:"Confirm"})]})]})});Nn.defaultProps={className:"",email:"",username:"",phone:"",address:"",role:"",gender:"",dob:void 0,onClickCancel:function(){}};var yn,wn,Cn=Nn,En=t(216),kn=Object($e.a)(yn||(yn=Object(Ve.a)(["\n  mutation resendVerifiedEmail {\n    resendVerifiedEmail {\n      isSuccess\n      message\n    }\n  }\n"]))),Sn=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:return t=e.sent,e.next=6,t.mutate({mutation:kn,variables:a});case 6:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.resendVerifiedEmail,e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),Dn=Sn,Pn=Object($e.a)(wn||(wn=Object(Ve.a)(["\n  mutation verifiedEmail($verificationCode: String!) {\n    verifiedEmail(verificationCode: $verificationCode) {\n      isSuccess\n      message\n    }\n  }\n"]))),Tn=function(){var e=Object(u.a)(f.a.mark((function e(a){var t,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:return t=e.sent,e.next=6,t.mutate({mutation:Pn,variables:a});case 6:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.verifiedEmail,e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),Fn=Tn,Rn=function(){var e=Object(u.a)(f.a.mark((function e(a){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fn({verificationCode:a});case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Failed to verify code: ",e.t0);case 9:if(!t.isSuccess){e.next=14;break}return alert("Verify code successfully!"),e.abrupt("return",t);case 14:return alert("Verify code unsuccessfully!"),e.abrupt("return",{isSuccess:!1});case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),An=function(){var e=Object(u.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dn();case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Failed to send verify code: ",e.t0);case 9:if(!a.isSuccess){e.next=14;break}return alert("Send verify code successfully!"),e.abrupt("return",a);case 14:return alert("Send verify code unsuccessfully!"),e.abrupt("return",{isSuccess:!1});case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Ln=(t(355),function(e){var a=ae({verifycationCode:"",invalidCode:"",countingTime:30,loading:!1,visibleSendCode:!1}),t=Object(Q.a)(a,2),r=t[0],s=t[1],c=e.className,i=e.onClickCancel,o=r.verifycationCode,l=r.invalidCode,m=r.countingTime,p=r.loading,b=r.visibleSendCode;Object(n.useEffect)((function(){setTimeout((function(){m>0&&s({countingTime:m-1})}),1e3)}),[r.countingTime]);var j=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0}),e.next=3,An();case 3:a=e.sent,t={loading:!1,visibleSendCode:!1},a.isSuccess&&ee.a.assign(t,{countingTime:60}),s(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){s({visibleSendCode:!b})},v=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0}),e.next=3,Rn(o);case 3:a=e.sent,t={loading:!1},a.isSuccess&&(E.a.setDatalogin(Object(d.a)(Object(d.a)({},E.a.getDataLogin()),{},{isVerified:!0})),i()),s(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ne.jsxs)("div",{className:Z()("verify-account",c),children:[Object(ne.jsx)("div",{className:"verify-account-wrapper",children:Object(ne.jsxs)("div",{className:"verify-account-editing",children:[Object(ne.jsxs)("div",{className:"flex",children:[Object(ne.jsx)("span",{className:"b mr-4",children:"Email:"}),Object(ne.jsx)("span",{children:e.email})]}),Object(ne.jsx)(En.a,Object(ie.a)({autoFocus:!1,values:o.split(),type:"number",className:l?"invalid-code":"",fieldWidth:32,fieldHeight:40,fields:6,placeholder:["_","_","_","_","_","_"],onChange:function(e){return a="verifycationCode",t=e,void s(Object(ie.a)({},a,t));var a,t},title:"Verify account"},"className","mt-16")),l?Object(ne.jsx)("div",{className:"div-incorrect-mes",children:Object(ne.jsx)("span",{children:l})}):null,Object(ne.jsx)("div",{className:"verify-account-resend",children:Object(ne.jsx)(oe.a,{type:"link",className:"mt-16",disabled:0!==m,onClick:h,children:"Resend code ".concat(0!==m?m:"")})})]})}),Object(ne.jsxs)("div",{className:"handle-user-ui-btns",children:[Object(ne.jsx)(oe.a,{className:"mr-32",onClick:i,disabled:p,children:"Cancel"}),Object(ne.jsx)(oe.a,{type:"primary",onClick:v,loading:p,disabled:6!==o.length,children:"Verify"})]}),Object(ne.jsx)(on,{type:"SEND_VERIFY_CODE",toggleClick:h,onClick:j,visible:b})]})});Ln.defaultProps={className:"",email:"",username:"",phone:"",address:"",role:"",gender:"",dob:void 0,onClickCancel:function(){}};var In=Ln,_n=(t(356),function(e){var a=ae({type:"DISPLAY"}),t=Object(Q.a)(a,2),n=t[0],r=t[1],s=e.className,c=n.type,i=E.a.getDataLogin(),o=i.role,l=i.isVerified,d=i.email,u=i.username,m=i.phone,f=i.address,p=i.dob,b=i.gender,j=function(){r({type:"DISPLAY"})},h=function(){r({type:"EDIT"})},v=function(){r({type:"VERIFY"})},O=function(){r({type:"CHANGE_PASSWORD"})};return Object(ne.jsx)("div",{className:Z()("handle-user-ui",s),children:function(){switch(c){case"EDIT":return Object(ne.jsx)(Cn,{username:u,email:d,phone:m,address:f,gender:b,dob:p||void 0,role:o,onClickCancel:j});case"CHANGE_PASSWORD":return Object(ne.jsx)(pn,{onClickCancel:j});case"VERIFY":return Object(ne.jsx)(In,{onClickCancel:j,email:d});default:return Object(ne.jsx)(hn,{username:u,email:d,phone:m,address:f,gender:b,dob:p?ve()(p).format("DD/MM/YYYY"):"",role:o,isVerified:l,onClickVerifyAccount:v,onClickChangePass:O,onClickChangeInfo:h})}}()})});_n.defaultProps={className:""};var Mn=_n,qn=t(387),Un=(t(357),{image:void 0,name:"",nameErr:"",price:"",id:"",priceErr:"",title:"",titleErr:"",rating:1,quantityType:void 0,quanityTypeErr:"",displayingName:void 0}),Bn=function(e){var a=Object(n.useRef)([]),t=ae(Object(d.a)({},Un)),r=Object(Q.a)(t,2),s=r[0],c=r[1],i=e.className,o=e.index,l=e.onChangeFood,m=e.onDeleteFood,p=e.type,b=s.image,j=s.name,h=s.nameErr,v=s.price,O=s.priceErr,g=s.title,x=s.titleErr,N=s.rating,y=s.quantityType,w=s.quanityTypeErr,C=s.displayingName,k=s.id,S="".concat(p,"-img-id-").concat(o),D="ADD"===p,P="DELETE"===p,T=P?"cur-not-allowed":"cur-pointer";Object(n.useEffect)((function(){D||(a.current=E.a.getMenu())}),[]);var F=function(){var e=_.find(a.current,(function(e){return e.title+"."+e.name===C}));_.isEmpty(e)||c(Object(d.a)(Object(d.a)({},e),{},{quantityType:qe[e.quantityType===Le?0:1]}))};Object(n.useEffect)((function(){F()}),[C]),Object(n.useEffect)((function(){l(o,{image:b,name:j,price:v,title:g,rating:N,quantityType:y,displayingName:C,id:k})}),[b,j,v,g,N,y,C]);var R=function(e,a){var t;c((t={},Object(ie.a)(t,e,a),Object(ie.a)(t,"nameErr",""),Object(ie.a)(t,"priceErr",""),Object(ie.a)(t,"titleErr",""),Object(ie.a)(t,"quanityTypeErr",""),t))},A=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},n=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.files[0]){e.next=4;break}return e.abrupt("return");case 4:(r=new FileReader).readAsDataURL(n),r.onloadend=Object(u.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.result,c({image:a});case 2:case"end":return e.stop()}}),e)})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=document.getElementById(S);e&&e.click()};return Object(ne.jsxs)("div",{className:Z()("add-food",i),children:[!D&&Object(ne.jsx)(Mt,{title:"Food",name:"displayingName",value:C,onChange:R,placeholder:"Select food name",data:_.map(E.a.getMenu(),(function(e){return e.title+"."+e.name})),className:"mb-16"}),(C||D)&&Object(ne.jsxs)("div",{className:"add-food-row",children:[Object(ne.jsxs)("div",{className:"",children:[b?Object(ne.jsx)("img",{src:b,alt:"Food card img",className:"food-card-img ".concat(T),onClick:L}):Object(ne.jsxs)("div",{className:"food-card-img ".concat(T),onClick:L,children:[Object(ne.jsx)(qn.a,{}),Object(ne.jsx)("div",{className:"food-card-img-text",children:Object(ne.jsx)("span",{children:"Upload image"})})]}),Object(ne.jsx)("input",{id:S,type:"file",onChange:A,className:"dis-none",accept:"image/png, .jpeg, .jpg, .webp",disabled:P}),Object(ne.jsx)(Ne,{className:"mt-16",title:"Food name",name:"name",value:j,onChange:R,placeholder:"Enter your name",errMes:h,disabled:P})]}),Object(ne.jsxs)("div",{className:"add-food-name-price",children:[Object(ne.jsxs)("div",{className:"fr-sb",children:[Object(ne.jsx)(oe.a,{danger:!0,onClick:function(){F()},children:"Reset"}),0!==o&&Object(ne.jsx)(oe.a,{onClick:function(){m(o)},children:Object(ne.jsx)(Ee.a,{})})]}),Object(ne.jsx)(Mt,{className:"mt-16",title:"Kind of quanity",name:"quantityType",value:y,onChange:R,placeholder:"Enter your quanity",errMes:w,data:qe,disabled:P}),Object(ne.jsx)(Ne,{className:"mt-16",title:"Food price",name:"price",value:v,onChange:R,placeholder:"Enter your price",errMes:O,type:"NUMBER",disabled:P}),Object(ne.jsx)(Ne,{className:"mt-16",title:"Kind of food",name:"title",value:g,onChange:R,placeholder:"Enter kind of food",errMes:x,disabled:P}),Object(ne.jsx)(pe,{title:"Rating",className:"mt-16"}),Object(ne.jsx)(Ut,{rating:N,isButton:!0,onClick:P?null:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e===s.rating||c({rating:e})}})]})]})]})};Bn.defaultProps={className:"",index:0,data:{},onChangeFood:function(){},onDeleteFood:function(){},type:"ADD"};var Vn,$n,Gn,Yn=Bn,Hn=Object($e.a)(Vn||(Vn=Object(Ve.a)(["\n  mutation addFood($input: [AddFoodInput]!) {\n    addFood(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Kn=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,q();case 4:return t=e.sent,e.next=7,t.mutate({mutation:Hn,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.addFood,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Qn=Kn,Wn=Object($e.a)($n||($n=Object(Ve.a)(["\n  mutation deleteFood($input: [ID]!) {\n    deleteFood(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Jn=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,q();case 4:return t=e.sent,e.next=7,t.mutate({mutation:Wn,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.deleteFood,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Zn=Jn,Xn=Object($e.a)(Gn||(Gn=Object(Ve.a)(["\n  mutation updateFood($input: [UpdateFoodInput]!) {\n    updateFood(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),zn=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,q();case 4:return t=e.sent,e.next=7,t.mutate({mutation:Xn,variables:a});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.updateFood,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),er=zn,ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=e.quantityType===qe[0]?Le:Ie,n={title:e.title,name:e.name,rating:e.rating,price:parseFloat(e.price),quantityType:t,image:e.image};return a&&ee.a.assign(n,{id:a}),n},tr=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t,n,r,s,c,i,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.length>0&&void 0!==o[0]?o[0]:[],t=o.length>1&&void 0!==o[1]?o[1]:"ADD",n="ADD"===t,r="EDIT"===t,s={},e.t0=t,e.next="ADD"===e.t0||"EDIT"===e.t0?8:10;break;case 8:return ee.a.assign(s,{input:ee.a.map(a,(function(e){return ar(e,n?null:e.id)}))}),e.abrupt("break",12);case 10:return ee.a.assign(s,{input:ee.a.map(a,(function(e){return e.id}))}),e.abrupt("break",12);case 12:return e.prev=12,c=n?Qn:r?er:Zn,e.next=16,c(s);case 16:return i=e.sent,e.abrupt("return",i);case 20:return e.prev=20,e.t1=e.catch(12),e.abrupt("return",{isSuccess:!1,message:e.t1});case 23:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(){return e.apply(this,arguments)}}(),nr=(t(358),function(e){var a=ae({foodList:[void 0],loading:!1}),t=Object(Q.a)(a,2),n=t[0],r=t[1],s=n.foodList,c=n.loading,i=e.className,o=e.type,l="ADD"===o,d="EDIT"===o,m="DELETE"===o,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s[e]=a,r({foodList:s})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;s.splice(e,1),console.log({onDeleteFood:s,index:e}),r({foodList:s})},j=function(){var e=Object(u.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({loading:!0}),e.next=3,tr(s,o);case 3:if(a=e.sent,t={loading:!1},!a.isSuccess){e.next=13;break}return alert(l?"Successfully adding new food!":d?"Successfully editting food!":"Successfully deleting food!"),e.next=9,Ke();case 9:ee.a.assign(t,{foodList:[void 0]}),r({foodList:[]}),e.next=14;break;case 13:alert(l?"Failed to add new food: ":d?"Failed to edit food: ":"Failed to delete food: ",a.message);case 14:setTimeout((function(){r(t)}),200);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!e||0===(null===e||void 0===e?void 0:e.length)||!e[0]||!!ee.a.find(e,(function(e){return!e||!e.name||!e.price||!e.title||!e.quantityType||!e.image&&!a}))}(s,m);return Object(ne.jsxs)("div",{className:Z()("handle-change-food",i),children:[Object(ne.jsx)("div",{className:"handle-change-food-add-food",children:ee.a.map(s,(function(e,a){return Object(ne.jsx)(Yn,{index:a,data:e,onChangeFood:p,onDeleteFood:b,className:"animation-fadein-1s",type:o},a)}))}),Object(ne.jsxs)("div",{className:"handle-change-food-add-btns",children:[Object(ne.jsx)(oe.a,{type:"dashed",onClick:function(){s.push(void 0),r({foodList:s})},disabled:h||c,children:l?"New food":"Other food"}),Object(ne.jsx)(oe.a,{type:"primary",disabled:h,onClick:j,loading:c,children:l?"Add food":d?"Edit food":"Delete food"})]}),c&&Object(ne.jsx)(Ia,{})]})});nr.defaultProps={className:"",type:"ADD"};var rr=nr,sr=(t(359),nn.a.TabPane),cr="ADD_FOOD",ir="EDIT_FOOD",or="DELETE_FOOD",lr="FOOD_ORDER",dr="USER_PROFILE",ur=function(e){var a=Object(K.g)(),t=ae({activeTab:dr}),r=Object(Q.a)(t,2),s=r[0],c=r[1],i=e.className,o=s.activeTab,l="Admin"===E.a.getRole();Object(n.useEffect)((function(){E.a.isSuccess()||(a.push("/acestore"),console.log("logout"))}),[e.login]);return Object(ne.jsxs)("div",{className:Z()("user",i),children:[Object(ne.jsx)(Sa,{}),Object(ne.jsx)("div",{className:"user-body",children:Object(ne.jsxs)(nn.a,{activeKey:o,tabPosition:"top",onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c({activeTab:e})},className:"mt-12",children:[Object(ne.jsx)(sr,{tab:Object(ne.jsx)("div",{className:"user-body-title",children:"User profile"}),children:Object(ne.jsx)(Mn,{className:"user-body-profile"})},dr),l&&Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(sr,{tab:Object(ne.jsx)("div",{className:"user-body-title",children:"Add food"}),children:Object(ne.jsx)(rr,{})},cr),Object(ne.jsx)(sr,{tab:Object(ne.jsx)("div",{className:"user-body-title",children:"Edit food"}),children:Object(ne.jsx)(rr,{type:"EDIT"})},ir),Object(ne.jsx)(sr,{tab:Object(ne.jsx)("div",{className:"user-body-title",children:"Delete food"}),children:Object(ne.jsx)(rr,{type:"DELETE"})},or),Object(ne.jsx)(sr,{tab:Object(ne.jsx)("div",{className:"user-body-title",children:"Food orders"}),children:Object(ne.jsx)(Dt,{isAll:!0})},lr)]})]})})]})};ur.defaultProps={className:""};var mr=Object(c.b)((function(e){return{login:e.login}}),{})(ur),fr=function(e){Object(n.useEffect)((function(){window.onbeforeunload=function(){},window.onload=function(){e.reloadPageRequest()}}),[]);var a,t,r,s=Object(n.useCallback)((function(){alert(C),E.a.logout(),e.logoutRequest()}),[]);return a=w.LOGOUT_REQUEST,t=s,r=[],Object(n.useEffect)((function(){if(a&&t){var e=k.addListener(a,t);return function(){e.remove()}}}),[a].concat(Object(X.a)(r))),Object(ne.jsx)("main",{className:"div-root",children:Object(ne.jsxs)(H.a,{children:[Object(ne.jsx)(se,{}),Object(ne.jsxs)(K.d,{children:[Object(ne.jsx)(K.b,{exact:!0,path:"/acestore",name:"Home",component:tn}),Object(ne.jsx)(K.b,{exact:!0,path:"/history",name:"Home",component:Tt}),Object(ne.jsx)(K.b,{exact:!0,path:"/user",name:"Home",component:mr}),Object(ne.jsx)(K.b,{exact:!0,path:"/food-order",name:"Food Order",component:Za}),Object(ne.jsx)(K.a,{path:"/",to:{pathname:"/acestore"}}),Object(ne.jsx)(K.a,{path:"*",to:{pathname:"/acestore"}})]})]})})};fr.defaultProps={};var pr={reloadPageRequest:function(){return{type:w.RELOAD_PAGE_REQUEST}},logoutRequest:ce},br=Object(c.b)((function(e){return{isLoading:e.isLoading,logoutRequest:Y.a.func.isRequired}}),pr)(fr),jr=(t(360),t(361),function(e){Object(V.a)(t,e);var a=Object($.a)(t);function t(){return Object(U.a)(this,t),a.apply(this,arguments)}return Object(B.a)(t,[{key:"render",value:function(){return Object(ne.jsx)(br,{})}}]),t}(n.Component)),hr=jr,vr=t(101),Or=t(219),gr={loading:{},login:{},bookings:[],checkins:[],foodMasterData:[]},xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr.login,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case w.LOGIN_COMPLETE:return a.data;case w.LOGOUT_COMPLETE:return a;default:return e}},Nr=Object(vr.b)({login:xr});var yr=function(e,a){return a.type===w.LOGOUT_REQUEST?(console.log("heare"),E.a.logout(),gr):Nr(e,a)},wr=t(119),Cr=f.a.mark(kr),Er=f.a.mark(Sr);function kr(){var e,a,t,n;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=!0;case 1:if(!e){r.next=12;break}return r.next=4,Object(wr.c)(w.LOGIN_REQUEST);case 4:return a=r.sent,t=a.data,n={isSuccess:!0,user:ee.a.cloneDeep(t.user),token:t.token},E.a.login(n),r.next=10,Object(wr.b)({type:w.LOGIN_COMPLETE,data:n});case 10:r.next=1;break;case 12:case"end":return r.stop()}}),Cr)}function Sr(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wr.a)(kr);case 2:case"end":return e.stop()}}),Er)}var Dr=f.a.mark(Pr);function Pr(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wr.a)(Sr);case 2:case"end":return e.stop()}}),Dr)}var Tr=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(a){return}}(),Fr=function(){var e=Object(Or.a)();return Object(d.a)(Object(d.a)({},Object(vr.d)(yr,Tr,Object(vr.a)(e))),{},{runSaga:e.run(Pr)})}();i.sessionService.initSessionService(Fr),s.a.render(Object(ne.jsx)(c.a,{store:Fr,children:Object(ne.jsx)(l.a,{client:M,children:Object(ne.jsx)(hr,{})})}),document.getElementById("root")),o()}},[[362,1,2]]]);
//# sourceMappingURL=main.4bbc3a38.chunk.js.map