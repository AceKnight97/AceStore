(this.webpackJsonpacestore=this.webpackJsonpacestore||[]).push([[0],{212:function(e,a,t){},217:function(e,a,t){},23:function(e,a,t){"use strict";(function(e){var t=e.window.localStorage,n={login:function(e){console.log("login data: ",e);var a=e.user,n=e.isSuccess,r=e.token;t.isSuccess=n,t.token=r,t.user=JSON.stringify(a),t.role=a.role},getRole:function(){return t.role},setMenu:function(e){t.menu=JSON.stringify(e)},getMenu:function(){return t.menu&&"undefined"!==t.menu?JSON.parse(t.menu):[]},setKindOfFood:function(e){t.kindOfFood=JSON.stringify(e)},getKindOfFood:function(){return t.kindOfFood&&"undefined"!==t.kindOfFood?JSON.parse(t.kindOfFood):[]},getToken:function(){return t.token},setFoodData:function(e){t.foodData=JSON.stringify(e)},getFoodData:function(){return t.foodData&&"undefined"!==t.foodData?JSON.parse(t.foodData):[]},setMasterData:function(e){t.masterData=JSON.stringify(e)},getMasterData:function(){return t.masterData&&"undefined"!==t.masterData?JSON.parse(t.masterData):[]},setDatalogin:function(e){t.login=JSON.stringify(e)},getDataLogin:function(){return t.login&&"undefined"!==t.login?JSON.parse(t.login):{}},isSuccess:function(){return t.isSuccess},userId:function(){return t.userId},username:function(){return t.userName},role:function(){return t.role},logout:function(){t.clear()}};a.a=n}).call(this,t(87))},303:function(e,a,t){},314:function(e,a,t){},315:function(e,a,t){},316:function(e,a,t){},317:function(e,a,t){},318:function(e,a,t){},319:function(e,a,t){},320:function(e,a,t){},321:function(e,a,t){},322:function(e,a,t){},323:function(e,a,t){},324:function(e,a,t){},325:function(e,a,t){},326:function(e,a,t){},327:function(e,a,t){},328:function(e,a,t){},329:function(e,a,t){},330:function(e,a,t){},331:function(e,a,t){},332:function(e,a,t){},334:function(e,a,t){},335:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t(33),s=t.n(r),c=t(66),i=t(173),o=t(174),l=t(175),d=t(192),u=t(187),m=t(64),j=t(38),f=t(25),b=t(5),h=t.n(b),p=t(12),v=t.n(p),O=(t(212),t(36)),x=function(e){var a=Object(n.useState)(e),t=Object(f.a)(a,2),r=t[0],s=t[1];return[r,function(e){return s((function(a){var t=v.a.assign(a,e);return Object(O.a)({},t)}))}]},g=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,r=Object(n.useRef)(!0);Object(n.useEffect)((function(){return r.current?r.current=!1:e(),t}),a)},N=t.p+"static/media/bosch-logo-new-flat.e412f7ba.png",y=t(83),C=t(1),w=function(e){var a=Object(j.h)(),t=Object(j.g)(),r=a.pathname,s=x({}),c=Object(f.a)(s,2),i=(c[0],c[1],e.className);Object(n.useEffect)((function(){}),[]);var o=function(e){t.push("/acestore")};return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:h()("supergraphic",i)}),Object(C.jsxs)("div",{className:"bosch-header",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("img",{src:N,alt:"Bosch ic",className:"bosch-header-logo"}),function(){var e="";switch(r){case"/food-order":e="Food Order";break;case"/history":e="Order History";break;case"/user":e="User"}return Object(C.jsxs)("div",{className:"bosch-header-title",children:[Object(C.jsx)(m.b,{to:"/acestore",onClick:o,children:"Home"}),e?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(y.a,{}),Object(C.jsx)("span",{children:e})]}):null]})}()]}),Object(C.jsx)("div",{className:"bosch-header-group",children:"Canteen - Group 4"})]}),"/acestore"!==r&&Object(C.jsx)(m.b,{to:"/acestore",className:"not-home-back-btn",children:"Go back"})]})};w.defaultProps={className:""};var k=w,E={LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_COMPLETE:"LOGIN_COMPLETE",GET_ALL_DATA_REQUEST:"GET_ALL_DATA_REQUEST",GET_ALL_DATA_COMPLETE:"GET_ALL_DATA_COMPLETE",RELOAD_PAGE_REQUEST:"RELOAD_PAGE_REQUEST",LOGOUT_REQUEST:"LOGOUT_REQUEST",LOGOUT_COMPLETE:"LOGOUT_COMPLETE"},D="http://localhost:8080";var S=t(9),T=t.n(S),P=t(18),R=t(32),F=t(44),L=t(23);t(217);var M=t(341),I=t(56),A=function(e){var a;return Object(C.jsxs)("div",{className:h()("modal-header-wrapper",e.className),children:[Object(C.jsx)("div",{className:"modal-header-title",children:Object(C.jsx)("span",{children:e.title})}),Object(C.jsx)(F.a,(a={ghost:!0,onClick:e.onClick,className:e.btnClassName,disabled:e.loading},Object(R.a)(a,"className","modal-header-close-btn"),Object(R.a)(a,"children",e.btnTitle||Object(C.jsx)(I.a,{})),a))]})};A.defaultProps={className:void 0,btnClassName:void 0,btnTitle:"",loading:!1,onClick:function(){}};var q=A,U=function(e){return Object(C.jsxs)("div",{className:h()("modal-footer-wrapper",e.className),children:[e.dangerTitle?Object(C.jsx)(F.a,{danger:!0,className:e.dangerTitle,onClick:e.onClickDanger,disabled:e.loading,children:e.dangerTitle}):Object(C.jsx)("div",{}),Object(C.jsxs)("div",{className:"modal-footer-buttons",children:[Object(C.jsx)(F.a,{className:e.leftBtnClassName,onClick:e.onClickLeftBtn,disabled:e.loading,children:e.leftTitle}),Object(C.jsx)(F.a,{type:"primary",onClick:e.onClickRightBtn,disabled:e.disabled,loading:e.loading,children:e.rightTitle})]})]})};U.defaultProps={className:void 0,disabled:!1,loading:!1,leftBtnClassName:"mr8",dangerTitle:"",onClickDanger:function(){}};var B=U,H=t(340),G=t(343),K=t(195),V=t(177),Y=function(e){var a=e.className,t=e.title;return t?Object(C.jsx)("div",{className:h()("input-title-wrapper",a),children:Object(C.jsx)("span",{children:t})}):null};Y.defaultProps={className:"",title:""};var Q=Y,J=t(337),W=t(151),Z=t(26),X=t.n(Z),z=function(e){var a,t=e.className,n=e.title,r=e.placeholder,s=e.format,c=e.value,i=e.name,o=e.suffixIcon,l=e.type,d=e.disabledDate,u=e.disabled,m=function(a){e.onChange(i,a)};switch(d){case"PAST":a=function(e){return e>X()().endOf("day")};break;case"FUTURE":a=function(e){return e<=X()().endOf("day")}}return Object(C.jsxs)("div",{className:h()("datepicker-ct-wrapper",t),children:[Object(C.jsx)(Q,{title:n}),"TIME"===l?Object(C.jsx)(J.a,{disabled:u,getPopupContainer:function(e){return e.parentElement},suffixIcon:o,placeholder:r,onChange:m,format:s,value:"string"===typeof c&&X()(c).isValid()?X()(c):c||void 0,disabledDate:a}):Object(C.jsx)(W.a,{disabled:u,getPopupContainer:function(e){return e.parentElement},suffixIcon:o,placeholder:r,onChange:m,format:s,value:"string"===typeof c&&X()(c).isValid()?X()(c):c||void 0,disabledDate:a})]})};z.defaultProps={className:void 0,format:"MM/DD/YYYY",title:"",placeholder:"Select date",onChange:function(){},value:void 0,name:"",disabledDate:void 0,suffixIcon:void 0,type:"DATE",disabled:!1};var $=z,ee=function(e){var a=e.className,t=e.type,n=e.rows,r=e.placeholder,s=e.title,c=e.disabled,i=e.value,o=e.inputClassName,l=e.maxLength,d=e.prefix,u=e.mask,m=e.format,j=e.decimalScale,f=e.name,b=(e.allowedDecimalSeparators,e.allowLeadingZeros,e.thousandSeparator,e.data,e.mode,e.unitValue,e.onChangeUnit,e.disabledDate),p=e.suffix,v=e.autoComplete,O=(e.supName,e.errMes),x=e.errMesClassName,g=e.absSuffix,N=e.allowNegative,y=(e.isValueOutside,e.isSearchable,e.loadOptions,e.options,e.clearOptions,e.onInputChange,e.titleClassName),w=function(a){e.onChange(f,a.target.value)};return Object(C.jsxs)("div",{className:h()("input-ct-wrapper",a),children:[Object(C.jsx)(Q,{title:s,className:y}),"TEXTAREA"===t?Object(C.jsx)(H.a.TextArea,{value:i,disabled:c,placeholder:r,rows:n,onChange:w}):null,"NUMBER"===t?Object(C.jsx)(V.a,{mask:u,format:m,value:i,className:h()("basic-number-format",o,O?"err-border":""),disabled:c,onValueChange:function(a){var t=a.value;e.onChange(f,t)},placeholder:r,maxLength:l,decimalScale:j,prefix:d,suffix:p,allowNegative:N}):null,"DATE"===t?Object(C.jsx)($,{name:f,placeholder:r,value:i,onChange:e.onChange,disabledDate:b,suffixIcon:p}):null,"text"===t?Object(C.jsx)(H.a,{className:O?"err-border":"",value:i,disabled:c,placeholder:r,onChange:w,prefix:d,suffix:p}):null,"PASSWORD"===t?Object(C.jsx)(H.a.Password,{className:O?"err-border":"",value:i,disabled:c,placeholder:r,onChange:w,iconRender:function(e){return e?Object(C.jsx)(G.a,{}):Object(C.jsx)(K.a,{})},autoComplete:v}):null,O?Object(C.jsx)("div",{className:h()("div-incorrect-mes",x),children:Object(C.jsx)("span",{children:O})}):null,g&&Object(C.jsx)("div",{className:"abs-suffix-ct",children:Object(C.jsx)("span",{children:g})})]})};ee.defaultProps={className:void 0,titleClassName:"",rows:4,type:"text",title:"",placeholder:"Enter...",onChange:function(){},onChangeUnit:function(){},disabled:!1,value:void 0,inputClassName:"",maxLength:20,allowedDecimalSeparators:void 0,decimalScale:void 0,allowLeadingZeros:!1,thousandSeparator:!1,prefix:void 0,suffix:void 0,mask:void 0,format:void 0,name:"",supName:"",data:[],mode:void 0,unitValue:"",disabledDate:void 0,autoComplete:"",errMes:"",errMesClassName:"",absSuffix:"",allowNegative:!1,isValueOutside:!1,isSearchable:!1,loadOptions:function(){},options:[],clearOptions:function(){},onInputChange:function(){}};var ae=ee,te=t(40),ne=t.n(te),re=function(){var e=Object(P.a)(T.a.mark((function e(a){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.a.post("".concat(D,"/api/public/login"),a);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),se=re,ce=(t(188),t(194),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(String(e.trim()).toLowerCase())}),ie=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n,r=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:{},t=a.email,n=a.password,e.next=4,se({email:t,password:n});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.email,t=e.password;return ce(a)?t.length<6?{passwordErr:"Incorrect password"}:{isSuccess:!0}:{emailErr:"Incorrect email"}},le=function(e){var a=x({email:"",password:"",emailErr:"",passwordErr:"",loading:!1}),t=Object(f.a)(a,2),r=t[0],s=t[1],c=e.className,i=e.visible,o=e.onClickCancel,l=r.email,d=r.password,u=r.emailErr,m=r.passwordErr,j=r.loading;Object(n.useEffect)((function(){}),[]);var b=function(e,a){var t;s((t={},Object(R.a)(t,e,a),Object(R.a)(t,"emailErr",""),Object(R.a)(t,"passwordErr",""),t))},p=function(){var a=Object(P.a)(T.a.mark((function a(){var t,n;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t=oe(r)).isSuccess){a.next=10;break}return s({loading:!0}),a.next=5,ie(r);case 5:(n=a.sent).isSuccess?(L.a.setDatalogin(n.data.user),e.loginRequest(n.data),o()):alert("Login failed "+n.message),s({loading:!1}),a.next=11;break;case 10:s(t);case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(C.jsx)(M.a,{className:"login-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(C.jsxs)("div",{className:h()("stop-health-care-modal-wrapper",c),children:[Object(C.jsx)(q,{title:"Login",onClick:o}),Object(C.jsxs)("div",{className:"login-modal-main",children:[Object(C.jsx)(ae,{title:"Email",name:"email",value:l,onChange:b,placeholder:"Enter your email",errMes:u}),Object(C.jsx)(ae,{title:"Password",name:"password",value:d,onChange:b,placeholder:"Enter your email",type:"PASSWORD",className:"mt-16",errMes:m})]}),Object(C.jsx)(B,{disabled:!l||!d,leftTitle:"Cancel",rightTitle:"Login",onClickLeftBtn:o,onClickRightBtn:p,loading:j})]})})};le.defaultProps={className:"",visible:!1,onClickCancel:function(){},loginRequest:function(){}};var de=le,ue=t(69),me=t.n(ue),je=function(){var e=Object(P.a)(T.a.mark((function e(a){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.a.post("".concat(D,"/api/user/createuser"),a);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),fe=je,be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.email,t=e.password,n=e.confirmPassword,r=(e.username,e.phone),s=(e.address,e.notes,e.loading,e.isStep1);return s?t.length<6?{passwordErr:"Password must have 6 or more characters"}:t!==n?{confirmPasswordErr:"Confirm password is not match"}:ce(a)?{isStep1:!1}:{emailErr:"Incorrect email format"}:r.length<9?{}:{finish:!0}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.email,t=e.password,n=e.confirmPassword,r=e.username,s=e.phone,c=e.address,i=e.notes,o=(e.loading,e.isStep1);if(o){if(!a||!t||!n)return!0}else if(!r||!s||!c||!i)return!0;return!1},pe=function(){var e=Object(P.a)(T.a.mark((function e(a){var t,n,r,s,c,i,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({data:a}),t=a.email,n=a.username,r=a.password,s=a.phone,c=a.address,i=a.notes,e.next=4,fe({email:t,username:n,password:r,phone:s,address:c,notes:i});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ve={email:"",password:"",confirmPassword:"",username:"",phone:"",address:"",notes:"",emailErr:"",passwordErr:"",confirmPasswordErr:"",usernameErr:"",phoneErr:"",addressErr:"",notesErr:"",loading:!1,isStep1:!0},Oe=function(e){var a=x(Object(O.a)({},ve)),t=Object(f.a)(a,2),r=t[0],s=t[1],c=e.className,i=e.visible,o=e.onClickCancel,l=r.email,d=r.password,u=r.confirmPassword,m=r.username,j=r.phone,b=r.address,p=(r.notes,r.emailErr),g=r.passwordErr,N=r.confirmPasswordErr,y=r.usernameErr,w=r.phoneErr,k=r.addressErr,E=(r.notesErr,r.loading),D=r.isStep1;Object(n.useEffect)((function(){i||s(Object(O.a)({},ve))}),[i]);var S=function(e,a){var t=Object(R.a)({},e,a);D?(v.a.assign(t,{emailErr:"",passwordErr:"",confirmPasswordErr:""}),s(t)):(v.a.assign(t,{usernameErr:"",phoneErr:"",addressErr:"",notesErr:""}),s(t))},F=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=be(r)).finish){e.next=12;break}return t={loading:!1},s({loading:!0}),e.next=6,pe(r);case 6:n=e.sent,console.log({resFinish:n}),n.isSuccess?(alert("Successfully creating user!"),o()):alert("Failed to create user: "+n.message),s(t),e.next=13;break;case 12:s(a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(M.a,{className:"register-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(C.jsxs)("div",{className:h()("register-modal-wrapper",c),children:[Object(C.jsx)(q,{title:"Register step ".concat(D?"1":"2","/2"),onClick:o}),Object(C.jsx)("div",{className:"register-modal-main",children:D?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ae,{title:"Email",name:"email",value:l,onChange:S,placeholder:"Enter your email",errMes:p}),Object(C.jsx)(ae,{title:"Password",name:"password",value:d,onChange:S,placeholder:"Enter your email",type:"PASSWORD",className:"mt-16",errMes:g}),Object(C.jsx)(ae,{title:"Confirm password",name:"confirmPassword",value:u,onChange:S,placeholder:"Enter your confirm password",type:"PASSWORD",className:"mt-16",errMes:N})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ae,{title:"Username",name:"username",value:m,onChange:S,placeholder:"Enter your username",errMes:y}),Object(C.jsx)(ae,{title:"Phone number",name:"phone",value:j,onChange:S,placeholder:"Enter your phone number",className:"mt-16",type:"NUMBER",errMes:w}),Object(C.jsx)(ae,{title:"Address",name:"address",value:b,onChange:S,placeholder:"Enter your address",className:"mt-16",errMes:k})]})}),Object(C.jsx)(B,{disabled:he(r),leftTitle:D?"Cancel":"Back to step 1",rightTitle:D?"Next":"Finish",onClickLeftBtn:D?o:function(){s({isStep1:!0})},onClickRightBtn:F,loading:E})]})})};Oe.defaultProps={className:"",visible:!1,onClickCancel:function(){}};var xe=Oe,ge=function(e){var a=Object(j.g)(),t=Object(j.h)(),r=x({visibleLogin:!1,visibleRegister:!1}),s=Object(f.a)(r,2),c=s[0],i=s[1],o=e.className,l=c.visibleLogin,d=c.visibleRegister,u=function(){i({visibleLogin:!l})},m=function(){i({visibleRegister:!d})},b=L.a.getDataLogin(),p=b.isVerify,O=void 0===p||p,g=b.username;return Object(n.useEffect)((function(){v.a.isEmpty(e.login)&&v.a.isEmpty(L.a.getDataLogin())&&(console.log("No current user"),i({}))}),[e.login]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:h()("home-header",o),children:Object(C.jsx)("div",{className:"home-header-btns",children:g?Object(C.jsxs)(C.Fragment,{children:[!O&&Object(C.jsx)(F.a,{type:"link",onClick:function(){},className:"home-header-active-account-btn",children:"Activate account"}),Object(C.jsx)(F.a,{type:"link",onClick:function(){"/user"!==t.pathname&&a.push("/user")},className:"home-header-username-btn",children:g}),Object(C.jsx)(F.a,{type:"link",onClick:function(){"/history"!==t.pathname&&a.push("/history")},className:"home-header-username-btn",children:"History"}),Object(C.jsx)(F.a,{type:"link",onClick:function(){L.a.logout(),e.logoutRequest(),a.push("/acestore"),i({})},className:"home-header-logout-btn",children:"Logout"})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(F.a,{type:"link",onClick:u,className:"home-header-login-btn",children:"Login"}),Object(C.jsx)(F.a,{type:"link",onClick:m,className:"home-header-register-btn",children:"Register"})]})})}),Object(C.jsx)(de,{visible:l,onClickCancel:u,loginRequest:e.loginRequest}),Object(C.jsx)(xe,{visible:d,onClickCancel:m})]})};ge.defaultProps={className:""};var Ne={loginRequest:function(e){return{type:E.LOGIN_REQUEST,data:e}},logoutRequest:function(e){return{type:E.LOGOUT_REQUEST,data:e}}},ye=Object(c.b)((function(e){return{login:e.login}}),Ne)(ge),Ce=t(338),we=(t(303),function(e){Object(n.useEffect)((function(){}),[]);var a=e.loading,t=e.columns,r=e.className,s=e.rowKey,c=(e.name,e.totalData),i=e.onRowClick;return Object(C.jsx)(Ce.a,{rowKey:s,className:h()(r,"antd-table"),dataSource:c,onRow:function(e,a){return{onClick:function(t){i(a,e)}}},pagination:!1,columns:t,loading:a})});we.defaultProps={name:"",className:void 0,onRowClick:function(){},shouldHideNextButton:!1,fetchData:function(){},loading:!1,sorter:{},shouldShowAllData:!1,handleChangePage:function(){},isNoPagination:!1,page:1,sticky:!1};var ke=we,Ee=function(){var e=Object(P.a)(T.a.mark((function e(a){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.a.post("".concat(D,"/api/foodorder/createanycustomerorder"),a);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),De=Ee,Se=function(){var e=Object(P.a)(T.a.mark((function e(a){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.a.post("".concat(D,"/api/foodorder/createorder"),a);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),Te=Se,Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[],t=1;return _.forEach(e,(function(e){_.forEach(e.data||[],(function(e){e.isBuy&&(a.push(Object(O.a)(Object(O.a)({},e),{},{index:t})),t+=1)}))})),a},Re=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n,r,s=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:[],t=s.length>1&&void 0!==s[1]?s[1]:"",n=s.length>2&&void 0!==s[2]?s[2]:"",r=a.map((function(e){return{food_id:e.id,quantity:parseFloat(e.quantity.slice(0,3)),email:t,notes:n,status:"Pending"}})),e.next=6,Te(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n,r,s,c,i,o,l,d=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:[],t=d.length>1&&void 0!==d[1]?d[1]:{},n=t.email,r=t.username,s=t.address,c=t.phone,i=t.notes,o=a.map((function(e){return{food_id:e.id,quantity:parseFloat(e.quantity.slice(0,3)),email:n,notes:i,status:"Pending"}})),l={food:o,customer:{email:n,username:r,address:s,phone:c,password:c}},console.log({foodData:a,anyCustomerData:t,sendingData:l}),e.next=9,De(l);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le="WEIGHT",Me="PACKAGE",Ie=["0.5 Kg","1.0 Kg","1.5 Kg","2.0 Kg","2.5 Kg","3.0 Kg","3.5 Kg","4.0 Kg"],_e=["1 pc","2 pcs","3 psc","4 psc"],Ae=["Kg","Package/Dish"],qe=["Pending","On Going","Done","Cancel"],Ue=[0,1e5,2e5,5e5,1e6,2e6,5e6],Be=function(){var e=Object(P.a)(T.a.mark((function e(){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.a.get("".concat(D,"/api/canteen/menu"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),He=Be,Ge=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He();case 3:return a=e.sent,L.a.setMenu(a),t=[],n=[],r=v.a.groupBy(a,(function(e){return e.title})),Object.keys(r).forEach((function(e){t.push(e),n.push({title:e,data:r[e]})})),L.a.setKindOfFood(t),e.abrupt("return",n);case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0,t=[];return v.a.forEach(e,(function(e){a+=v.a.sumBy(e.data,(function(e){if(e.isBuy){if(e.quantityType===Le){var a=e.quantity.slice(0,3);return t.push("".concat(e.name," (").concat(e.price," * ").concat(a,")")),parseFloat(a)*e.price}var n=e.quantity.slice(0,1);return t.push("".concat(e.name," (").concat(e.price," * ").concat(n,")")),parseInt(n,10)*e.price}return 0}))})),{total:a,cartTags:t}},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.searchName,n=e.rating,r=e.kind,s=e.minPrice,c=e.maxPrice;console.log({searchName:t,rating:n,kind:r,minPrice:s,maxPrice:c});var i=v.a.cloneDeep(a);return v.a.forEach(i,(function(e){e.data=v.a.filter(e.data,(function(e){var a,i=!0;(r&&(i=e.title===r),v.a.isNil(n)||v.a.isNil(e.rating)||(i=i&&e.rating>=n),t)&&(i=i&&(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase())));return v.a.isNil(s)||(i=i&&e.price>=s),v.a.isNil(c)||(i=i&&e.price<=c),i}))})),i},Ye=t(183),Qe=t.n(Ye),Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"VND",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Price:",n="";if("VND"===a)n=Qe.a.format(e,{code:"VND"});return"".concat(t," ").concat(n)},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0;return _.forEach(e,(function(e){a+=e.price*e.quantity})),Je(a,void 0,"")},Ze=(t(314),{email:"",username:"",phone:"",address:"",notes:"",emailErr:"",usernameErr:"",phoneErr:"",addressErr:"",loading:!1,isConfirm:!1}),Xe=function(e){var a=x(Object(O.a)({},Ze)),t=Object(f.a)(a,2),r=t[0],s=t[1];Object(n.useEffect)((function(){i||s(Object(O.a)({},Ze))}),[e.visible]);var c=e.className,i=e.visible,o=e.onClickCancel,l=e.onClick,d=r.email,u=r.username,m=r.emailErr,j=r.usernameErr,b=r.loading,p=r.phone,v=r.address,g=r.notes,N=r.phoneErr,y=r.addressErr,w=r.isConfirm,k=function(e,a){var t;s((t={},Object(R.a)(t,e,a),Object(R.a)(t,"emailErr",""),Object(R.a)(t,"usernameErr",""),t))},E=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w?l(r):s({isConfirm:!0});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({isConfirm:!1});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(M.a,{className:"any-customer-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(C.jsxs)("div",{className:h()("any-customer-modal-wrapper",c),children:[Object(C.jsx)(q,{title:"Customer info",onClick:o}),w?Object(C.jsxs)("div",{className:"any-customer-modal-main",children:[Object(C.jsx)("div",{className:"font-20 b",children:"Your information:"}),Object(C.jsxs)("div",{className:"fr-sb mt-16",children:[Object(C.jsx)("span",{className:"b",children:"Email:"}),Object(C.jsx)("span",{className:"ml-4",children:d})]}),Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsx)("span",{className:"b",children:"Username:"}),Object(C.jsx)("span",{className:"ml-4",children:u})]}),Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsx)("span",{className:"b",children:"Delivery:"}),Object(C.jsx)("span",{className:"ml-4",children:v})]}),Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsx)("span",{className:"b",children:"Phone number:"}),Object(C.jsx)("span",{className:"ml-4",children:p})]}),Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsx)("span",{className:"b",children:"Notes:"}),Object(C.jsx)("span",{className:"ml-4",children:g})]}),Object(C.jsx)("div",{className:"fcen mt-16 b",children:"Do you want to order now?"})]}):Object(C.jsxs)("div",{className:"any-customer-modal-main",children:[Object(C.jsx)(ae,{title:"Email",name:"email",value:d,onChange:k,placeholder:"Enter your email",errMes:m}),Object(C.jsx)(ae,{title:"Username",name:"username",value:u,onChange:k,placeholder:"Enter your username",className:"mt-16",errMes:j}),Object(C.jsx)(ae,{title:"Address",name:"address",value:v,onChange:k,placeholder:"Enter your address",className:"mt-16",errMes:y}),Object(C.jsx)(ae,{title:"Phone number",name:"phone",value:p,onChange:k,placeholder:"Enter your phone number",className:"mt-16",errMes:N,type:"NUMBER"}),Object(C.jsx)(ae,{title:"Notes",name:"notes",value:g,onChange:k,placeholder:"Enter your notes",className:"mt-16",type:"TEXTAREA"})]}),Object(C.jsx)(B,{disabled:!d||!u||!v||!p,leftTitle:w?"Back":"Cancel",rightTitle:w?"Yes":"Order",onClickLeftBtn:w?D:o,onClickRightBtn:E,loading:b})]})})};Xe.defaultProps={className:void 0,visible:!1,onClickCancel:function(){},onClick:function(){}};var ze=Xe,$e=function(e){var a=Object(j.h)(),t=Object(j.g)(),r=x({foodData:Pe(a.state),anyCustomerVisible:!1,notes:""}),s=Object(f.a)(r,2),c=s[0],i=s[1],o=e.className,l=c.foodData,d=c.anyCustomerVisible,u=c.notes;Object(n.useEffect)((function(){}),[]);var m=Ke(a.state).total,b=L.a.getDataLogin(),p=b.address,O=b.phone,g=b.email,N=function(){var e=Object(P.a)(T.a.mark((function e(){var a,n,r,s=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:{},i({loading:!0}),e.next=4,Fe(l,a);case 4:n=e.sent,r={loading:!1},n.isSuccess?(alert("Successfully creating order!"),L.a.setFoodData(void 0),v.a.assign(r,{anyCustomerVisible:!1}),setTimeout((function(){t.push("/acestore")}),300)):alert("Failed to create order: ",n.message),i(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(P.a)(T.a.mark((function e(){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p&&O&&g){e.next=3;break}return i({anyCustomerVisible:!0}),e.abrupt("return");case 3:return i({loading:!0}),e.next=6,Re(l,g,u);case 6:(a=e.sent).isSuccess?(alert("Successfully creating order!"),L.a.setFoodData(void 0),t.push("/acestore")):alert("Failed to create order: ",a.message),i({loading:!1});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:h()("food-order",o),children:[Object(C.jsx)(ye,{}),Object(C.jsxs)("div",{className:"food-order-body",children:[Object(C.jsxs)("div",{className:"food-order-body-toper",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b",children:"Payment Options:"}),Object(C.jsx)("span",{className:"ml-4",children:"Cash - When receiving"})]}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b",children:"Total:"}),Object(C.jsx)("span",{className:"ml-4",children:Je(m,void 0,"")})]})]}),Object(C.jsxs)("div",{className:"food-order-body-toper",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b",children:"Delivery:"}),Object(C.jsx)("span",{className:"ml-4",children:p})]}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b",children:"Contact at:"}),Object(C.jsx)("span",{className:"ml-4",children:O})]})]}),g&&Object(C.jsx)(ae,{titleClassName:"b",title:"Notes",name:"notes",value:u,onChange:function(e,a){i(Object(R.a)({},e,a))},placeholder:"Enter your notes",className:"mt-16",type:"TEXTAREA"}),Object(C.jsxs)("div",{className:"food-order-body-btns",children:[Object(C.jsx)(F.a,{onClick:function(){t.push("/acestore")},children:"Back"}),Object(C.jsx)(F.a,{type:"primary",onClick:y,children:"Confirm"})]}),Object(C.jsx)(ke,{className:"mt-48",rowKey:"id",totalData:l,columns:[{title:"No.",dataIndex:"index"},{title:"Name",dataIndex:"name"},{title:"Price",dataIndex:"price",render:function(e){return Je(e,void 0,"")}},{title:"Quantity",dataIndex:"quantity"}]})]}),Object(C.jsx)(ze,{visible:d,onClickCancel:function(){i({anyCustomerVisible:!d})},onClick:N})]})};$e.defaultProps={className:""};var ea=$e,aa=t(193),ta=(t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t(315),t.p+"static/media/star.4cc7b7cd.svg"),na=t.p+"static/media/star-inactive.7f719452.svg",ra=t(105),sa=(t(316),ra.a.Option),ca=function(e){var a=Object(n.useRef)(void 0),t=e.className,r=e.placeholder,s=e.data,c=e.title,i=e.showSearch,o=e.defaultValue,l=e.isValueOutside,d=e.value,u=e.mode,m=e.suffixIcon,j=e.name,f=e.disabled,b=e.isObject;return Object(C.jsxs)("div",{className:h()("select-ct-wrapper",t),children:[Object(C.jsx)(Q,{title:c}),Object(C.jsx)(ra.a,{getPopupContainer:function(e){return e.parentElement},disabled:f,ref:a,suffixIcon:m,mode:u,defaultValue:o,value:l?[]:b?(null===d||void 0===d?void 0:d.label)||void 0:d,showSearch:i,placeholder:r,optionFilterProp:"children",onChange:function(t){e.onChange(j,t),a.current.blur()},onSearch:i?function(a){e.onSearch(j,a)}:void 0,filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:b?v.a.map(s,(function(e,a){return Object(C.jsx)(sa,{value:e.label,children:e.label},a)})):v.a.map(s,(function(e,a){return Object(C.jsx)(sa,{value:e,children:e},a)}))})]},"select-ct-wrapper-".concat(e.name))};ca.defaultProps={className:void 0,title:"",placeholder:"Select...",data:[],onChange:function(){},onSearch:function(){},showSearch:!0,defaultValue:void 0,isValueOutside:!1,mode:void 0,value:[],suffixIcon:void 0,name:"",disabled:!1,isObject:!1};var ia=ca,oa=(t(317),function(e){var a=e.className,t=e.rating,n=e.onClick,r=e.isButton;return Object(C.jsx)("div",{className:h()("display-rating",a),children:r?Object(C.jsxs)(C.Fragment,{children:[v.a.map(v.a.range(t),(function(e,a){return Object(C.jsx)("button",{className:"bas-btn",onClick:function(){return n(a+1)},children:Object(C.jsx)("img",{src:ta,alt:"Star ic"})},e)})),v.a.map(v.a.range(5-t),(function(e,a){return Object(C.jsx)("button",{className:"bas-btn",onClick:function(){return n(t+a+1)},children:Object(C.jsx)("img",{src:na,alt:"Star inactive ic"})},e)}))]}):Object(C.jsxs)(C.Fragment,{children:[v.a.map(v.a.range(t),(function(e){return Object(C.jsx)("img",{src:ta,alt:"Star ic",className:"mr-2"},e)})),v.a.map(v.a.range(5-t),(function(e,a){return Object(C.jsx)("img",{src:na,alt:"Star ic",className:4-t!==e?"mr-2":""},a)}))]})})});oa.defaultProps={className:"",onClick:function(){},rating:1,isButton:!1};var la=oa,da=function(e){var a=Object(n.useRef)(void 0),t=x({searchName:"",rating:0,kind:void 0,minPrice:void 0,maxPrice:void 0}),r=Object(f.a)(t,2),s=r[0],c=r[1],i=e.className,o=e.onFilterFood,l=function(e,a){c(Object(R.a)({},e,a))},d=s.searchName,u=s.rating,m=s.kind,j=s.minPrice,b=s.maxPrice;return g((function(){a.current&&clearTimeout(a.current),a.current=setTimeout((function(){o(s)}),200)}),[d,u,m,j,b]),Object(C.jsxs)("div",{className:h()("filter-block",i),children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("div",{className:"filter-block-title",children:"Search:"}),Object(C.jsx)(ae,{name:"searchName",value:d,onChange:l,className:"filter-block-search"}),Object(C.jsx)("div",{className:"filter-block-star",children:"Stars:"}),Object(C.jsx)(la,{rating:u,isButton:!0,onClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e!==s.rating?c({rating:e}):c({rating:0})},className:"filter-block-star-dis"})]}),Object(C.jsxs)("div",{className:"filter-block-row",children:[Object(C.jsx)(ia,{name:"kind",value:m,onChange:l,className:"w-160",title:"Kind of food:",data:L.a.getKindOfFood()||[]}),Object(C.jsx)(ia,{name:"minPrice",value:j,onChange:l,title:"Min price:",className:"ml-48 w-160",type:"NUMBER",data:v.a.filter(Ue,(function(e){return!b||e<b}))}),Object(C.jsx)(ia,{name:"maxPrice",value:b,onChange:l,title:"Max price:",className:"ml-48 w-160",type:"NUMBER",data:v.a.filter(Ue,(function(e){return!j||e>j}))})]})]})};da.defaultProps={className:"",onFilterFood:function(){}};var ua=da,ma=(t(318),function(e){var a=e.visible,t=e.className,n=e.toggleClick,r=(e.loading,e.data),s=r.name,c=r.price,i=r.image,o=r.rating;return Object(C.jsx)(M.a,{className:"food-info-modal",visible:a,closable:!1,footer:null,destroyOnClose:!0,centered:!0,onCancel:n,children:Object(C.jsxs)("div",{className:h()("food-info-modal-wrapper",t),children:[Object(C.jsx)(q,{title:s,onClick:n}),Object(C.jsxs)("div",{className:"food-info-modal-main",children:[Object(C.jsx)("img",{src:i,alt:"Food card img"}),Object(C.jsxs)("div",{className:"fr-sb mt-16",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b",children:"Rating:"}),Object(C.jsx)(la,{rating:o,className:"ml-4"})]}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b",children:"Price:"}),Object(C.jsx)("span",{className:"ml-4",children:Je(c,void 0,"")})]})]})]})]})})});ma.defaultProps={className:"",data:{},loading:!1,visible:!1,toggleClick:function(){}};var ja=ma,fa=(t(319),function(e){var a=x({name:e.name,price:e.price,rating:e.rating,isBuy:e.isBuy,quantity:e.quantity||e.quantityType===Le?Ie[0]:_e[0],quantityType:e.quantityType,visibleFoodInfo:!1}),t=Object(f.a)(a,2),n=t[0],r=t[1],s=e.className,c=e.quantityType,i=e.image,o=e.unit,l=e.onChangeCart,d=n.name,u=n.price,m=n.rating,j=n.isBuy,b=n.quantity,p=n.visibleFoodInfo;g((function(){l(n)}),[j,b]),g((function(){r({isBuy:e.isBuy})}),[e.isBuy]);var v=function(){r({isBuy:!j})},O=function(){r({visibleFoodInfo:!p})};return e.title&&"null"!==e.title||console.log({rating:m}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:h()("food-card",j&&"food-card-active",s),children:[i?Object(C.jsx)("div",{className:"food-card-img",onClick:v,children:Object(C.jsx)("img",{src:i,alt:"Food card img",className:"food-card-img-dis"})}):Object(C.jsx)("div",{className:"food-card-img",onClick:v}),Object(C.jsxs)("div",{className:"food-card-info",children:[Object(C.jsx)("div",{className:"food-card-info-name",children:d}),Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsxs)("div",{className:"food-card-info-col",children:[Object(C.jsx)("div",{className:"food-card-info-col-price",children:Je(u,o)}),Object(C.jsx)(ia,{disabled:!j,name:"quantity",showSearch:!1,className:"mt-4",value:b,onChange:function(e,a){r(Object(R.a)({},e,a))},data:c===Le?Ie:_e})]}),Object(C.jsxs)("div",{className:"food-card-info-col",children:[Object(C.jsx)(la,{rating:m,className:"food-card-info-col-rating"}),Object(C.jsx)(F.a,{className:"mt-10",onClick:O,children:"More info"})]})]})]}),j&&Object(C.jsx)("div",{className:"food-card-isbuy",children:"Buy"})]}),Object(C.jsx)(ja,{visible:p,toggleClick:O,data:{name:d,rating:m,price:u,image:i}})]})});fa.defaultProps={className:"",name:"",price:0,rating:3,isBuy:!1,quantity:void 0,quantityType:Le,image:"",unit:"VND",onChangeCart:function(){}};var ba=fa,ha=function(e){var a=Object(n.useRef)(void 0),t=Object(n.useRef)(void 0),s=x({isShow:e.isShow}),c=Object(f.a)(s,2),i=c[0],o=c[1],l=e.className,d=e.data,u=e.title,m=e.onChangeCart,j=i.isShow;Object(n.useEffect)((function(){if(!j){var e=Object(r.findDOMNode)(a.current);me()(e).slideUp("slow")}}),[]);return Object(C.jsxs)("div",{className:h()("food-table",l),children:[Object(C.jsx)("div",{className:"food-table-title",children:Object(C.jsx)("span",{children:u})}),Object(C.jsx)("div",{ref:a,children:Object(C.jsx)("div",{className:"food-table-wrap",children:v.a.map(d,(function(e,a){return Object(C.jsx)(ba,Object(O.a)(Object(O.a)({},e),{},{onChangeCart:function(e){return m(e,u)},className:"mr-24 mt-24"}),a)}))})}),Object(C.jsx)("div",{className:"food-table-ender"}),Object(C.jsx)(F.a,{type:"link",onClick:function(){t.current&&clearTimeout(t.current),t.current=setTimeout((function(){var e=Object(r.findDOMNode)(a.current);e&&me()(e).slideToggle("slow"),o({isShow:!j})}),200)},className:"food-table-show-btn",children:j?"Hide":"Show"})]})};ha.defaultProps={className:"",data:[],title:"",onChangeCart:function(){},isShow:!1};var pa=ha,va=function(e){var a=e.className,t=e.total,n=e.onClickBuy,r=e.onClickReset;return Object(C.jsxs)("div",{className:h()("home-total",a),children:[Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsx)("div",{className:"home-total-title",children:"Total:"}),Object(C.jsx)(F.a,{type:"primary",danger:!0,onClick:r,disabled:!t,children:"Reset cart"})]}),Object(C.jsx)("div",{className:"home-total-price",children:Je(t,void 0,"")}),Object(C.jsx)(F.a,{block:!0,type:"primary",onClick:n,disabled:!t,children:"Buy now"})]})};va.defaultProps={className:"",total:0,onClickBuy:function(){},onClickReset:function(){}};var Oa=va,xa=(t(320),function(e){var a=e.className;return Object(C.jsx)("div",{className:h()("loading",a),children:Object(C.jsx)("div",{className:"loader-gif"})})});xa.defaultProps={className:""};var ga=xa,Na=function(e){var a=Object(j.g)(),t=x({name:"",phone:"",address:"",notes:"",foodData:0!==L.a.getFoodData().length?L.a.getFoodData():[],arrImages:[],loading:!0,rawFoodData:0!==L.a.getFoodData().length?L.a.getFoodData():[]}),r=Object(f.a)(t,2),s=r[0],c=r[1],i=function(){var e=Object(P.a)(T.a.mark((function e(){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge();case 3:a=e.sent,L.a.setMasterData(a),c({foodData:a,rawFoodData:a,loading:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c({loading:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){i()}),[]);var o=e.className,l=(s.name,s.phone,s.address,s.notes,s.foodData),d=s.loading,u=Ke(l),m=u.cartTags,b=u.total,p=function(){var e=v.a.cloneDeep(l);v.a.forEach(e,(function(e){v.a.forEach(e.data||[],(function(e){v.a.assign(e,{isBuy:!1})}))})),L.a.setFoodData(void 0),c({foodData:e})},g=function(){a.push({pathname:"/food-order",state:l}),L.a.setFoodData(l)},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=v.a.find(l,(function(e){return e.title===a})),n=t.data,r=v.a.find(n,(function(a){return a.name===e.name}));v.a.assign(r,Object(O.a)({},e)),c({foodData:l})},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c({foodData:[]}),setTimeout((function(){var a=Ve(e,s.rawFoodData);c({foodData:v.a.cloneDeep(a)})}),1)};return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:h()("home-body",o),children:[Object(C.jsxs)("div",{className:"home-body-toper",children:[Object(C.jsx)(ua,{onFilterFood:y}),Object(C.jsx)(Oa,{className:"home-body-toper-block-3",total:b,onClickReset:p,onClickBuy:g})]}),Object(C.jsxs)("div",{className:"home-body-main",children:[0!==m.length&&Object(C.jsxs)("div",{className:"home-body-cart-tag animation-fadein-2s",children:[Object(C.jsx)("div",{className:"home-body-cart-tag-title",children:Object(C.jsx)("span",{children:"Your cart:"})}),v.a.map(m,(function(e,a){return Object(C.jsx)(aa.a,{className:"home-body-cart-tag-item",color:"orange",children:e},a)}))]}),v.a.map(l,(function(e,a){return 0!==e.data.length&&e.title&&Object(C.jsx)(pa,{className:"animation-fadein-2s",title:e.title,data:e.data,onChangeCart:N,isShow:0===a},a)}))]})]}),d&&Object(C.jsx)(ga,{})]})};Na.defaultProps={className:""};var ya=Na,Ca=function(e){var a=e.className;return Object(C.jsxs)("div",{className:h()("home-footer",a),children:[Object(C.jsxs)("div",{className:"home-footer-contact",children:[Object(C.jsx)("div",{className:"b",children:"Contacts"}),Object(C.jsx)("div",{className:"mt-2",children:"tttriet1997@gmail.com"}),Object(C.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100015087697713",className:"mt-2 fs-16",target:"blank",children:"Facebook"})]}),Object(C.jsxs)("div",{className:"home-footer-address",children:[Object(C.jsx)("div",{className:"b",children:"Address"}),Object(C.jsx)("div",{className:"mt-2",children:"364 C\u1ed9ng H\xf2a, Ph\u01b0\u1eddng 13, T\xe2n B\xecnh, Th\xe0nh ph\u1ed1 H\u1ed3 Ch\xed Minh"}),Object(C.jsx)("div",{className:"mt-2",children:"(+84) 819 541 897 (Zalo)"})]}),Object(C.jsx)("div",{className:"home-footer-copyright",children:"\xa9 2021 - Bosch Canteen"})]})};Ca.defaultProps={className:""};var wa=Ca,ka=function(e){var a=e.className;return Object(C.jsxs)("div",{className:h()("home",a),children:[Object(C.jsx)(ye,{}),Object(C.jsx)(ya,{}),Object(C.jsx)(wa,{})]})};ka.defaultProps={className:""};var Ea=ka,Da=(t(321),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0;return _.forEach(e,(function(e){a+=e.price*e.quantity})),Je(a,void 0,"")}),Sa=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n,r=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:{},t=r.length>1&&void 0!==r[1]?r[1]:"",console.log({data:a}),n=_.map(a,(function(e){return{food_id:e.food_id,quantity:e.quantity,email:e.email,notes:t,status:"Pending"}})),console.log({sendingData:n}),e.next=7,Te(n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ta=t(344),Pa=(t(322),function(e){var a,t,n,r,s=e.visible,c=e.type,i=e.className,o=e.icon,l=e.children,d=e.toggleClick,u=e.onClick,m=e.loading;if("CLONE_ORDER"===c)a="Clone the order",t="Are you sure want to clone this order?",n="Cancel",r="Yes";return Object(C.jsx)(M.a,{className:"modal-send-report",visible:s,closable:!1,footer:null,destroyOnClose:!0,centered:!0,children:Object(C.jsxs)("div",{className:h()("confirm-modal",i),children:[Object(C.jsxs)("div",{className:"confirm-modal-body",children:[Object(C.jsxs)("div",{className:"cl-body-row",children:[o||Object(C.jsx)(Ta.a,{className:"row-icon"}),Object(C.jsx)("div",{className:"row-title",children:Object(C.jsx)("span",{children:a})})]}),t&&Object(C.jsx)("div",{className:"cl-body-content",children:Object(C.jsx)("span",{children:t})}),l]}),Object(C.jsx)("div",{className:"confirm-modal-footer",children:Object(C.jsxs)("div",{className:"cl-footer-buttons",children:[Object(C.jsx)(F.a,{className:"mr8",onClick:d,disabled:m,children:n}),Object(C.jsx)(F.a,{type:"primary",danger:!1,onClick:u,loading:m,children:r})]})})]})})});Pa.defaultProps={className:void 0,type:"CLONE_ORDER",loading:!1,icon:void 0,visible:!1,message:"",rightBtnTitle:"",children:null,toggleClick:function(){}};var Ra=Pa,Fa=function(e){var a=Object(n.useRef)(void 0),t=Object(n.useRef)(void 0),s=x({visibleCloneOrder:!1,isShow:e.isShow}),c=Object(f.a)(s,2),i=c[0],o=c[1],l=e.className,d=e.data,u=e.date,m=e.fetchHistory,j=e.notes,b=e.status,p=i.visibleCloneOrder,v=i.loading,O=i.isShow;Object(n.useEffect)((function(){if(!O){var e=Object(r.findDOMNode)(a.current);me()(e).slideUp("slow")}}),[]);var g=function(){o({visibleCloneOrder:!p})},N=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({loading:!0}),e.next=3,Sa(d,j);case 3:a=e.sent,t={loading:!1},a.isSuccess?(alert("Successfully cloning order!"),_.assign(t,{visibleCloneOrder:!1}),m()):alert("Failed to clone order: ",a.message),o(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:h()("history-table",l),children:[Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Date: "}),Object(C.jsx)("span",{children:X()(u).format("HH:mm, DD/MM/YY")})]}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Total: "}),Object(C.jsx)("span",{children:Da(d)})]}),Object(C.jsx)(F.a,{type:"link",onClick:function(){t.current&&clearTimeout(t.current),t.current=setTimeout((function(){var e=Object(r.findDOMNode)(a.current);e&&me()(e).slideToggle("slow"),o({isShow:!O})}),200)},children:O?"Hide":"Show"}),Object(C.jsx)(F.a,{type:"link",onClick:g,children:"Clone order"})]}),Object(C.jsxs)("div",{ref:a,children:[Object(C.jsxs)("div",{className:"fr mt-16",children:[Object(C.jsxs)("div",{className:"flex mr-64",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Status: "}),Object(C.jsx)("span",{children:b})]}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Notes: "}),Object(C.jsx)("span",{children:j})]})]}),Object(C.jsx)(ke,{className:"mt-16",rowKey:"index",totalData:d,columns:[{title:"No.",dataIndex:"index"},{title:"Name",dataIndex:"name"},{title:"Price",dataIndex:"price",render:function(e){return Je(e,void 0,"")}},{title:"Quantity",dataIndex:"quantity"}]})]}),Object(C.jsx)(Ra,{visible:p,toggleClick:g,onClick:N,type:"CLONE_ORDER",loading:v})]})};Fa.defaultProps={className:"",data:[],date:void 0,fetchHistory:function(){},status:"",notes:""};t(323),t(324);var La=function(e){var a=e.visible,t=e.className,n=e.toggleClick,r=(e.loading,e.data),s=r.username,c=r.email,i=r.address,o=r.phone;r.notes;return Object(C.jsx)(M.a,{className:"user-info-modal",visible:a,closable:!1,footer:null,destroyOnClose:!0,centered:!0,onCancel:n,children:Object(C.jsxs)("div",{className:h()("user-info-modal-wrapper",t),children:[Object(C.jsx)(q,{title:s,onClick:n}),Object(C.jsxs)("div",{className:"user-info-modal-main",children:[Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsx)("span",{className:"b",children:"Email:"}),Object(C.jsx)("span",{className:"ml-4",children:c})]}),Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsx)("span",{className:"b",children:"Username:"}),Object(C.jsx)("span",{className:"ml-4",children:s})]}),Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsx)("span",{className:"b",children:"Delivery:"}),Object(C.jsx)("span",{className:"ml-4",children:i})]}),Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsx)("span",{className:"b",children:"Phone number:"}),Object(C.jsx)("span",{className:"ml-4",children:o})]})]})]})})};La.defaultProps={className:"",data:{},loading:!1,visible:!1,toggleClick:function(){}};var Ma=La,Ia=(t(325),function(e){var a,t,s=Object(n.useRef)(void 0),c=Object(n.useRef)(void 0),i=x({visibleUserInfo:!1,isShow:e.isShow}),o=Object(f.a)(i,2),l=o[0],d=o[1],u=e.className,m=e.data,j=e.date,b=(e.fetchHistory,e.status),p=e.notes,v=l.visibleUserInfo,O=l.loading,g=l.isShow;Object(n.useEffect)((function(){if(!g){var e=Object(r.findDOMNode)(s.current);me()(e).slideUp("slow")}}),[]);var N=function(){d({visibleUserInfo:!v})},y=((null===m||void 0===m||null===(a=m[0])||void 0===a?void 0:a.user)||{}).username;return Object(C.jsxs)("div",{className:h()("admin-order-table",u),children:[Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsxs)("div",{className:"flex w25",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Date: "}),Object(C.jsx)("span",{children:X()(j).format("HH:mm, DD/MM/YY")})]}),Object(C.jsxs)("div",{className:"flex w25",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Total: "}),Object(C.jsx)("span",{children:We(m)})]}),Object(C.jsx)(F.a,{type:"link",onClick:function(){c.current&&clearTimeout(c.current),c.current=setTimeout((function(){var e=Object(r.findDOMNode)(s.current);e&&me()(e).slideToggle("slow"),d({isShow:!g})}),200)},className:"w25",children:g?"Hide":"Show"}),Object(C.jsx)(F.a,{type:"link",onClick:N,className:"w25",children:y||""})]}),Object(C.jsxs)("div",{ref:s,children:[Object(C.jsxs)("div",{className:"fr mt-16",children:[Object(C.jsxs)("div",{className:"flex mr-64",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Status: "}),Object(C.jsx)("span",{children:b})]}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Notes: "}),Object(C.jsx)("span",{children:p})]})]}),Object(C.jsx)(ke,{className:"mt-16",rowKey:"index",totalData:m,columns:[{title:"No.",dataIndex:"index"},{title:"Name",dataIndex:"name"},{title:"Price",dataIndex:"price",render:function(e){return Je(e,void 0,"")}},{title:"Quantity",dataIndex:"quantity"}]})]}),Object(C.jsx)(Ma,{visible:v,toggleClick:N,loading:O,data:null===m||void 0===m||null===(t=m[0])||void 0===t?void 0:t.user})]})});Ia.defaultProps={className:"",data:[],date:void 0,fetchHistory:function(){},isShow:!1,status:"",notes:""};var _a=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,e.next=4,ne()({method:"POST",url:"".concat(D,"/api/foodorder/adminhistory"),data:a});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Aa=_a,qa=function(e,a){var t,n,r,s;return{name:(null===e||void 0===e||null===(t=e.food)||void 0===t?void 0:t.name)||"",price:(null===e||void 0===e||null===(n=e.food)||void 0===n?void 0:n.price)||"",food_id:(null===e||void 0===e||null===(r=e.food)||void 0===r?void 0:r.id)||"",quantity:(null===e||void 0===e||null===(s=e.foodOrder)||void 0===s?void 0:s.quantity)||""}},Ua=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n,r,s,c,i,o=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>0&&void 0!==o[0]?o[0]:{},t=a.currentDate,n=a.email,r={createdAt:X()(t).toISOString(),email:n},e.next=5,Aa(r);case 5:return s=e.sent,c=[],i=_.groupBy(s,(function(e){var a;return null===e||void 0===e||null===(a=e.foodOrder)||void 0===a?void 0:a.createdAt})),console.log({grouped:i}),Object.keys(i).forEach((function(e,a){var t,n,r,s,o,l,d,u,m,j,f,b,h,p,v,O,x,g=_.map(i[e],(function(e,a){return qa(e)}));c.push({index:a,date:e,data:g,status:(null===(t=i[e])||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.foodOrder)||void 0===r?void 0:r.status)||"",username:(null===(s=i[e])||void 0===s||null===(o=s[0])||void 0===o||null===(l=o.user)||void 0===l?void 0:l.username)||"",total:We(g),address:(null===(d=i[e])||void 0===d||null===(u=d[0])||void 0===u||null===(m=u.user)||void 0===m?void 0:m.address)||"",phone:(null===(j=i[e])||void 0===j||null===(f=j[0])||void 0===f||null===(b=f.user)||void 0===b?void 0:b.phone)||"",user:(null===(h=i[e])||void 0===h||null===(p=h[0])||void 0===p?void 0:p.user)||{},foodOrderId:(null===(v=i[e])||void 0===v||null===(O=v[0])||void 0===O||null===(x=O.foodOrder)||void 0===x?void 0:x.id)||""})})),console.log({res:s,grouped:i,orderHistory:c}),e.abrupt("return",_.orderBy(c,[function(e){return X()(e.date).valueOf()}],["desc"]));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ba=t(342),Ha=t(181),Ga=t(133),Ka=t(84),Va=function(e){var a=e.className,t=e.data,n=e.type,r=e.title,s=e.value,c=e.textClass,i=e.onChange,o=e.titleClassName,l=e.radioItemClassName,d=e.name,u=e.isObj,m=e.loading,j=e.disabled,f="mt18",b="",p=o;switch(n){case"QUESTION":f="mt8",b="question-item-normal",p="question-title";break;case"SCORE":b="score-ct",f="";break;case"BIG":b="big-margin";break;case"NONE":f="mt12",b="fw-normal"}return Object(C.jsxs)("div",{className:h()("radio-ct",a),children:[Object(C.jsx)(Q,{title:r,className:p}),m?Object(C.jsx)("div",{children:Object(C.jsx)(Ha.a,{indicator:Object(C.jsx)(Ka.a,{spin:!0})})}):Object(C.jsx)(Ga.a.Group,{onChange:function(e){return i(d,e.target.value)},value:s,disabled:j,children:u?v.a.map(t,(function(e,a){return Object(C.jsxs)("div",{className:h()("radio-item",l),children:[Object(C.jsx)(Ga.a,{value:e,className:h()(f,b,c,e.content?"fw-600":""),children:e.title}),e.content?Object(C.jsx)("div",{className:"radio-content",children:Object(C.jsx)("span",{children:e.content})}):null]},a)})):v.a.map(t,(function(e,a){return Object(C.jsx)(Ga.a,{value:e,children:e},e)}))})]})};Va.defaultProps={name:"",className:"",textClass:"",titleClassName:"",radioItemClassName:"",onChange:function(){},data:[],type:"SCORE",title:"",value:void 0,isObj:!1,loading:!1,disabled:!1};var Ya=Va,Qa=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,e.next=4,ne()({method:"PUT",url:"".concat(D,"/api/foodorder/changeorderstatus"),data:a});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Ja=Qa,Wa=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n,r,s=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:"",t=s.length>1&&void 0!==s[1]?s[1]:"",n={food_id:a,status:t},e.prev=3,e.next=6,Ja(n);case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(3),e.t0;case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),Za=(t(326),function(e){var a=x({loading:!1}),t=Object(f.a)(a,2),n=t[0],r=t[1],s=e.visible,c=e.className,i=e.data,o=e.onClose,l=e.onUpdateFoodOrder,d=i.date,u=i.status,m=i.foodOrderId,j=(i.notes,n.loading),b=function(){var a=Object(P.a)(T.a.mark((function a(t,n){return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log({key:t,value:n,foodOrderId:m}),m&&n){a.next=3;break}return a.abrupt("return");case 3:return r({loading:!0}),a.prev=4,a.next=7,Wa(m,n);case 7:a.sent.isSuccess&&l(v.a.assign(e.data,{status:n})),r({loading:!1}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(4),r({loading:!1});case 15:case"end":return a.stop()}}),a,null,[[4,12]])})));return function(e,t){return a.apply(this,arguments)}}();return Object(C.jsx)(Ba.a,{title:"Food order",placement:"right",width:400,closeIcon:Object(C.jsx)(I.a,{className:"color-gray-9"}),onClose:o,visible:s,className:"food-order-drawer",maskClosable:!1,children:Object(C.jsxs)("div",{className:h()("food-order-drawer-wrapper",c),children:[Object(C.jsxs)("div",{className:"food-order-drawer-created-at",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Created at: "}),Object(C.jsx)("span",{children:X()(d).format("HH:mm, DD/MM/YY")})]}),Object(C.jsxs)("div",{className:"food-order-drawer-total",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Total: "}),Object(C.jsx)("span",{children:i.total||""})]}),Object(C.jsx)(Ya,{data:qe,value:u,title:"Status:",titleClassName:"b pos-re",className:"mt-16 mb-16",onChange:b,loading:j,disabled:!e.isEditable}),Object(C.jsx)("div",{className:"mt-16",children:Object(C.jsx)("span",{className:"b",children:"Food list: "})}),v.a.map(i.data||[],(function(e,a){return Object(C.jsx)("div",{className:"food-order-drawer-row",children:"".concat(a+1,": ").concat(e.name," - Price: ").concat(Je(e.price,void 0,"")," - Quantity: ").concat(e.quantity)},a)})),Object(C.jsxs)("div",{className:"food-order-drawer-total",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Notes: "}),Object(C.jsx)("span",{children:i.notes||""})]})]})})});Za.defaultProps={className:"",data:{},visible:!1,toggleClick:function(){},onClose:function(){},onUpdateFoodOrder:function(){},isEditable:!0};var Xa=Za,za=(t(327),function(e){var a=e.className,t=e.cell,n="--pending";switch(t){case qe[0]:n="--pending";break;case qe[1]:n="--on-going";break;case qe[2]:n="--done";break;case qe[3]:n="--cancel"}return Object(C.jsx)("div",{className:h()("display-status",a),children:Object(C.jsx)("span",{className:n,children:t})})});za.defaultProps={className:"",cell:""};var $a=za,et=(t(328),function(e){var a=x({visibleUserInfo:!1,isShow:e.isShow,foodOrderData:{}}),t=Object(f.a)(a,2),n=t[0],r=t[1],s=e.className,c=e.data,i=(e.date,e.fetchHistory,e.status,e.notes,n.visibleUserInfo,n.loading,n.isShow,n.foodOrderData);return Object(C.jsxs)("div",{className:h()("admin-order-table",s),children:[0===c.length?Object(C.jsx)("div",{className:"no-data",children:"There is no data to display"}):Object(C.jsx)(ke,{className:"mt-16",rowKey:"index",totalData:c,columns:[{title:"Date",dataIndex:"date",render:function(e){return X()(e).format("HH:mm, DD/MM/YY")}},{title:"Username",dataIndex:"username"},{title:"Total",dataIndex:"total"},{title:"Address",dataIndex:"address"},{title:"Phone number",dataIndex:"phone"},{title:"Status",dataIndex:"status",render:function(e){return Object(C.jsx)($a,{cell:e})}}],onRowClick:function(e,a){console.log({rowIndex:e,record:a}),r({foodOrderData:a})}}),Object(C.jsx)(Xa,{visible:!v.a.isEmpty(i),data:i,onClose:function(){r({foodOrderData:{}})},onUpdateFoodOrder:function(e){r({foodOrderData:e})},isEditable:e.isEditable})]})});et.defaultProps={className:"",data:[],date:void 0,fetchHistory:function(){},isShow:!1,status:"",notes:"",isEditable:!0};var at=et,tt=function(e){var a=x({data:[],currentDate:X()(),loading:!0}),t=Object(f.a)(a,2),r=t[0],s=t[1],c=e.className,i=r.currentDate,o=r.data,l=function(){var a=Object(P.a)(T.a.mark((function a(){var t;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.next=5,Ua({currentDate:i,email:e.email});case 5:t=a.sent,s({data:t,loading:!1}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),s({loading:!1});case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(){return a.apply(this,arguments)}}();Object(n.useEffect)((function(){l()}),[i]);return Object(C.jsxs)("div",{className:h()("customer-orders",c),children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)($,{className:"customer-orders-cur-date",placeholder:"Choose date",value:i,onChange:function(e,a){s(Object(R.a)({},e,a))},name:"currentDate"}),Object(C.jsx)("div",{className:"customer-orders-date",children:X()(i).format("dddd, MMMM DD, YYYY")})]}),Object(C.jsx)(at,{data:o,isEditable:!e.email})]})};tt.defaultProps={className:"",email:void 0};var nt=tt,rt=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=null===(a=L.a.getDataLogin())||void 0===a?void 0:a.email,e.next=4,ne()({method:"get",url:"".concat(D,"/api/foodorder/history/").concat(t)});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),st=rt,ct=function(e,a){var t,n,r,s,c;return{index:a+1,name:(null===e||void 0===e||null===(t=e.food)||void 0===t?void 0:t.name)||"",price:(null===e||void 0===e||null===(n=e.food)||void 0===n?void 0:n.price)||"",food_id:(null===e||void 0===e||null===(r=e.food)||void 0===r?void 0:r.id)||"",quantity:(null===e||void 0===e||null===(s=e.foodOrder)||void 0===s?void 0:s.quantity)||"",email:null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.email}},it=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st();case 3:return a=e.sent,t=[],n=_.groupBy(a,(function(e){var a;return null===e||void 0===e||null===(a=e.foodOrder)||void 0===a?void 0:a.createdAt})),Object.keys(n).forEach((function(e){var a,r,s,c,i,o,l=_.map(n[e],(function(e,a){return ct(e,a)}));t.push({date:e,data:l,notes:(null===(a=n[e])||void 0===a||null===(r=a[0])||void 0===r||null===(s=r.foodOrder)||void 0===s?void 0:s.notes)||"",status:(null===(c=n[e])||void 0===c||null===(i=c[0])||void 0===i||null===(o=i.foodOrder)||void 0===o?void 0:o.status)||""})})),e.abrupt("return",_.orderBy(t,[function(e){return X()(e.date).valueOf()}],["desc"]));case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ot=(t(329),function(e){var a,t=Object(j.h)(),r=Object(j.g)(),s=x({orderHistory:Pe(t.state),loading:!0}),c=Object(f.a)(s,2),i=c[0],o=c[1],l=e.className,d=function(){var e=Object(P.a)(T.a.mark((function e(){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it();case 3:a=e.sent,o({orderHistory:a,loading:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({loading:!1});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=(i.orderHistory,i.loading);return Object(n.useEffect)((function(){L.a.getToken()?d():(console.log({login:e.login,auth:L.a.getToken()}),r.push("/acestore"),o({}))}),[e.login]),Object(C.jsxs)("div",{className:h()("history",l),children:[Object(C.jsx)(ye,{}),Object(C.jsx)("div",{className:"history-body",children:Object(C.jsx)(nt,{email:null===(a=L.a.getDataLogin())||void 0===a?void 0:a.email})}),u&&Object(C.jsx)(ga,{})]})});ot.defaultProps={className:""};var lt=Object(c.b)((function(e){return{login:e.login}}),{})(ot),dt=t(339),ut=t(345),mt=(t(330),{image:void 0,name:"",nameErr:"",price:"",priceErr:"",title:"",titleErr:"",rating:1,quantityType:void 0,quanityTypeErr:"",id:void 0}),jt=function(e){var a=Object(n.useRef)([]),t=x(Object(O.a)({},mt)),r=Object(f.a)(t,2),s=r[0],c=r[1],i=e.className,o=e.index,l=e.onChangeFood,d=e.onDeleteFood,u=e.isAdd,m=s.image,j=s.name,b=s.nameErr,p=s.price,v=s.priceErr,g=s.title,N=s.titleErr,y=s.rating,w=s.quantityType,k=s.quanityTypeErr,E=s.id,D="".concat(u?"add":"edit","-img-id-").concat(o);Object(n.useEffect)((function(){u||(a.current=L.a.getMenu())}),[]),Object(n.useEffect)((function(){var e=_.find(a.current,(function(e){return e.id===E}));console.log({item:e}),_.isEmpty(e)||c(Object(O.a)(Object(O.a)({},e),{},{quantityType:Ae[e.quantityType===Le?0:1]}))}),[E]),Object(n.useEffect)((function(){l(o,{image:m,name:j,price:p,title:g,rating:y,quantityType:w,id:E})}),[m,j,p,g,y,w,E]);var S=function(e,a){var t;c((t={},Object(R.a)(t,e,a),Object(R.a)(t,"nameErr",""),Object(R.a)(t,"priceErr",""),Object(R.a)(t,"titleErr",""),Object(R.a)(t,"quanityTypeErr",""),t))},M=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n,r,s=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},n=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.files[0]){e.next=4;break}return e.abrupt("return");case 4:(r=new FileReader).readAsDataURL(n),r.onloadend=Object(P.a)(T.a.mark((function e(){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.result,c({image:a});case 2:case"end":return e.stop()}}),e)})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=document.getElementById(D);console.log({e:e}),e&&e.click()};return Object(C.jsxs)("div",{className:h()("add-food",i),children:[!u&&Object(C.jsx)(ia,{title:"Food id",name:"id",value:E,onChange:S,placeholder:"Select food id",data:_.map(L.a.getMenu(),(function(e){return e.id})),className:"mb-16"}),Object(C.jsxs)("div",{className:"add-food-row",children:[Object(C.jsxs)("div",{className:"",children:[m?Object(C.jsx)("img",{src:m,alt:"Food card img",className:"food-card-img",onClick:A}):Object(C.jsxs)("div",{className:"food-card-img",onClick:A,children:[Object(C.jsx)(ut.a,{}),Object(C.jsx)("div",{className:"food-card-img-text",children:Object(C.jsx)("span",{children:"Upload image"})})]}),Object(C.jsx)("input",{id:D,type:"file",onChange:M,className:"dis-none",accept:"image/png, .jpeg, .jpg, .webp"}),Object(C.jsx)(ae,{className:"mt-16",title:"Food name",name:"name",value:j,onChange:S,placeholder:"Enter your name",errMes:b})]}),Object(C.jsxs)("div",{className:"add-food-name-price",children:[Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsx)(F.a,{danger:!0,onClick:function(){c(Object(O.a)({},mt)),l(o,{})},children:"Reset"}),0!==o&&Object(C.jsx)(F.a,{onClick:function(){d(o)},children:Object(C.jsx)(I.a,{})})]}),Object(C.jsx)(ia,{className:"mt-16",title:"Kind of quanity",name:"quantityType",value:w,onChange:S,placeholder:"Enter your quanity",errMes:k,data:Ae}),Object(C.jsx)(ae,{className:"mt-16",title:"Food price",name:"price",value:p,onChange:S,placeholder:"Enter your price",errMes:v,type:"NUMBER"}),Object(C.jsx)(ae,{className:"mt-16",title:"Kind of food",name:"title",value:g,onChange:S,placeholder:"Enter kind of food",errMes:N}),Object(C.jsx)(Q,{title:"Rating",className:"mt-16"}),Object(C.jsx)(la,{rating:y,isButton:!0,onClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e===s.rating||c({rating:e})}})]})]})]})};jt.defaultProps={className:"",index:0,data:{},onChangeFood:function(){},onDeleteFood:function(){},isAdd:!1};var ft=jt,bt=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n,r=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:{},t=r.length>1&&void 0!==r[1]&&r[1],e.prev=2,e.next=5,ne()({method:t?"POST":"PUT",url:"".concat(D,"/api/canteen/").concat(t?"addfood":"updatefood"),data:a});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),ht=bt,pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=e.quantityType===Ae[0]?Le:Me;return console.log({quantityType:t,x:e.quantityType===Ae[0],a:e.quantityType,b:Ae[0]}),{title:e.title,name:e.name,rating:e.rating,price:parseFloat(e.price),quantityType:t,image:e.image,id:a}},vt=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t,n,r,s,c=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:[],n=c.length>1&&void 0!==c[1]&&c[1],console.log({food:t}),r={email:(null===(a=L.a.getDataLogin())||void 0===a?void 0:a.email)||"",food:v.a.map(t,(function(e){return pt(e,n?null:e.id)}))},console.log({sendingData:r}),e.next=7,ht(r,n);case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ot=(t(331),function(e){var a=x({foodList:[void 0],loading:!1}),t=Object(f.a)(a,2),n=t[0],r=t[1],s=n.foodList,c=n.loading,i=e.className,o=e.isAdd,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s[e]=a,r({foodList:s})},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;s.splice(e,1),console.log({onDeleteFood:s,index:e}),r({foodList:s})},u=function(){var e=Object(P.a)(T.a.mark((function e(){var a,t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({loading:!0}),e.next=3,vt(s,o);case 3:if(a=e.sent,t={loading:!1},!a.isSuccess){e.next=13;break}return alert(o?"Successfully adding new food!":"Successfully editting food!"),e.next=9,Ge();case 9:v.a.assign(t,{foodList:[void 0]}),r({foodList:[]}),e.next=14;break;case 13:alert(o?"Failed to add new food: ":"Failed to edit food: ",a.message);case 14:setTimeout((function(){r(t)}),200);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e||0===(null===e||void 0===e?void 0:e.length)||!e[0]||!!v.a.find(e,(function(e){return!e||!e.name||!e.price||!e.title||!e.quantityType}))}(s);return Object(C.jsxs)("div",{className:h()("add-new-food",i),children:[Object(C.jsx)("div",{className:"add-new-food-add-food",children:v.a.map(s,(function(e,a){return Object(C.jsx)(ft,{index:a,data:e,onChangeFood:l,onDeleteFood:d,className:"animation-fadein-1s",isAdd:o},a)}))}),Object(C.jsxs)("div",{className:"add-new-food-add-btns",children:[Object(C.jsx)(F.a,{type:"dashed",onClick:function(){s.push(void 0),r({foodList:s})},disabled:m||c,children:o?"New food":"Other food"}),Object(C.jsx)(F.a,{type:"primary",disabled:m,onClick:u,loading:c,children:o?"Add food":"Edit food"})]})]})});Ot.defaultProps={className:"",onChangeFood:function(){},onDeleteFood:function(){},onClickAddFood:function(){},foodList:[],isAdd:!1};var xt=Ot,gt=(t(332),dt.a.TabPane),Nt="ADD_FOOD",yt="EDIT_FOOD",Ct="FOOD_ORDER",wt="USER_PROFILE",kt=function(e){var a=Object(j.g)(),t=x({activeTab:wt}),r=Object(f.a)(t,2),s=r[0],c=r[1],i=e.className,o=s.activeTab,l="Admin"===L.a.getRole(),d=L.a.getDataLogin(),u=d.email,m=d.username,b=d.phone,p=d.address,v=(d.notes,d.role);Object(n.useEffect)((function(){L.a.getToken()||(a.push("/acestore"),c({}))}),[e.login]);return Object(C.jsxs)("div",{className:h()("user",i),children:[Object(C.jsx)(ye,{}),Object(C.jsx)("div",{className:"user-body",children:Object(C.jsxs)(dt.a,{activeKey:o,tabPosition:"top",onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c({activeTab:e})},className:"mt-12",children:[Object(C.jsx)(gt,{tab:Object(C.jsx)("div",{className:"user-body-title",children:"User profile"}),children:Object(C.jsxs)("div",{className:"user-body-profile",children:[Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Email:"}),Object(C.jsx)("span",{children:u})]}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Username:"}),Object(C.jsx)("span",{children:m})]}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Phone:"}),Object(C.jsx)("span",{children:b})]})]}),Object(C.jsxs)("div",{className:"fr-sb",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Address:"}),Object(C.jsx)("span",{children:p})]}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"b mr-4",children:"Role:"}),Object(C.jsx)("span",{children:v||"Customer"})]})]})]})},wt),l&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(gt,{tab:Object(C.jsx)("div",{className:"user-body-title",children:"Add food"}),children:Object(C.jsx)(xt,{isAdd:!0})},Nt),Object(C.jsx)(gt,{tab:Object(C.jsx)("div",{className:"user-body-title",children:"Edit food"}),children:Object(C.jsx)(xt,{})},yt),Object(C.jsx)(gt,{tab:Object(C.jsx)("div",{className:"user-body-title",children:"Food orders"}),children:Object(C.jsx)(nt,{})},Ct)]})]})})]})};kt.defaultProps={className:""};var Et=Object(c.b)((function(e){return{login:e.login}}),{})(kt),Dt=function(e){return Object(n.useEffect)((function(){window.onbeforeunload=function(){},window.onload=function(){e.reloadPageRequest()}}),[]),Object(C.jsx)("main",{className:"div-root",children:Object(C.jsxs)(m.a,{children:[Object(C.jsx)(k,{}),Object(C.jsxs)(j.d,{children:[Object(C.jsx)(j.b,{exact:!0,path:"/acestore",name:"Home",component:Ea}),Object(C.jsx)(j.b,{exact:!0,path:"/history",name:"Home",component:lt}),Object(C.jsx)(j.b,{exact:!0,path:"/user",name:"Home",component:Et}),Object(C.jsx)(j.b,{exact:!0,path:"/food-order",name:"Food Order",component:ea}),Object(C.jsx)(j.a,{path:"/",to:{pathname:"/acestore"}})]})]})})};Dt.defaultProps={};var St={reloadPageRequest:function(){return{type:E.RELOAD_PAGE_REQUEST}}},Tt=Object(c.b)((function(e){return{isLoading:e.isLoading}}),St)(Dt),Pt=(t(333),t(334),function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return Object(C.jsx)(Tt,{})}}]),t}(n.Component)),Rt=Pt,Ft=t(82),Lt=t(189),Mt={loading:{},login:{},bookings:[],checkins:[],foodMasterData:[]},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt.login,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E.LOGIN_COMPLETE:return a.data;case E.LOGOUT_COMPLETE:return a;default:return e}},_t=Object(Ft.b)({login:It});var At=function(e,a){return a.type===E.LOGOUT_REQUEST?(L.a.logout(),Mt):_t(e,a)},qt=t(97),Ut=T.a.mark(Ht),Bt=T.a.mark(Gt);function Ht(){var e,a,t,n;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=!0;case 1:if(!e){r.next=12;break}return r.next=4,Object(qt.c)(E.LOGIN_REQUEST);case 4:return a=r.sent,t=a.data,n={isSuccess:!0,user:v.a.cloneDeep(t.user),token:t.token},L.a.login(n),r.next=10,Object(qt.b)({type:E.LOGIN_COMPLETE,data:n});case 10:r.next=1;break;case 12:case"end":return r.stop()}}),Ut)}function Gt(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qt.a)(Ht);case 2:case"end":return e.stop()}}),Bt)}var Kt=T.a.mark(Vt);function Vt(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qt.a)(Gt);case 2:case"end":return e.stop()}}),Kt)}var Yt=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(a){return}}(),Qt=function(){var e=Object(Lt.a)();return Object(O.a)(Object(O.a)({},Object(Ft.d)(At,Yt,Object(Ft.a)(e))),{},{runSaga:e.run(Vt)})}();i.sessionService.initSessionService(Qt),s.a.render(Object(C.jsx)(c.a,{store:Qt,children:Object(C.jsx)(Rt,{})}),document.getElementById("root"))}},[[335,1,2]]]);
//# sourceMappingURL=main.dcce9499.chunk.js.map