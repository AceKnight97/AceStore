(this.webpackJsonpacestore=this.webpackJsonpacestore||[]).push([[0],{204:function(e){e.exports=JSON.parse('{"name":"acestore","homepage":"https://AceKnight97.github.io/acestore","version":"0.1.0","private":true,"dependencies":{"@ant-design/icons":"^4.3.0","@apollo/client":"^3.5.8","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","antd":"^4.18.5","axios":"^0.25.0","classnames":"^2.2.6","clean-webpack-plugin":"^3.0.0","copy-webpack-plugin":"^8.0.0","css-loader":"^5.2.0","currency-formatter":"^1.5.9","emailjs-com":"^2.6.4","eslint":"^7.17.0","eslint-config-airbnb":"^18.2.1","eslint-plugin-react":"^7.20.6","fbemitter":"^2.1.1","file-loader":"^6.2.0","font-awesome-sass-loader":"^2.0.1","graphql":"^16.3.0","html-loader":"^2.1.2","html-webpack-plugin":"^5.3.1","jquery":"^3.6.0","lodash":"^4.17.20","mini-css-extract-plugin":"^1.3.9","moment":"^2.29.1","node-sass":"^6.0.1","prop-types":"^15.7.2","react":"^17.0.2","react-dom":"^17.0.2","react-number-format":"^4.9.1","react-redux":"^7.2.2","react-router-dom":"^5.2.0","react-scripts":"4.0.3","redux":"^4.0.5","redux-react-session":"^2.6.1","redux-saga":"^1.1.3","sass-loader":"^11.0.1","style-loader":"^2.0.0","uglifyjs-webpack-plugin":"^2.2.0","url-loader":"^4.1.1","web-vitals":"^1.0.1","webpack-merge":"^5.7.3"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^3.2.3"},"optionalDependencies":{"fsevents":"^2.3.2"}}')},238:function(e,t,a){},27:function(e,t,a){"use strict";(function(e){var a=e.window.localStorage,n={login:function(e){console.log("login data: ",e);var t=e.user,n=e.isSuccess,r=e.token;a.isSuccess=n,a.token=r,a.user=JSON.stringify(t),a.role=t.role},getRole:function(){return a.role},setMenu:function(e){a.menu=JSON.stringify(e)},getMenu:function(){return a.menu&&"undefined"!==a.menu?JSON.parse(a.menu):[]},setKindOfFood:function(e){a.kindOfFood=JSON.stringify(e)},getKindOfFood:function(){return a.kindOfFood&&"undefined"!==a.kindOfFood?JSON.parse(a.kindOfFood):[]},getToken:function(){return a.token},setFoodData:function(e){a.foodData=JSON.stringify(e)},getFoodData:function(){return a.foodData&&"undefined"!==a.foodData?JSON.parse(a.foodData):[]},setMasterData:function(e){a.masterData=JSON.stringify(e)},getMasterData:function(){return a.masterData&&"undefined"!==a.masterData?JSON.parse(a.masterData):[]},setDatalogin:function(e){a.login=JSON.stringify(e)},getDataLogin:function(){return a.login&&"undefined"!==a.login?JSON.parse(a.login):{}},isSuccess:function(){return a.isSuccess},userId:function(){return a.userId},username:function(){return a.userName},role:function(){return a.role},logout:function(){a.clear()}};t.a=n}).call(this,a(89))},311:function(e,t,a){},317:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){},333:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(42),s=a.n(r),c=a(66),i=a(199),o=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,360)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))},l=a(15),d=a(16),u=a(20),m=a(21),j=a(90),f=a.n(j),b=a(47),p=a(78),h=a(6),v=a(100),O=a(5),g=a.n(O),x=a(8),N=a(2),y=a(18),w=a.n(y),C=new(a(200).EventEmitter),E=function(e){var t=Object(n.useState)(e),a=Object(h.a)(t,2),r=a[0],s=a[1];return[r,function(e){return s((function(t){var a=w.a.assign(t,e);return Object(N.a)({},a)}))}]},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,r=Object(n.useRef)(!0);Object(n.useEffect)((function(){return r.current?r.current=!1:e(),a}),t)},D=(a(238),a(4)),S=function(e){var t=Object(b.h)(),a=Object(b.g)(),r=t.pathname,s=E({}),c=Object(h.a)(s,2),i=(c[0],c[1],e.className);Object(n.useEffect)((function(){}),[]);var o=function(e){a.push("/acestore")};return Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{className:g()("supergraphic",i)}),Object(D.jsxs)("div",{className:"bosch-header",children:[Object(D.jsx)("div",{className:"flex",children:function(){var e="";switch(r){case"/food-order":e="Food Order";break;case"/history":e="Order History";break;case"/user":e="User"}return Object(D.jsxs)("div",{className:"bosch-header-title",children:[Object(D.jsx)(p.b,{to:"/acestore",onClick:o,children:"Home"}),e?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(v.a,{}),Object(D.jsx)("span",{children:e})]}):null]})}()}),Object(D.jsx)("div",{className:"bosch-header-group",children:"Acestore"})]}),!r.includes("/acestore")&&Object(D.jsx)(p.b,{to:"/acestore",className:"not-home-back-btn",children:"Go back"})]})};S.defaultProps={className:""};var T=S,P={LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_COMPLETE:"LOGIN_COMPLETE",GET_ALL_DATA_REQUEST:"GET_ALL_DATA_REQUEST",GET_ALL_DATA_COMPLETE:"GET_ALL_DATA_COMPLETE",RELOAD_PAGE_REQUEST:"RELOAD_PAGE_REQUEST",LOGOUT_REQUEST:"LOGOUT_REQUEST",LOGOUT_COMPLETE:"LOGOUT_COMPLETE"},F="https://retail-store-java.herokuapp.com/",L="Your login session has expired, please login again.",R=a(27);function A(e){return{type:P.LOGOUT_REQUEST,data:e}}var I=a(22),q=a(3),M=a(11),U=a.n(M),B=a(53),$=a(211),G=a(357),V=a(218),K=a(202),Q=function(e){var t=e.className,a=e.title;return a?Object(D.jsx)("div",{className:g()("input-title-wrapper",t),children:Object(D.jsx)("span",{children:a})}):null};Q.defaultProps={className:"",title:""};var H=Q,Y=a(344),J=a(180),Z=a(36),W=a.n(Z),X=function(e){var t,a=e.className,n=e.title,r=e.placeholder,s=e.format,c=e.value,i=e.name,o=e.suffixIcon,l=e.type,d=e.disabledDate,u=e.disabled,m=function(t){e.onChange(i,t)};switch(d){case"PAST":t=function(e){return e>W()().endOf("day")};break;case"FUTURE":t=function(e){return e<=W()().endOf("day")}}return Object(D.jsxs)("div",{className:g()("datepicker-ct-wrapper",a),children:[Object(D.jsx)(H,{title:n}),"TIME"===l?Object(D.jsx)(Y.a,{disabled:u,getPopupContainer:function(e){return e.parentElement},suffixIcon:o,placeholder:r,onChange:m,format:s,value:"string"===typeof c&&W()(c).isValid()?W()(c):c||void 0,disabledDate:t}):Object(D.jsx)(J.a,{disabled:u,getPopupContainer:function(e){return e.parentElement},suffixIcon:o,placeholder:r,onChange:m,format:s,value:"string"===typeof c&&W()(c).isValid()?W()(c):c||void 0,disabledDate:t})]})};X.defaultProps={className:void 0,format:"MM/DD/YYYY",title:"",placeholder:"Select date",onChange:function(){},value:void 0,name:"",disabledDate:void 0,suffixIcon:void 0,type:"DATE",disabled:!1};var z=X,ee=function(e){var t=e.className,a=e.type,n=e.rows,r=e.placeholder,s=e.title,c=e.disabled,i=e.value,o=e.inputClassName,l=e.maxLength,d=e.prefix,u=e.mask,m=e.format,j=e.decimalScale,f=e.name,b=(e.allowedDecimalSeparators,e.allowLeadingZeros),p=(e.thousandSeparator,e.data,e.mode,e.unitValue,e.onChangeUnit,e.disabledDate),h=e.suffix,v=e.autoComplete,O=(e.supName,e.errMes),x=e.errMesClassName,N=e.absSuffix,y=e.allowNegative,w=(e.isValueOutside,e.isSearchable,e.loadOptions,e.options,e.clearOptions,e.onInputChange,e.titleClassName),C=function(t){e.onChange(f,t.target.value)};return Object(D.jsxs)("div",{className:g()("input-ct-wrapper",t),children:[Object(D.jsx)(H,{title:s,className:w}),"TEXTAREA"===a?Object(D.jsx)($.a.TextArea,{value:i,disabled:c,placeholder:r,rows:n,onChange:C}):null,"NUMBER"===a?Object(D.jsx)(K.a,{mask:u,format:m,value:i,className:g()("basic-number-format",o,O?"err-border":""),disabled:c,onValueChange:function(t){var a=t.value;e.onChange(f,a)},placeholder:r,maxLength:l,decimalScale:j,prefix:d,suffix:h,allowNegative:y,allowLeadingZeros:b}):null,"DATE"===a?Object(D.jsx)(z,{name:f,placeholder:r,value:i,onChange:e.onChange,disabledDate:p,suffixIcon:h}):null,"text"===a?Object(D.jsx)($.a,{className:O?"err-border":"",value:i,disabled:c,placeholder:r,onChange:C,prefix:d,suffix:h}):null,"PASSWORD"===a?Object(D.jsx)($.a.Password,{className:O?"err-border":"",value:i,disabled:c,placeholder:r,onChange:C,iconRender:function(e){return e?Object(D.jsx)(G.a,{}):Object(D.jsx)(V.a,{})},autoComplete:v}):null,O?Object(D.jsx)("div",{className:g()("div-incorrect-mes",x),children:Object(D.jsx)("span",{children:O})}):null,N&&Object(D.jsx)("div",{className:"abs-suffix-ct",children:Object(D.jsx)("span",{children:N})})]})};ee.defaultProps={className:void 0,titleClassName:"",rows:4,type:"text",title:"",placeholder:"Enter...",onChange:function(){},onChangeUnit:function(){},disabled:!1,value:void 0,inputClassName:"",maxLength:20,allowedDecimalSeparators:void 0,decimalScale:void 0,allowLeadingZeros:!1,thousandSeparator:!1,prefix:void 0,suffix:void 0,mask:void 0,format:void 0,name:"",supName:"",data:[],mode:void 0,unitValue:"",disabledDate:void 0,autoComplete:"",errMes:"",errMesClassName:"",absSuffix:"",allowNegative:!1,isValueOutside:!1,isSearchable:!1,loadOptions:function(){},options:[],clearOptions:function(){},onInputChange:function(){}};var te=ee,ae=a(354),ne=function(e){return Object(D.jsxs)("div",{className:g()("modal-footer-wrapper",e.className),children:[e.dangerTitle?Object(D.jsx)(B.a,{danger:!0,className:e.dangerTitle,onClick:e.onClickDanger,disabled:e.loading,children:e.dangerTitle}):Object(D.jsx)("div",{}),Object(D.jsxs)("div",{className:"modal-footer-buttons",children:[Object(D.jsx)(B.a,{className:e.leftBtnClassName,onClick:e.onClickLeftBtn,disabled:e.loading,children:e.leftTitle}),Object(D.jsx)(B.a,{type:"primary",onClick:e.onClickRightBtn,disabled:e.disabled,loading:e.loading,children:e.rightTitle})]})]})};ne.defaultProps={className:void 0,disabled:!1,loading:!1,leftBtnClassName:"mr8",dangerTitle:"",onClickDanger:function(){}};var re=ne,se=a(67),ce=function(e){var t;return Object(D.jsxs)("div",{className:g()("modal-header-wrapper",e.className),children:[Object(D.jsx)("div",{className:"modal-header-title",children:Object(D.jsx)("span",{children:e.title})}),Object(D.jsx)(B.a,(t={ghost:!0,onClick:e.onClick,className:e.btnClassName,disabled:e.loading},Object(q.a)(t,"className","modal-header-close-btn"),Object(q.a)(t,"children",e.btnTitle||Object(D.jsx)(se.a,{})),t))]})};ce.defaultProps={className:void 0,btnClassName:void 0,btnTitle:"",loading:!1,onClick:function(){}};var ie=ce,oe=(a(311),{email:"",username:"",phone:"",address:"",notes:"",destination:"",emailErr:"",usernameErr:"",phoneErr:"",addressErr:"",destinationErr:"",loading:!1,isConfirm:!1}),le=function(e){var t=E(Object(N.a)({},oe)),a=Object(h.a)(t,2),r=a[0],s=a[1];Object(n.useEffect)((function(){i||s(Object(N.a)({},oe))}),[e.visible]);var c=e.className,i=e.visible,o=e.onClickCancel,l=e.onClick,d=r.email,u=r.username,m=r.emailErr,j=r.usernameErr,f=r.loading,b=r.phone,p=r.address,v=r.notes,O=r.destination,x=r.phoneErr,y=r.addressErr,w=r.destinationErr,C=r.isConfirm,k=function(e,t){var a;s((a={},Object(q.a)(a,e,t),Object(q.a)(a,"emailErr",""),Object(q.a)(a,"usernameErr",""),Object(q.a)(a,"destinationErr",""),Object(q.a)(a,"phoneErr",""),Object(q.a)(a,"addressErr",""),a))},S=function(){var e=Object(I.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C?l(r):s({isConfirm:!0});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(I.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({isConfirm:!1});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)(ae.a,{className:"any-customer-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(D.jsxs)("div",{className:g()("any-customer-modal-wrapper",c),children:[Object(D.jsx)(ie,{title:"Customer info",onClick:o}),C?Object(D.jsxs)("div",{className:"any-customer-modal-main",children:[Object(D.jsx)("div",{className:"font-20 b",children:"Your information:"}),Object(D.jsxs)("div",{className:"fr-sb mt-16",children:[Object(D.jsx)("span",{className:"b",children:"Email:"}),Object(D.jsx)("span",{className:"ml-4",children:d})]}),Object(D.jsxs)("div",{className:"fr-sb",children:[Object(D.jsx)("span",{className:"b",children:"Username:"}),Object(D.jsx)("span",{className:"ml-4",children:u})]}),Object(D.jsxs)("div",{className:"fr-sb",children:[Object(D.jsx)("span",{className:"b",children:"Delivery:"}),Object(D.jsx)("span",{className:"ml-4",children:p})]}),Object(D.jsxs)("div",{className:"fr-sb",children:[Object(D.jsx)("span",{className:"b",children:"Phone number:"}),Object(D.jsx)("span",{className:"ml-4",children:b})]}),Object(D.jsxs)("div",{className:"fr-sb",children:[Object(D.jsx)("span",{className:"b",children:"Notes:"}),Object(D.jsx)("span",{className:"ml-4",children:v})]}),Object(D.jsxs)("div",{className:"fr-sb",children:[Object(D.jsx)("span",{className:"b",children:"Destination:"}),Object(D.jsx)("span",{className:"ml-4",children:O})]}),Object(D.jsx)("div",{className:"fcen mt-16 b",children:"Do you want to order now?"})]}):Object(D.jsxs)("div",{className:"any-customer-modal-main",children:[Object(D.jsx)(te,{title:"Email",name:"email",value:d,onChange:k,placeholder:"Enter your email",errMes:m}),Object(D.jsx)(te,{title:"Username",name:"username",value:u,onChange:k,placeholder:"Enter your username",className:"mt-16",errMes:j}),Object(D.jsx)(te,{title:"Address",name:"address",value:p,onChange:k,placeholder:"Enter your address",className:"mt-16",errMes:y}),Object(D.jsx)(te,{title:"Phone number",name:"phone",value:b,onChange:k,placeholder:"Enter your phone number",className:"mt-16",errMes:x,type:"NUMBER",allowLeadingZeros:!0}),Object(D.jsx)(te,{title:"Destination",name:"destination",value:O,onChange:k,placeholder:"Enter destination",errMes:w,className:"mt-16"}),Object(D.jsx)(te,{title:"Notes",name:"notes",value:v,onChange:k,placeholder:"Enter your notes",className:"mt-16",type:"TEXTAREA"})]}),Object(D.jsx)(re,{disabled:!d||!u||!p||!b||!O,leftTitle:C?"Back":"Cancel",rightTitle:C?"Yes":"Order",onClickLeftBtn:C?T:o,onClickRightBtn:S,loading:f})]})})};le.defaultProps={className:void 0,visible:!1,onClickCancel:function(){},onClick:function(){}};var de,ue,me=le,je="WEIGHT",fe="PACKAGE",be=["0.5 Kg","1.0 Kg","1.5 Kg","2.0 Kg","2.5 Kg","3.0 Kg","3.5 Kg","4.0 Kg"],pe=["1 pc","2 pcs","3 psc","4 psc"],he=["Kg","Package/Dish"],ve=["Pending","On Going","Done","Cancel"],Oe=[0,1e5,2e5,5e5,1e6,2e6,5e6],ge=a(38),xe=a(39),Ne=a(355),ye=a(352),we=a(133),Ce=a(353),Ee=a(206),ke=a(207),De=a(204),Se=new Ne.a({addTypename:!1}),Te={watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}},Pe=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],r.length>1&&void 0!==r[1]&&r[1],e.prev=2,a=R.a.getToken(),n=Object(Ee.a)((function(e,t){var n=t.headers;return{headers:Object(N.a)(Object(N.a)({},n),{},{"access-token":a})}})),e.abrupt("return",new ye.a({link:n.concat(we.a.from([Object(ke.a)((function(e){var t=e.graphQLErrors,a=e.networkError;e.response,e.operation,e.forward;if(t)_.map(t,(function(e){var t=e.message,a=e.extensions;console.log({errMes:t}),(_.includes(t,"403")||_.includes(t,"400")||"UNAUTHENTICATED"===a.code)&&C.emit(P.LOGOUT_REQUEST)}));else if(a)throw console.error("[Network error]: ".concat(a)),a})),new Ce.a({uri:F,credentials:"same-origin"})])),cache:Se,defaultOptions:t?void 0:Te,name:"web",version:De.version}));case 8:throw e.prev=8,e.t0=e.catch(2),e.t0;case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),Fe=new ye.a({link:new Ce.a({uri:F,credentials:"same-origin"}),cache:Se,defaultOptions:Te}),Le=Pe,Re=Object(xe.a)(de||(de=Object(ge.a)(["\n  query menu {\n    menu {\n      id\n      title\n      name\n      rating\n      price\n      quantityType\n      createdAt\n      image\n    }\n  }\n"]))),Ae=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.query({query:Re});case 3:return t=e.sent,a=(null===t||void 0===t?void 0:t.data)||{},n=a.menu,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Ie=Ae,qe=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ie();case 3:return t=e.sent,R.a.setMenu(t),a=[],n=[],r=w.a.groupBy(t,(function(e){return e.title})),Object.keys(r).forEach((function(e){a.push(e),n.push({title:e,data:r[e]})})),R.a.setKindOfFood(a),R.a.setMasterData(n),R.a.setFoodData(void 0),e.abrupt("return",n);case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=e.quantity.slice(0,3),n=parseFloat(a)*e.price;return n>0&&t.push("".concat(e.name," (").concat(e.price," * ").concat(a,")")),n},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.quantity.slice(0,1),n=parseFloat(a)*e.price;return n>0&&t.push("".concat(e.name," (").concat(e.price," * ").concat(a,")")),n},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,a=[];return w.a.forEach(e,(function(e){t+=w.a.sumBy(e.data,(function(e){return e.isBuy?Ue(e,a)||Me(e,a):0}))})),{total:t,cartTags:a}},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=e.searchName,n=e.rating,r=e.kind,s=e.minPrice,c=e.maxPrice;console.log({searchName:a,rating:n,kind:r,minPrice:s,maxPrice:c});var i=w.a.cloneDeep(t);return w.a.forEach(i,(function(e){e.data=w.a.filter(e.data,(function(e){var t,i=!0;(r&&(i=e.title===r),w.a.isNil(n)||w.a.isNil(e.rating)||(i=i&&e.rating>=n),a)&&(i=i&&(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(a.toLowerCase())));return w.a.isNil(s)||(i=i&&e.price>=s),w.a.isNil(c)||(i=i&&e.price<=c),i}))})),i},$e=Object(xe.a)(ue||(ue=Object(ge.a)(["\n  mutation signIn($email: String!, $password: String!) {\n    signIn(email: $email, password: $password) {\n      isSuccess\n      data {\n        token\n        user {\n          id\n          username\n          email\n          role\n          signUpDate\n          status\n          gender\n          address\n          phone\n          dob\n        }\n      }\n    }\n  }\n"]))),Ge=function(){var e=Object(I.a)(U.a.mark((function e(t){var a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.mutate({mutation:$e,variables:t});case 3:return a=e.sent,n=null===a||void 0===a?void 0:a.data,r=n.signIn,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ve=Ge,Ke=(a(217),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e.trim()).toLowerCase())}),Qe=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},a=t.email,n=t.password,e.prev=2,e.next=5,Ve({email:a,password:n});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{isSuccess:!1,message:"Incorrect password"});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.email,a=e.password;return Ke(t)?a.length<6?{passwordErr:"Incorrect password"}:{isSuccess:!0}:{emailErr:"Incorrect email"}},Ye=function(e){var t=E({email:"",password:"",emailErr:"",passwordErr:"",loading:!1}),a=Object(h.a)(t,2),r=a[0],s=a[1],c=e.className,i=e.visible,o=e.onClickCancel,l=r.email,d=r.password,u=r.emailErr,m=r.passwordErr,j=r.loading;Object(n.useEffect)((function(){}),[]);var f=function(e,t){var a;s((a={},Object(q.a)(a,e,t),Object(q.a)(a,"emailErr",""),Object(q.a)(a,"passwordErr",""),a))},b=function(){var t=Object(I.a)(U.a.mark((function t(){var a,n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=He(r)).isSuccess){t.next=10;break}return s({loading:!0}),t.next=5,Qe(r);case 5:(n=t.sent).isSuccess?(R.a.setDatalogin(n.data.user),e.loginRequest(n.data),o()):alert("Login failed "+n.message),s({loading:!1}),t.next=11;break;case 10:s(a);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(D.jsx)(ae.a,{className:"login-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(D.jsxs)("div",{className:g()("stop-health-care-modal-wrapper",c),children:[Object(D.jsx)(ie,{title:"Login",onClick:o}),Object(D.jsxs)("div",{className:"login-modal-main",children:[Object(D.jsx)(te,{title:"Email",name:"email",value:l,onChange:f,placeholder:"Enter your email",errMes:u}),Object(D.jsx)(te,{title:"Password",name:"password",value:d,onChange:f,placeholder:"Enter your email",type:"PASSWORD",className:"mt-16",errMes:m})]}),Object(D.jsx)(re,{disabled:!l||!d,leftTitle:"Cancel",rightTitle:"Login",onClickLeftBtn:o,onClickRightBtn:b,loading:j})]})})};Ye.defaultProps={className:"",visible:!1,onClickCancel:function(){},loginRequest:function(){}};var Je,Ze=Ye,We=a(156),Xe=a.n(We),ze=Object(xe.a)(Je||(Je=Object(ge.a)(["\n  mutation signUp(\n    $username: String!\n    $email: String!\n    $password: String!\n    $phone: String\n    $address: String\n  ) {\n    signUp(\n      username: $username\n      email: $email\n      password: $password\n      phone: $phone\n      address: $address\n    ) {\n      isSuccess\n      token\n    }\n  }\n"]))),et=function(){var e=Object(I.a)(U.a.mark((function e(t){var a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.mutate({mutation:ze,variables:t});case 3:return a=e.sent,n=null===a||void 0===a?void 0:a.data,r=n.signUp,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),tt=et,at=a(208),nt=a.n(at),rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"VND",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Price:",n="";if("VND"===t)n=nt.a.format(e,{code:"VND"});return"".concat(a," ").concat(n)},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;return _.forEach(e,(function(e){t+=e.price*e.quantity})),rt(t,void 0,"")},ct=function(){var e,t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!==n&&void 0!==n&&null!==(e=n.graphQLErrors)&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&null!==(a=t.message)&&void 0!==a&&a.includes("E11000 duplicate key error")?"Email already existed!":""},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.email,a=e.password,n=e.confirmPassword,r=(e.username,e.phone),s=(e.address,e.loading,e.isStep1);return s?a.length<6?{passwordErr:"Password must have 6 or more characters"}:a!==n?{confirmPasswordErr:"Confirm password is not match"}:Ke(t)?{isStep1:!1}:{emailErr:"Incorrect email format"}:r.length<9?{}:{finish:!0}},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.email,a=e.password,n=e.confirmPassword,r=e.username,s=e.phone,c=e.address,i=(e.notes,e.loading,e.isStep1);if(i){if(!t||!a||!n)return!0}else if(!r||!s||!c)return!0;return!1},lt=function(){var e=Object(I.a)(U.a.mark((function e(t){var a,n,r,s,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({data:t}),a=t.email,n=t.username,r=t.password,s=t.phone,c=t.address,e.prev=2,e.next=5,tt({email:a,username:n,password:r,phone:s,address:c});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),console.log("Failed to create user: ",e.t0),e.abrupt("return",{isSuccess:!1,message:ct(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),dt={email:"",password:"",confirmPassword:"",username:"",phone:"",address:"",emailErr:"",passwordErr:"",confirmPasswordErr:"",usernameErr:"",phoneErr:"",addressErr:"",loading:!1,isStep1:!0},ut=function(e){var t=E(Object(N.a)({},dt)),a=Object(h.a)(t,2),r=a[0],s=a[1],c=e.className,i=e.visible,o=e.onClickCancel,l=r.email,d=r.password,u=r.confirmPassword,m=r.username,j=r.phone,f=r.address,b=r.emailErr,p=r.passwordErr,v=r.confirmPasswordErr,O=r.usernameErr,x=r.phoneErr,y=r.addressErr,C=r.loading,k=r.isStep1;Object(n.useEffect)((function(){i||s(Object(N.a)({},dt))}),[i]);var S=function(e,t){var a=Object(q.a)({},e,t);k?(w.a.assign(a,{emailErr:"",passwordErr:"",confirmPasswordErr:""}),s(a)):(w.a.assign(a,{usernameErr:"",phoneErr:"",addressErr:""}),s(a))},T=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=it(r)).finish){e.next=11;break}return a={loading:!1},s({loading:!0}),e.next=6,lt(r);case 6:(n=e.sent).isSuccess?(alert("Successfully creating user!"),o()):alert("Failed to create user: "+n.message),s(a),e.next=12;break;case 11:s(t);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)(ae.a,{className:"register-modal",destroyOnClose:!0,visible:i,footer:null,closable:!1,centered:!0,children:Object(D.jsxs)("div",{className:g()("register-modal-wrapper",c),children:[Object(D.jsx)(ie,{title:"Register step ".concat(k?"1":"2","/2"),onClick:o}),Object(D.jsx)("div",{className:"register-modal-main",children:k?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(te,{title:"Email",name:"email",value:l,onChange:S,placeholder:"Enter your email",errMes:b}),Object(D.jsx)(te,{title:"Password",name:"password",value:d,onChange:S,placeholder:"Enter your email",type:"PASSWORD",className:"mt-16",errMes:p}),Object(D.jsx)(te,{title:"Confirm password",name:"confirmPassword",value:u,onChange:S,placeholder:"Enter your confirm password",type:"PASSWORD",className:"mt-16",errMes:v})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(te,{title:"Username",name:"username",value:m,onChange:S,placeholder:"Enter your username",errMes:O}),Object(D.jsx)(te,{title:"Phone number",name:"phone",value:j,onChange:S,placeholder:"Enter your phone number",className:"mt-16",type:"NUMBER",errMes:x,allowLeadingZeros:!0}),Object(D.jsx)(te,{title:"Address",name:"address",value:f,onChange:S,placeholder:"Enter your address",className:"mt-16",errMes:y})]})}),Object(D.jsx)(re,{disabled:ot(r),leftTitle:k?"Cancel":"Back to step 1",rightTitle:k?"Next":"Finish",onClickLeftBtn:k?o:function(){s({isStep1:!0})},onClickRightBtn:T,loading:C})]})})};ut.defaultProps={className:"",visible:!1,onClickCancel:function(){}};var mt=ut,jt=function(e){var t=Object(b.g)(),a=Object(b.h)(),r=E({visibleLogin:!1,visibleRegister:!1}),s=Object(h.a)(r,2),c=s[0],i=s[1],o=e.className,l=c.visibleLogin,d=c.visibleRegister,u=function(){i({visibleLogin:!l})},m=function(){i({visibleRegister:!d})},j=R.a.getDataLogin(),f=j.isVerify,p=void 0===f||f,v=j.username;return Object(n.useEffect)((function(){w.a.isEmpty(e.login)&&w.a.isEmpty(R.a.getDataLogin())&&(console.log("No current user"),i({}))}),[e.login]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:g()("home-header",o),children:Object(D.jsx)("div",{className:"home-header-btns",children:v?Object(D.jsxs)(D.Fragment,{children:[!p&&Object(D.jsx)(B.a,{type:"link",onClick:function(){},className:"home-header-active-account-btn",children:"Activate account"}),Object(D.jsx)(B.a,{type:"link",onClick:function(){"/user"!==a.pathname&&t.push("/user")},className:"home-header-username-btn",children:v}),Object(D.jsx)(B.a,{type:"link",onClick:function(){"/history"!==a.pathname&&t.push("/history")},className:"home-header-username-btn",children:"History"}),Object(D.jsx)(B.a,{type:"link",onClick:function(){R.a.logout(),e.logoutRequest(),t.push("/acestore"),i({})},className:"home-header-logout-btn",children:"Logout"})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B.a,{type:"link",onClick:u,className:"home-header-login-btn",children:"Login"}),Object(D.jsx)(B.a,{type:"link",onClick:m,className:"home-header-register-btn",children:"Register"})]})})}),Object(D.jsx)(Ze,{visible:l,onClickCancel:u,loginRequest:e.loginRequest}),Object(D.jsx)(mt,{visible:d,onClickCancel:m})]})};jt.defaultProps={className:""};var ft={loginRequest:function(e){return{type:P.LOGIN_REQUEST,data:e}},logoutRequest:A},bt=Object(c.b)((function(e){return{login:e.login}}),ft)(jt),pt=a(350),ht=(a(317),function(e){Object(n.useEffect)((function(){}),[]);var t=e.loading,a=e.columns,r=e.className,s=e.rowKey,c=(e.name,e.totalData),i=e.onRowClick;return Object(D.jsx)(pt.a,{rowKey:s,className:g()(r,"antd-table"),dataSource:c,onRow:function(e,t){return{onClick:function(a){i(t,e)}}},pagination:!1,columns:a,loading:t})});ht.defaultProps={name:"",className:void 0,onRowClick:function(){},shouldHideNextButton:!1,fetchData:function(){},loading:!1,sorter:{},shouldShowAllData:!1,handleChangePage:function(){},isNoPagination:!1,page:1,sticky:!1};var vt=ht,Ot=a(210),gt=(a(323),function(e){var t=e.className;return Object(D.jsx)("div",{className:g()("loading",t),children:Object(D.jsx)(Ot.a,{})})});gt.defaultProps={className:""};var xt,Nt,yt=gt,wt=Object(xe.a)(xt||(xt=Object(ge.a)(["\n  mutation createAnyCustomerOrder($input: AnyCustomerOrderInput!) {\n    createAnyCustomerOrder(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Ct=function(){var e=Object(I.a)(U.a.mark((function e(t){var a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.mutate({mutation:wt,variables:t});case 3:return a=e.sent,n=null===a||void 0===a?void 0:a.data,r=n.createAnyCustomerOrder,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Et=Ct,kt=Object(xe.a)(Nt||(Nt=Object(ge.a)(["\n  mutation createOrder($input: [OrderInput]!) {\n    createOrder(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Dt=function(){var e=Object(I.a)(U.a.mark((function e(t){var a,n,r,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le();case 3:return a=e.sent,e.next=6,a.mutate({mutation:kt,variables:t});case 6:return n=e.sent,r=(null===n||void 0===n?void 0:n.data)||{},s=r.createOrder,e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),St=Dt,Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],a=1;return _.forEach(e,(function(e){_.forEach(e.data||[],(function(e){e.isBuy&&(t.push(Object(N.a)(Object(N.a)({},e),{},{index:a})),a+=1)}))})),t},Pt=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r,s,c,i=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:[],a=i.length>1&&void 0!==i[1]?i[1]:"",n=i.length>2&&void 0!==i[2]?i[2]:"",r=i.length>3&&void 0!==i[3]?i[3]:"",s=t.map((function(e){return{food:e.id,quantity:parseFloat(e.quantity.slice(0,3)),email:a,notes:n,status:"Pending",price:e.price,destination:r}})),console.log({sendingData:s,foodData:t}),e.prev=6,e.next=9,St({input:s});case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(6),console.log("Failed to create order: ",{error:e.t0}),e.abrupt("return",{isSuccess:!1,message:e.t0});case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r,s,c,i,o,l,d,u=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:[],a=u.length>1&&void 0!==u[1]?u[1]:{},n=a.email,r=a.username,s=a.address,c=a.phone,i=a.notes,o=a.destination,l=t.map((function(e){return{food:e.id,quantity:parseFloat(e.quantity.slice(0,3)),email:n,notes:i,status:"Pending",price:e.price,destination:o}})),d={orders:l,customer:{email:n,username:r,address:s,phone:c,password:c}},e.prev=6,e.next=9,Et({input:d});case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",{isSuccess:!1,message:e.t0});case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),Lt=(a(324),function(e){var t=Object(b.h)(),a=Object(b.g)(),n=E({foodData:Tt(t.state),anyCustomerVisible:!1,notes:"",destination:"",loading:!1}),r=Object(h.a)(n,2),s=r[0],c=r[1],i=e.className,o=s.foodData,l=s.anyCustomerVisible,d=s.notes,u=s.destination,m=s.loading,j=_e(t.state).total,f=R.a.getDataLogin(),p=f.address,v=f.phone,O=f.email,x=function(e,t){c(Object(q.a)({},e,t))},N=function(){var e=Object(I.a)(U.a.mark((function e(){var t,n,r,s=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},c({loading:!0}),e.next=4,Ft(o,t);case 4:n=e.sent,r={loading:!1},n.isSuccess?(alert("Successfully creating order!"),R.a.setFoodData(void 0),w.a.assign(r,{anyCustomerVisible:!1}),setTimeout((function(){a.push("/acestore")}),300)):alert("Failed to create order: ",n.message),c(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p&&v&&O){e.next=3;break}return c({anyCustomerVisible:!0}),e.abrupt("return");case 3:return c({loading:!0}),e.next=6,Pt(o,O,d,u);case 6:(t=e.sent).isSuccess?(alert("Successfully creating order!"),R.a.setFoodData(void 0),a.push("/acestore")):alert("Failed to create order: ",t.message),c({loading:!1});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsxs)("div",{className:g()("food-order",i),children:[Object(D.jsx)(bt,{}),Object(D.jsxs)("div",{className:"food-order-body",children:[Object(D.jsxs)("div",{className:"food-order-body-toper",children:[Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("span",{className:"b",children:"Payment Options:"}),Object(D.jsx)("span",{className:"ml-4",children:"Cash - When receiving"})]}),Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("span",{className:"b",children:"Total:"}),Object(D.jsx)("span",{className:"ml-4",children:rt(j,void 0,"")})]})]}),Object(D.jsxs)("div",{className:"food-order-body-toper",children:[Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("span",{className:"b",children:"Delivery:"}),Object(D.jsx)("span",{className:"ml-4",children:p})]}),Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("span",{className:"b",children:"Contact at:"}),Object(D.jsx)("span",{className:"ml-4",children:v})]})]}),O&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(te,{titleClassName:"b",title:"Destination",name:"destination",value:u,onChange:x,placeholder:"Enter your notes",className:"mt-16"}),Object(D.jsx)(te,{titleClassName:"b",title:"Notes",name:"notes",value:d,onChange:x,placeholder:"Enter your notes",className:"mt-16",type:"TEXTAREA"})]}),Object(D.jsxs)("div",{className:"food-order-body-btns",children:[Object(D.jsx)(B.a,{onClick:function(){a.push("/acestore")},children:"Back"}),Object(D.jsx)(B.a,{type:"primary",onClick:y,children:"Confirm"})]}),Object(D.jsx)(vt,{className:"mt-48",rowKey:"id",totalData:o,columns:[{title:"No.",dataIndex:"index"},{title:"Name",dataIndex:"name"},{title:"Price",dataIndex:"price",render:function(e){return rt(e,void 0,"")}},{title:"Quantity",dataIndex:"quantity"}]})]}),Object(D.jsx)(me,{visible:l,onClickCancel:function(){c({anyCustomerVisible:!l})},onClick:N}),m&&Object(D.jsx)(yt,{})]})});Lt.defaultProps={className:""};var Rt=Object(c.b)((function(e){return{login:e.login}}),{})(Lt),At=a(356),It=a(162),qt=a(85),Mt=function(e){var t=e.className,a=e.data,n=e.type,r=e.title,s=e.value,c=e.textClass,i=e.onChange,o=e.titleClassName,l=e.radioItemClassName,d=e.name,u=e.isObj,m=e.loading,j=e.disabled,f="mt18",b="",p=o;switch(n){case"QUESTION":f="mt8",b="question-item-normal",p="question-title";break;case"SCORE":b="score-ct",f="";break;case"BIG":b="big-margin";break;case"NONE":f="mt12",b="fw-normal"}return Object(D.jsxs)("div",{className:g()("radio-ct",t),children:[Object(D.jsx)(H,{title:r,className:p}),m?Object(D.jsx)("div",{children:Object(D.jsx)(Ot.a,{indicator:Object(D.jsx)(qt.a,{spin:!0})})}):Object(D.jsx)(It.a.Group,{onChange:function(e){return i(d,e.target.value)},value:s,disabled:j,children:u?w.a.map(a,(function(e,t){return Object(D.jsxs)("div",{className:g()("radio-item",l),children:[Object(D.jsx)(It.a,{value:e,className:g()(f,b,c,e.content?"fw-600":""),children:e.title}),e.content?Object(D.jsx)("div",{className:"radio-content",children:Object(D.jsx)("span",{children:e.content})}):null]},t)})):w.a.map(a,(function(e,t){return Object(D.jsx)(It.a,{value:e,children:e},e)}))})]})};Mt.defaultProps={name:"",className:"",textClass:"",titleClassName:"",radioItemClassName:"",onChange:function(){},data:[],type:"SCORE",title:"",value:void 0,isObj:!1,loading:!1,disabled:!1};var Ut,_t=Mt,Bt=Object(xe.a)(Ut||(Ut=Object(ge.a)(["\n  mutation changeOrderStatus($status: String!, $orderId: ID!) {\n    changeOrderStatus(status: $status, orderId: $orderId) {\n      isSuccess\n      message\n    }\n  }\n"]))),$t=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r,s,c=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,Le();case 4:return a=e.sent,e.next=7,a.mutate({mutation:Bt,variables:t});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.changeOrderStatus,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Gt=$t,Vt=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r,s=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",a=s.length>1&&void 0!==s[1]?s[1]:"",n={status:a,orderId:t},e.prev=3,e.next=6,Gt(n);case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(3),{isSuccess:!1,message:e.t0};case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),Kt=(a(325),function(e){var t=E({loading:!1}),a=Object(h.a)(t,2),n=a[0],r=a[1],s=e.visible,c=e.className,i=e.data,o=e.onClose,l=e.onUpdateFoodOrder,d=i.date,u=i.status,m=i.foodOrderId,j=i.notes,f=i.destination,b=n.loading,p=function(){var t=Object(I.a)(U.a.mark((function t(a,n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m&&n){t.next=2;break}return t.abrupt("return");case 2:return r({loading:!0}),t.prev=3,t.next=6,Vt(m,n);case 6:t.sent.isSuccess&&l(w.a.assign(e.data,{status:n})),r({loading:!1}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),r({loading:!1});case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,a){return t.apply(this,arguments)}}();return Object(D.jsx)(At.a,{title:"Food order",placement:"right",width:400,closeIcon:Object(D.jsx)(se.a,{className:"color-gray-9"}),onClose:o,visible:s,className:"food-order-drawer",maskClosable:!1,children:Object(D.jsxs)("div",{className:g()("food-order-drawer-wrapper",c),children:[Object(D.jsxs)("div",{className:"food-order-drawer-created-at",children:[Object(D.jsx)("span",{className:"b mr-4",children:"Created at: "}),Object(D.jsx)("span",{children:W()(d).format("HH:mm, DD/MM/YY")})]}),Object(D.jsxs)("div",{className:"food-order-drawer-total",children:[Object(D.jsx)("span",{className:"b mr-4",children:"Total: "}),Object(D.jsx)("span",{children:i.total||""})]}),Object(D.jsx)(_t,{data:ve,value:u,title:"Status:",titleClassName:"b pos-re",className:"mt-16 mb-16",onChange:p,loading:b,disabled:!e.isEditable}),Object(D.jsx)("div",{className:"mt-16",children:Object(D.jsx)("span",{className:"b",children:"Food list: "})}),w.a.map(i.data||[],(function(e,t){return Object(D.jsx)("div",{className:"food-order-drawer-row",children:"".concat(t+1,": ").concat(e.name," - Price: ").concat(rt(e.price,void 0,"")," - Quantity: ").concat(e.quantity)},t)})),Object(D.jsx)("div",{className:"mt-16",children:Object(D.jsx)("span",{className:"b",children:"Destination: "})}),Object(D.jsx)("div",{className:"food-order-drawer-notes",children:f||""}),Object(D.jsx)("div",{className:"mt-16",children:Object(D.jsx)("span",{className:"b",children:"Notes: "})}),Object(D.jsx)("div",{className:"food-order-drawer-notes",children:j||""})]})})});Kt.defaultProps={className:"",data:{},visible:!1,toggleClick:function(){},onClose:function(){},onUpdateFoodOrder:function(){},isEditable:!0};var Qt=Kt,Ht=(a(326),function(e){var t=e.className,a=e.cell,n="--pending";switch(a){case ve[0]:n="--pending";break;case ve[1]:n="--on-going";break;case ve[2]:n="--done";break;case ve[3]:n="--cancel"}return Object(D.jsx)("div",{className:g()("display-status",t),children:Object(D.jsx)("span",{className:n,children:a})})});Ht.defaultProps={className:"",cell:""};var Yt=Ht,Jt=(a(327),function(e){var t=E({foodOrderData:{}}),a=Object(h.a)(t,2),n=a[0],r=a[1],s=e.className,c=e.data,i=n.foodOrderData;return Object(D.jsxs)("div",{className:g()("admin-order-table",s),children:[0===c.length?Object(D.jsx)("div",{className:"no-data",children:"There is no data to display"}):Object(D.jsx)(vt,{className:"mt-16",rowKey:"index",totalData:c,columns:[{title:"Date",dataIndex:"date",render:function(e){return W()(e).format("HH:mm")}},{title:"Username",dataIndex:"username"},{title:"Total",dataIndex:"total"},{title:"Address",dataIndex:"address"},{title:"Phone number",dataIndex:"phone"},{title:"Status",dataIndex:"status",render:function(e){return Object(D.jsx)(Yt,{cell:e})}}],onRowClick:function(e,t){console.log({record:t}),r({foodOrderData:t})}}),Object(D.jsx)(Qt,{visible:!w.a.isEmpty(i),data:i,onClose:function(){r({foodOrderData:{}})},onUpdateFoodOrder:function(e){r({foodOrderData:e})},isEditable:e.isEditable})]})});Jt.defaultProps={className:"",data:[],date:void 0,fetchHistory:function(){},isShow:!1,status:"",notes:"",isEditable:!0};var Zt,Wt,Xt,zt,ea=Jt,ta=Object(xe.a)(Zt||(Zt=Object(ge.a)(["\n  {\n    id\n    title\n    name\n    rating\n    price\n    quantityType\n    createdAt\n  }\n"]))),aa=Object(xe.a)(Wt||(Wt=Object(ge.a)(["\n  {\n    id\n    food\n    quantity\n    createdAt\n    email\n    notes\n    status\n    price\n    destination\n  }\n"]))),na=Object(xe.a)(Xt||(Xt=Object(ge.a)(["\n  {\n    id\n    username\n    email\n    role\n    signUpDate\n    status\n    gender\n    address\n    phone\n    dob\n    isVerified\n  }\n"]))),ra=Object(xe.a)(zt||(zt=Object(ge.a)(["\n  query orderHistory($date: String!, $isAll: Boolean) {\n    orderHistory(date: $date, isAll: $isAll) {\n      food {\n        ...","\n      }\n      foodOrder {\n        ...","\n      }\n      user {\n        ...","\n      }\n    }\n  }\n"])),ta,aa,na),sa=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r,s,c=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,Le();case 4:return a=e.sent,e.next=7,a.query({query:ra,variables:t});case 7:return n=e.sent,r=(null===n||void 0===n?void 0:n.data)||{},s=r.orderHistory,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ca=sa,ia=function(e,t){var a,n,r,s;return{name:(null===e||void 0===e||null===(a=e.food)||void 0===a?void 0:a.name)||"",price:(null===e||void 0===e||null===(n=e.food)||void 0===n?void 0:n.price)||"",food:(null===e||void 0===e||null===(r=e.food)||void 0===r?void 0:r.id)||"",quantity:(null===e||void 0===e||null===(s=e.foodOrder)||void 0===s?void 0:s.quantity)||""}},oa=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r,s,c,i,o=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},a=t.currentDate,n=t.email,r={date:W()(a).format("DD/MM/YYYY"),email:n},e.next=5,ca(r);case 5:return s=e.sent,c=[],i=_.groupBy(s,(function(e){var t;return null===e||void 0===e||null===(t=e.foodOrder)||void 0===t?void 0:t.createdAt})),Object.keys(i).forEach((function(e,t){var a,n,r,s,o,l,d,u,m,j,f,b,p,h,v,O,g,x,N,y,w,C,E,k=_.map(i[e],(function(e,t){return ia(e)}));c.push({index:t,date:e,data:k,notes:(null===(a=i[e])||void 0===a||null===(n=a[0])||void 0===n||null===(r=n.foodOrder)||void 0===r?void 0:r.notes)||"",destination:(null===(s=i[e])||void 0===s||null===(o=s[0])||void 0===o||null===(l=o.foodOrder)||void 0===l?void 0:l.destination)||"",status:(null===(d=i[e])||void 0===d||null===(u=d[0])||void 0===u||null===(m=u.foodOrder)||void 0===m?void 0:m.status)||"",username:(null===(j=i[e])||void 0===j||null===(f=j[0])||void 0===f||null===(b=f.user)||void 0===b?void 0:b.username)||"",total:st(k),address:(null===(p=i[e])||void 0===p||null===(h=p[0])||void 0===h||null===(v=h.user)||void 0===v?void 0:v.address)||"",phone:(null===(O=i[e])||void 0===O||null===(g=O[0])||void 0===g||null===(x=g.user)||void 0===x?void 0:x.phone)||"",user:(null===(N=i[e])||void 0===N||null===(y=N[0])||void 0===y?void 0:y.user)||{},foodOrderId:(null===(w=i[e])||void 0===w||null===(C=w[0])||void 0===C||null===(E=C.foodOrder)||void 0===E?void 0:E.id)||""})})),e.abrupt("return",_.orderBy(c,[function(e){return W()(e.date).valueOf()}],["desc"]));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),la=(a(328),function(e){var t=E({data:[],currentDate:W()(),loading:!0}),a=Object(h.a)(t,2),r=a[0],s=a[1],c=e.className,i=r.currentDate,o=r.data,l=r.loading,d=function(){var t=Object(I.a)(U.a.mark((function t(){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=2;break}return t.abrupt("return");case 2:return s({loading:!0}),t.prev=3,t.next=6,oa({currentDate:i,isAll:e.isAll});case 6:a=t.sent,s({data:a,loading:!1}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),s({loading:!1});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){d()}),[i]);return Object(D.jsxs)("div",{className:g()("customer-orders",c),children:[Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)(z,{className:"customer-orders-cur-date",placeholder:"Choose date",value:i,onChange:function(e,t){s(Object(q.a)({},e,t))},name:"currentDate"}),Object(D.jsx)("div",{className:"customer-orders-date",children:W()(i||void 0).format("dddd, MMMM DD, YYYY")})]}),Object(D.jsx)(ea,{data:o,isEditable:e.isAll}),l&&Object(D.jsx)(yt,{})]})});la.defaultProps={className:"",isAll:!1};var da=la,ua=(a(329),function(e){Object(b.h)();var t=Object(b.g)(),a=e.className;return Object(n.useEffect)((function(){R.a.isSuccess()||(console.log({login:e.login,auth:R.a.isSuccess()}),t.push("/acestore"),setState({}))}),[e.login]),Object(D.jsxs)("div",{className:g()("history",a),children:[Object(D.jsx)(bt,{}),Object(D.jsx)("div",{className:"history-body",children:Object(D.jsx)(da,{isAll:!1})})]})});ua.defaultProps={className:""};var ma=Object(c.b)((function(e){return{login:e.login}}),{})(ua),ja=a(216),fa=(a(330),a.p+"static/media/star.90b70187.svg"),ba=a.p+"static/media/star-inactive.a4bed773.svg",pa=a(130),ha=(a(331),pa.a.Option),va=function(e){var t=Object(n.useRef)(void 0),a=e.className,r=e.placeholder,s=e.data,c=e.title,i=e.showSearch,o=e.defaultValue,l=e.isValueOutside,d=e.value,u=e.mode,m=e.suffixIcon,j=e.name,f=e.disabled,b=e.isObject;return Object(D.jsxs)("div",{className:g()("select-ct-wrapper",a),children:[Object(D.jsx)(H,{title:c}),Object(D.jsx)(pa.a,{getPopupContainer:function(e){return e.parentElement},disabled:f,ref:t,suffixIcon:m,mode:u,defaultValue:o,value:l?[]:b?(null===d||void 0===d?void 0:d.label)||void 0:d,showSearch:i,placeholder:r,optionFilterProp:"children",onChange:function(a){e.onChange(j,a),t.current.blur()},onSearch:i?function(t){e.onSearch(j,t)}:void 0,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:b?w.a.map(s,(function(e,t){return Object(D.jsx)(ha,{value:e.label,children:e.label},t)})):w.a.map(s,(function(e,t){return Object(D.jsx)(ha,{value:e,children:e},t)}))})]},"select-ct-wrapper-".concat(e.name))};va.defaultProps={className:void 0,title:"",placeholder:"Select...",data:[],onChange:function(){},onSearch:function(){},showSearch:!0,defaultValue:void 0,isValueOutside:!1,mode:void 0,value:[],suffixIcon:void 0,name:"",disabled:!1,isObject:!1};var Oa=va,ga=(a(332),function(e){var t=e.className,a=e.rating,n=e.onClick,r=e.isButton,s=null===n,c=s?"cur-not-allowed":"cur-pointer";return Object(D.jsx)("div",{className:g()("display-rating",t),children:r?Object(D.jsxs)(D.Fragment,{children:[w.a.map(w.a.range(a),(function(e,t){return Object(D.jsx)("button",{className:"bas-btn ".concat(c),onClick:function(){return n(t+1)},disabled:s,children:Object(D.jsx)("img",{src:fa,alt:"Star ic"})},e)})),w.a.map(w.a.range(5-a),(function(e,t){return Object(D.jsx)("button",{className:"bas-btn ".concat(c),onClick:function(){return n(a+t+1)},disabled:s,children:Object(D.jsx)("img",{src:ba,alt:"Star inactive ic"})},e)}))]}):Object(D.jsxs)(D.Fragment,{children:[w.a.map(w.a.range(a),(function(e){return Object(D.jsx)("img",{src:fa,alt:"Star ic",className:"mr-2"},e)})),w.a.map(w.a.range(5-a),(function(e,t){return Object(D.jsx)("img",{src:ba,alt:"Star ic",className:4-a!==e?"mr-2":""},t)}))]})})});ga.defaultProps={className:"",onClick:function(){},rating:1,isButton:!1};var xa=ga,Na=function(e){var t=Object(n.useRef)(void 0),a=E({searchName:"",rating:0,kind:void 0,minPrice:void 0,maxPrice:void 0}),r=Object(h.a)(a,2),s=r[0],c=r[1],i=e.className,o=e.onFilterFood,l=function(e,t){c(Object(q.a)({},e,t))},d=s.searchName,u=s.rating,m=s.kind,j=s.minPrice,f=s.maxPrice;return k((function(){t.current&&clearTimeout(t.current),t.current=setTimeout((function(){o(s)}),200)}),[d,u,m,j,f]),Object(D.jsxs)("div",{className:g()("filter-block",i),children:[Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("div",{className:"filter-block-title",children:"Search:"}),Object(D.jsx)(te,{name:"searchName",value:d,onChange:l,className:"filter-block-search"}),Object(D.jsx)("div",{className:"filter-block-star",children:"Stars:"}),Object(D.jsx)(xa,{rating:u,isButton:!0,onClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e!==s.rating?c({rating:e}):c({rating:0})},className:"filter-block-star-dis"})]}),Object(D.jsxs)("div",{className:"filter-block-row",children:[Object(D.jsx)(Oa,{name:"kind",value:m,onChange:l,className:"w-160",title:"Kind of food:",data:R.a.getKindOfFood()||[]}),Object(D.jsx)(Oa,{name:"minPrice",value:j,onChange:l,title:"Min price:",className:"ml-48 w-160",type:"NUMBER",data:w.a.filter(Oe,(function(e){return!f||e<f}))}),Object(D.jsx)(Oa,{name:"maxPrice",value:f,onChange:l,title:"Max price:",className:"ml-48 w-160",type:"NUMBER",data:w.a.filter(Oe,(function(e){return!j||e>j}))})]})]})};Na.defaultProps={className:"",onFilterFood:function(){}};var ya=Na,wa=(a(333),function(e){var t=e.visible,a=e.className,n=e.toggleClick,r=(e.loading,e.data),s=r.name,c=r.price,i=r.image,o=r.rating;return Object(D.jsx)(ae.a,{className:"food-info-modal",visible:t,closable:!1,footer:null,destroyOnClose:!0,centered:!0,onCancel:n,children:Object(D.jsxs)("div",{className:g()("food-info-modal-wrapper",a),children:[Object(D.jsx)(ie,{title:s,onClick:n}),Object(D.jsxs)("div",{className:"food-info-modal-main",children:[Object(D.jsx)("img",{src:i,alt:"Food card img"}),Object(D.jsxs)("div",{className:"fr-sb mt-16",children:[Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("span",{className:"b",children:"Rating:"}),Object(D.jsx)(xa,{rating:o,className:"ml-4"})]}),Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("span",{className:"b",children:"Price:"}),Object(D.jsx)("span",{className:"ml-4",children:rt(c,void 0,"")})]})]})]})]})})});wa.defaultProps={className:"",data:{},loading:!1,visible:!1,toggleClick:function(){}};var Ca=wa,Ea=(a(334),function(e){var t=E({name:e.name,price:e.price,rating:e.rating,isBuy:e.isBuy,quantity:e.quantity?e.quantity:e.quantityType===je?be[0]:pe[0],quantityType:e.quantityType,visibleFoodInfo:!1}),a=Object(h.a)(t,2),n=a[0],r=a[1],s=e.className,c=e.quantityType,i=e.image,o=e.unit,l=e.onChangeCart,d=n.name,u=n.price,m=n.rating,j=n.isBuy,f=n.quantity,b=n.visibleFoodInfo;k((function(){l(n)}),[j,f]),k((function(){r({isBuy:e.isBuy})}),[e.isBuy]);var p=function(){r({isBuy:!j})},v=function(){r({visibleFoodInfo:!b})};return Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:g()("food-card",j&&"food-card-active",s),children:[i?Object(D.jsx)("div",{className:"food-card-img",onClick:p,children:Object(D.jsx)("img",{src:i,alt:"Food card img",className:"food-card-img-dis"})}):Object(D.jsx)("div",{className:"food-card-img",onClick:p}),Object(D.jsxs)("div",{className:"food-card-info",children:[Object(D.jsx)("div",{className:"food-card-info-name",children:d}),Object(D.jsxs)("div",{className:"fr-sb",children:[Object(D.jsxs)("div",{className:"food-card-info-col",children:[Object(D.jsx)("div",{className:"food-card-info-col-price",children:rt(u,o)}),Object(D.jsx)(Oa,{disabled:!j,name:"quantity",showSearch:!1,className:"mt-4",value:f,onChange:function(e,t){r(Object(q.a)({},e,t))},data:c===je?be:pe})]}),Object(D.jsxs)("div",{className:"food-card-info-col",children:[Object(D.jsx)(xa,{rating:m,className:"food-card-info-col-rating"}),Object(D.jsx)(B.a,{className:"mt-10",onClick:v,children:"More info"})]})]})]}),j&&Object(D.jsx)("div",{className:"food-card-isbuy",children:"Buy"})]}),Object(D.jsx)(Ca,{visible:b,toggleClick:v,data:{name:d,rating:m,price:u,image:i}})]})});Ea.defaultProps={className:"",name:"",price:0,rating:3,isBuy:!1,quantity:"",quantityType:je,image:"",unit:"VND",onChangeCart:function(){}};var ka=Ea,Da=function(e){var t=Object(n.useRef)(void 0),a=Object(n.useRef)(void 0),s=E({isShow:e.isShow}),c=Object(h.a)(s,2),i=c[0],o=c[1],l=e.className,d=e.data,u=e.title,m=e.onChangeCart,j=i.isShow;Object(n.useEffect)((function(){if(!j){var e=Object(r.findDOMNode)(t.current);Xe()(e).slideUp("slow")}}),[]);return Object(D.jsxs)("div",{className:g()("food-table",l),children:[Object(D.jsx)("div",{className:"food-table-title",children:Object(D.jsx)("span",{children:u})}),Object(D.jsx)("div",{ref:t,children:Object(D.jsx)("div",{className:"food-table-wrap",children:w.a.map(d,(function(e,t){return Object(D.jsx)(ka,Object(N.a)(Object(N.a)({},e),{},{onChangeCart:function(e){return m(e,u)},className:"mr-24 mt-24"}),t)}))})}),Object(D.jsx)("div",{className:"food-table-ender"}),Object(D.jsx)(B.a,{type:"link",onClick:function(){a.current&&clearTimeout(a.current),a.current=setTimeout((function(){var e=Object(r.findDOMNode)(t.current);e&&Xe()(e).slideToggle("slow"),o({isShow:!j})}),200)},className:"food-table-show-btn",children:j?"Hide":"Show"})]})};Da.defaultProps={className:"",data:[],title:"",onChangeCart:function(){},isShow:!1};var Sa=Da,Ta=function(e){var t=e.className,a=e.total,n=e.onClickBuy,r=e.onClickReset;return Object(D.jsxs)("div",{className:g()("home-total",t),children:[Object(D.jsxs)("div",{className:"fr-sb",children:[Object(D.jsx)("div",{className:"home-total-title",children:"Total:"}),Object(D.jsx)(B.a,{type:"primary",danger:!0,onClick:r,disabled:!a,children:"Reset cart"})]}),Object(D.jsx)("div",{className:"home-total-price",children:rt(a,void 0,"")}),Object(D.jsx)(B.a,{block:!0,type:"primary",onClick:n,disabled:!a,children:"Buy now"})]})};Ta.defaultProps={className:"",total:0,onClickBuy:function(){},onClickReset:function(){}};var Pa=Ta,Fa=function(e){var t=Object(b.g)(),a=E({foodData:0!==R.a.getFoodData().length?R.a.getFoodData():[],arrImages:[],loading:!0,rawFoodData:0!==R.a.getFoodData().length?R.a.getFoodData():[]}),r=Object(h.a)(a,2),s=r[0],c=r[1],i=function(){var e=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qe();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:t=e.t0,c({foodData:t,rawFoodData:t,loading:!1}),e.next=13;break;case 10:e.prev=10,e.t1=e.catch(0),c({loading:!1});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){0===R.a.getFoodData().length?i():c({loading:!1})}),[]);var o=e.className,l=s.foodData,d=s.loading,u=_e(l),m=u.cartTags,j=u.total,f=function(){var e=w.a.cloneDeep(l);w.a.forEach(e,(function(e){w.a.forEach(e.data||[],(function(e){w.a.assign(e,{isBuy:!1})}))})),R.a.setFoodData(void 0),c({foodData:e})},p=function(){t.push({pathname:"/food-order",state:l}),R.a.setFoodData(l)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log({item:e});var a=w.a.find(l,(function(e){return e.title===t})),n=a.data,r=w.a.find(n,(function(t){return t.name===e.name}));w.a.assign(r,Object(N.a)({},e)),console.log({foodData:l}),R.a.setFoodData(l),c({foodData:l})},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c({foodData:[]}),setTimeout((function(){var t=Be(e,s.rawFoodData);c({foodData:w.a.cloneDeep(t)})}),1)};return Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:g()("home-body",o),children:[Object(D.jsxs)("div",{className:"home-body-toper",children:[Object(D.jsx)(ya,{onFilterFood:O}),Object(D.jsx)(Pa,{className:"home-body-toper-block-3",total:j,onClickReset:f,onClickBuy:p})]}),Object(D.jsxs)("div",{className:"home-body-main",children:[0!==m.length&&Object(D.jsxs)("div",{className:"home-body-cart-tag animation-fadein-2s",children:[Object(D.jsx)("div",{className:"home-body-cart-tag-title",children:Object(D.jsx)("span",{children:"Your cart:"})}),w.a.map(m,(function(e,t){return Object(D.jsx)(ja.a,{className:"home-body-cart-tag-item",color:"orange",children:e},t)}))]}),w.a.map(l,(function(e,t){return 0!==e.data.length&&e.title&&Object(D.jsx)(Sa,{className:"animation-fadein-2s",title:e.title,data:e.data,onChangeCart:v,isShow:0===t},t)}))]})]}),d&&Object(D.jsx)(yt,{})]})};Fa.defaultProps={className:""};var La=Fa,Ra=function(e){var t=e.className;return Object(D.jsxs)("div",{className:g()("home-footer",t),children:[Object(D.jsxs)("div",{className:"home-footer-contact",children:[Object(D.jsx)("div",{className:"b",children:"Contacts"}),Object(D.jsx)("div",{className:"mt-2",children:"tttriet1997@gmail.com"}),Object(D.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100015087697713",className:"mt-2 fs-16",target:"blank",children:"Facebook"})]}),Object(D.jsxs)("div",{className:"home-footer-address",children:[Object(D.jsx)("div",{className:"b",children:"Address"}),Object(D.jsx)("div",{className:"mt-2",children:"329 L\xea V\u0103n L\u01b0\u01a1ng, District.7, HCM city."}),Object(D.jsx)("div",{className:"mt-2",children:"(+84) 819 541 897 (Zalo)"})]}),Object(D.jsx)("div",{className:"home-footer-copyright",children:"\xa9 2021 - Acestore"})]})};Ra.defaultProps={className:""};var Aa=Ra,Ia=function(e){var t=e.className;return Object(D.jsxs)("div",{className:g()("home",t),children:[Object(D.jsx)(bt,{}),Object(D.jsx)(La,{}),Object(D.jsx)(Aa,{})]})};Ia.defaultProps={className:""};var qa=Ia,Ma=a(351),Ua=a(358),_a=(a(335),{image:void 0,name:"",nameErr:"",price:"",id:"",priceErr:"",title:"",titleErr:"",rating:1,quantityType:void 0,quanityTypeErr:"",displayingName:void 0}),Ba=function(e){var t=Object(n.useRef)([]),a=E(Object(N.a)({},_a)),r=Object(h.a)(a,2),s=r[0],c=r[1],i=e.className,o=e.index,l=e.onChangeFood,d=e.onDeleteFood,u=e.type,m=s.image,j=s.name,f=s.nameErr,b=s.price,p=s.priceErr,v=s.title,O=s.titleErr,x=s.rating,y=s.quantityType,w=s.quanityTypeErr,C=s.displayingName,k=s.id,S="".concat(u,"-img-id-").concat(o),T="ADD"===u,P="DELETE"===u,F=P?"cur-not-allowed":"cur-pointer";Object(n.useEffect)((function(){T||(t.current=R.a.getMenu())}),[]);var L=function(){var e=_.find(t.current,(function(e){return e.title+"."+e.name===C}));_.isEmpty(e)||c(Object(N.a)(Object(N.a)({},e),{},{quantityType:he[e.quantityType===je?0:1]}))};Object(n.useEffect)((function(){L()}),[C]),Object(n.useEffect)((function(){l(o,{image:m,name:j,price:b,title:v,rating:x,quantityType:y,displayingName:C,id:k})}),[m,j,b,v,x,y,C]);var A=function(e,t){var a;c((a={},Object(q.a)(a,e,t),Object(q.a)(a,"nameErr",""),Object(q.a)(a,"priceErr",""),Object(q.a)(a,"titleErr",""),Object(q.a)(a,"quanityTypeErr",""),a))},M=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r,s=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.length>0&&void 0!==s[0]?s[0]:{},n=null===a||void 0===a||null===(t=a.target)||void 0===t?void 0:t.files[0]){e.next=4;break}return e.abrupt("return");case 4:(r=new FileReader).readAsDataURL(n),r.onloadend=Object(I.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.result,c({image:t});case 2:case"end":return e.stop()}}),e)})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=document.getElementById(S);e&&e.click()};return Object(D.jsxs)("div",{className:g()("add-food",i),children:[!T&&Object(D.jsx)(Oa,{title:"Food",name:"displayingName",value:C,onChange:A,placeholder:"Select food name",data:_.map(R.a.getMenu(),(function(e){return e.title+"."+e.name})),className:"mb-16"}),(C||T)&&Object(D.jsxs)("div",{className:"add-food-row",children:[Object(D.jsxs)("div",{className:"",children:[m?Object(D.jsx)("img",{src:m,alt:"Food card img",className:"food-card-img ".concat(F),onClick:$}):Object(D.jsxs)("div",{className:"food-card-img ".concat(F),onClick:$,children:[Object(D.jsx)(Ua.a,{}),Object(D.jsx)("div",{className:"food-card-img-text",children:Object(D.jsx)("span",{children:"Upload image"})})]}),Object(D.jsx)("input",{id:S,type:"file",onChange:M,className:"dis-none",accept:"image/png, .jpeg, .jpg, .webp",disabled:P}),Object(D.jsx)(te,{className:"mt-16",title:"Food name",name:"name",value:j,onChange:A,placeholder:"Enter your name",errMes:f,disabled:P})]}),Object(D.jsxs)("div",{className:"add-food-name-price",children:[Object(D.jsxs)("div",{className:"fr-sb",children:[Object(D.jsx)(B.a,{danger:!0,onClick:function(){L()},children:"Reset"}),0!==o&&Object(D.jsx)(B.a,{onClick:function(){d(o)},children:Object(D.jsx)(se.a,{})})]}),Object(D.jsx)(Oa,{className:"mt-16",title:"Kind of quanity",name:"quantityType",value:y,onChange:A,placeholder:"Enter your quanity",errMes:w,data:he,disabled:P}),Object(D.jsx)(te,{className:"mt-16",title:"Food price",name:"price",value:b,onChange:A,placeholder:"Enter your price",errMes:p,type:"NUMBER",disabled:P}),Object(D.jsx)(te,{className:"mt-16",title:"Kind of food",name:"title",value:v,onChange:A,placeholder:"Enter kind of food",errMes:O,disabled:P}),Object(D.jsx)(H,{title:"Rating",className:"mt-16"}),Object(D.jsx)(xa,{rating:x,isButton:!0,onClick:P?null:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e===s.rating||c({rating:e})}})]})]})]})};Ba.defaultProps={className:"",index:0,data:{},onChangeFood:function(){},onDeleteFood:function(){},type:"ADD"};var $a,Ga,Va,Ka=Ba,Qa=Object(xe.a)($a||($a=Object(ge.a)(["\n  mutation addFood($input: [AddFoodInput]!) {\n    addFood(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Ha=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r,s,c=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,Le();case 4:return a=e.sent,e.next=7,a.mutate({mutation:Qa,variables:t});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.addFood,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Ya=Ha,Ja=Object(xe.a)(Ga||(Ga=Object(ge.a)(["\n  mutation deleteFood($input: [ID]!) {\n    deleteFood(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),Za=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r,s,c=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,Le();case 4:return a=e.sent,e.next=7,a.mutate({mutation:Ja,variables:t});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.deleteFood,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),Wa=Za,Xa=Object(xe.a)(Va||(Va=Object(ge.a)(["\n  mutation updateFood($input: [UpdateFoodInput]!) {\n    updateFood(input: $input) {\n      isSuccess\n      message\n    }\n  }\n"]))),za=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r,s,c=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.prev=1,e.next=4,Le();case 4:return a=e.sent,e.next=7,a.mutate({mutation:Xa,variables:t});case 7:return n=e.sent,r=null===n||void 0===n?void 0:n.data,s=r.updateFood,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),en=za,tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e.quantityType===he[0]?je:fe,n={title:e.title,name:e.name,rating:e.rating,price:parseFloat(e.price),quantityType:a,image:e.image};return t&&w.a.assign(n,{id:t}),n},an=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a,n,r,s,c,i,o=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.length>0&&void 0!==o[0]?o[0]:[],a=o.length>1&&void 0!==o[1]?o[1]:"ADD",n="ADD"===a,r="EDIT"===a,console.log({food:t}),s={},e.t0=a,e.next="ADD"===e.t0||"EDIT"===e.t0?9:11;break;case 9:return w.a.assign(s,{input:w.a.map(t,(function(e){return tn(e,n?null:e.id)}))}),e.abrupt("break",13);case 11:return w.a.assign(s,{input:w.a.map(t,(function(e){return e.id}))}),e.abrupt("break",13);case 13:return console.log({sendingData:s}),e.prev=14,c=n?Ya:r?en:Wa,e.next=18,c(s);case 18:return i=e.sent,e.abrupt("return",i);case 22:return e.prev=22,e.t1=e.catch(14),e.abrupt("return",{isSuccess:!1,message:e.t1});case 25:case"end":return e.stop()}}),e,null,[[14,22]])})));return function(){return e.apply(this,arguments)}}(),nn=(a(336),function(e){var t=E({foodList:[void 0],loading:!1}),a=Object(h.a)(t,2),n=a[0],r=a[1],s=n.foodList,c=n.loading,i=e.className,o=e.type,l="ADD"===o,d="EDIT"===o,u="DELETE"===o,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s[e]=t,r({foodList:s})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;s.splice(e,1),console.log({onDeleteFood:s,index:e}),r({foodList:s})},f=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({loading:!0}),e.next=3,an(s,o);case 3:if(t=e.sent,a={loading:!1},!t.isSuccess){e.next=13;break}return alert(l?"Successfully adding new food!":d?"Successfully editting food!":"Successfully deleting food!"),e.next=9,qe();case 9:w.a.assign(a,{foodList:[void 0]}),r({foodList:[]}),e.next=14;break;case 13:alert(l?"Failed to add new food: ":d?"Failed to edit food: ":"Failed to delete food: ",t.message);case 14:setTimeout((function(){r(a)}),200);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!e||0===(null===e||void 0===e?void 0:e.length)||!e[0]||!!w.a.find(e,(function(e){return!e||!e.name||!e.price||!e.title||!e.quantityType||!e.image&&!t}))}(s,u);return Object(D.jsxs)("div",{className:g()("handle-change-food",i),children:[Object(D.jsx)("div",{className:"handle-change-food-add-food",children:w.a.map(s,(function(e,t){return Object(D.jsx)(Ka,{index:t,data:e,onChangeFood:m,onDeleteFood:j,className:"animation-fadein-1s",type:o},t)}))}),Object(D.jsxs)("div",{className:"handle-change-food-add-btns",children:[Object(D.jsx)(B.a,{type:"dashed",onClick:function(){s.push(void 0),r({foodList:s})},disabled:b||c,children:l?"New food":"Other food"}),Object(D.jsx)(B.a,{type:"primary",disabled:b,onClick:f,loading:c,children:l?"Add food":d?"Edit food":"Delete food"})]}),c&&Object(D.jsx)(yt,{})]})});nn.defaultProps={className:"",type:"ADD"};var rn=nn,sn=(a(337),Ma.a.TabPane),cn="ADD_FOOD",on="EDIT_FOOD",ln="DELETE_FOOD",dn="FOOD_ORDER",un="USER_PROFILE",mn=function(e){var t=Object(b.g)(),a=E({activeTab:un}),r=Object(h.a)(a,2),s=r[0],c=r[1],i=e.className,o=s.activeTab,l="Admin"===R.a.getRole(),d=R.a.getDataLogin(),u=d.email,m=d.username,j=d.phone,f=d.address,p=(d.notes,d.role);Object(n.useEffect)((function(){R.a.isSuccess()||(t.push("/acestore"),c({}))}),[e.login]);return Object(D.jsxs)("div",{className:g()("user",i),children:[Object(D.jsx)(bt,{}),Object(D.jsx)("div",{className:"user-body",children:Object(D.jsxs)(Ma.a,{activeKey:o,tabPosition:"top",onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c({activeTab:e})},className:"mt-12",children:[Object(D.jsx)(sn,{tab:Object(D.jsx)("div",{className:"user-body-title",children:"User profile"}),children:Object(D.jsxs)("div",{className:"user-body-profile",children:[Object(D.jsxs)("div",{className:"fr-sb",children:[Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("span",{className:"b mr-4",children:"Email:"}),Object(D.jsx)("span",{children:u})]}),Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("span",{className:"b mr-4",children:"Username:"}),Object(D.jsx)("span",{children:m})]}),Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("span",{className:"b mr-4",children:"Phone:"}),Object(D.jsx)("span",{children:j})]})]}),Object(D.jsxs)("div",{className:"fr-sb",children:[Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("span",{className:"b mr-4",children:"Address:"}),Object(D.jsx)("span",{children:f})]}),Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("span",{className:"b mr-4",children:"Role:"}),Object(D.jsx)("span",{children:p||"Customer"})]})]})]})},un),l&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(sn,{tab:Object(D.jsx)("div",{className:"user-body-title",children:"Add food"}),children:Object(D.jsx)(rn,{})},cn),Object(D.jsx)(sn,{tab:Object(D.jsx)("div",{className:"user-body-title",children:"Edit food"}),children:Object(D.jsx)(rn,{type:"EDIT"})},on),Object(D.jsx)(sn,{tab:Object(D.jsx)("div",{className:"user-body-title",children:"Delete food"}),children:Object(D.jsx)(rn,{type:"DELETE"})},ln),Object(D.jsx)(sn,{tab:Object(D.jsx)("div",{className:"user-body-title",children:"Food orders"}),children:Object(D.jsx)(da,{isAll:!0})},dn)]})]})})]})};mn.defaultProps={className:""};var jn=Object(c.b)((function(e){return{login:e.login}}),{})(mn),fn=function(e){var t=Object(b.g)();Object(n.useEffect)((function(){window.onbeforeunload=function(){},window.onload=function(){e.reloadPageRequest()}}),[]);var a,r,s,c=Object(n.useCallback)((function(){alert(L),R.a.logout(),e.logoutRequest(),t.push("/acestore")}),[]);return a=P.LOGOUT_REQUEST,r=c,s=[],Object(n.useEffect)((function(){if(a&&r){var e=C.addListener(a,r);return function(){e.remove()}}}),[a].concat(Object(x.a)(s))),Object(D.jsx)("main",{className:"div-root",children:Object(D.jsxs)(p.a,{children:[Object(D.jsx)(T,{}),Object(D.jsxs)(b.d,{children:[Object(D.jsx)(b.b,{exact:!0,path:"/acestore",name:"Home",component:qa}),Object(D.jsx)(b.b,{exact:!0,path:"/history",name:"Home",component:ma}),Object(D.jsx)(b.b,{exact:!0,path:"/user",name:"Home",component:jn}),Object(D.jsx)(b.b,{exact:!0,path:"/food-order",name:"Food Order",component:Rt}),Object(D.jsx)(b.a,{path:"/",to:{pathname:"/acestore"}})]})]})})};fn.defaultProps={};var bn={reloadPageRequest:function(){return{type:P.RELOAD_PAGE_REQUEST}},logoutRequest:A},pn=Object(c.b)((function(e){return{isLoading:e.isLoading,logoutRequest:f.a.func.isRequired}}),bn)(fn),hn=(a(338),a(339),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(D.jsx)(pn,{})}}]),a}(n.Component)),vn=hn,On=a(99),gn=a(213),xn={loading:{},login:{},bookings:[],checkins:[],foodMasterData:[]},Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn.login,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.LOGIN_COMPLETE:return t.data;case P.LOGOUT_COMPLETE:return t;default:return e}},yn=Object(On.b)({login:Nn});var wn=function(e,t){return t.type===P.LOGOUT_REQUEST?(console.log("heare"),R.a.logout(),xn):yn(e,t)},Cn=a(116),En=U.a.mark(Dn),kn=U.a.mark(Sn);function Dn(){var e,t,a,n;return U.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=!0;case 1:if(!e){r.next=12;break}return r.next=4,Object(Cn.c)(P.LOGIN_REQUEST);case 4:return t=r.sent,a=t.data,n={isSuccess:!0,user:w.a.cloneDeep(a.user),token:a.token},R.a.login(n),r.next=10,Object(Cn.b)({type:P.LOGIN_COMPLETE,data:n});case 10:r.next=1;break;case 12:case"end":return r.stop()}}),En)}function Sn(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Cn.a)(Dn);case 2:case"end":return e.stop()}}),kn)}var Tn=U.a.mark(Pn);function Pn(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Cn.a)(Sn);case 2:case"end":return e.stop()}}),Tn)}var Fn=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),Ln=function(){var e=Object(gn.a)();return Object(N.a)(Object(N.a)({},Object(On.d)(wn,Fn,Object(On.a)(e))),{},{runSaga:e.run(Pn)})}();i.sessionService.initSessionService(Ln),s.a.render(Object(D.jsx)(c.a,{store:Ln,children:Object(D.jsx)(vn,{})}),document.getElementById("root")),o()}},[[340,1,2]]]);
//# sourceMappingURL=main.4fb15216.chunk.js.map